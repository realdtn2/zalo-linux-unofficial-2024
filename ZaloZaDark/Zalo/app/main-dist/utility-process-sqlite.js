__ZaBUNDLENAME__="utility-process-sqlite",__SCRIPT_TYPE__="utility-process",function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({"++DX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upperCase=t.localeUpperCase=void 0;var r={tr:{regexp:/[\u0069]/g,map:{i:"Ä°"}},az:{regexp:/[\u0069]/g,map:{i:"Ä°"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"iÌ‡":"I","jÌ‡":"J","Ä¯Ì‡":"Ä®","iÌ‡Ì€":"ÃŒ","iÌ‡Ì":"Ã","iÌ‡Ìƒ":"Ä¨"}}};function i(e){return e.toUpperCase()}t.localeUpperCase=function(e,t){var n=r[t.toLowerCase()];return i(n?e.replace(n.regexp,(function(e){return n.map[e]})):e)},t.upperCase=i},"+2Bm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF"),i=n("qAY7"),o="sentry-",s=/^sentry-/,a=8192;function c(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}t.BAGGAGE_HEADER_NAME="baggage",t.MAX_BAGGAGE_STRING_LENGTH=a,t.SENTRY_BAGGAGE_KEY_PREFIX=o,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=s,t.baggageHeaderToDynamicSamplingContext=function(e){if(!r.isString(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...c(t)})),{});else{if(!e)return;t=c(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(s)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===r?o:`${e},${o}`;return s.length>a?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${o}${t}`]=n),e)),{}))}},"+6XX":function(e,t,n){var r=n("y1pI");e.exports=function(e){return r(this.__data__,e)>-1}},"+70+":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("CzCL"),o=n("Ngr4"),s=n("/JRK"),a=4,c=100;class u{constructor(e,t=new o.Scope,n=a){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=o.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:r.uuid4(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)})),n}captureMessage(e,t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:r.uuid4(),o=new Error(e);return this._withClient(((r,s)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},s)})),i}captureEvent(e,t){const n=t&&t.event_id?t.event_id:r.uuid4();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=c}=i.getOptions&&i.getOptions()||{};if(s<=0)return;const a={timestamp:r.dateTimestampInSeconds(),...e},u=o?r.consoleSandbox((()=>o(a,t))):a;null!==u&&(i.emit&&i.emit("beforeAddBreadcrumb",u,t),n.addBreadcrumb(u,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=d(this);try{e(this)}finally{d(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&s.closeSession(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:a=i.DEFAULT_ENVIRONMENT}=n&&n.getOptions()||{},{userAgent:c}=r.GLOBAL_OBJ.navigator||{},u=s.makeSession({release:o,environment:a,user:t.getUser(),...c&&{userAgent:c},...e}),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&s.updateSession(l,{status:"exited"}),this.endSession(),t.setSession(u),u}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=l().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function l(){return r.GLOBAL_OBJ.__SENTRY__=r.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},r.GLOBAL_OBJ}function d(e){const t=l(),n=h(t);return y(t,e),n}function f(e=l()){return p(e)&&!h(e).isOlderThan(a)||y(e,new u),h(e)}function p(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function h(e){return r.getGlobalSingleton("hub",(()=>new u),e)}function y(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}t.API_VERSION=a,t.Hub=u,t.ensureHubOnCarrier=function(e,t=f()){if(!p(e)||h(e).isOlderThan(a)){const n=t.getStackTop();y(e,new u(n.client,o.Scope.clone(n.scope)))}},t.getCurrentHub=function(){const e=l();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return f(e)},t.getHubFromCarrier=h,t.getMainCarrier=l,t.makeMain=d,t.runWithAsyncContext=function(e,t={}){const n=l();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()},t.setAsyncContextStrategy=function(e){const t=l();t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.acs=e},t.setHubOnCarrier=y},"+B3J":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],o=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];class s{static __initStatic(){this.id="InboundFilters"}__init(){this.name=s.id}constructor(e={}){this._options=e,s.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(s);if(t){const r=n.getClient(),i=r?r.getOptions():{};return c(e,a(t._options,i))?null:e}}return e};n.id=this.name,e(n)}}function a(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:i],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:o],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function c(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(e.type||!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception){const{values:n}=e.exception;try{const{type:e="",value:t=""}=n&&n[n.length-1]||{};return[`${t}`,`${e}: ${t}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error(`Cannot extract message for event ${r.getEventDescription(e)}`),[]}}return[]}(e).some((e=>r.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${r.getEventDescription(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=u(e);return!!n&&r.stringMatchesSomePattern(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${u(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=u(e);return!n||r.stringMatchesSomePattern(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${r.getEventDescription(e)}.\nUrl: ${u(e)}`),!0)}function u(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error(`Cannot extract url for event ${r.getEventDescription(e)}`),null}}s.__initStatic(),t.InboundFilters=s,t._mergeOptions=a,t._shouldDropEvent=c},"+ExH":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("oRsZ"),i=n("IpiK"),o=n("d04y"),s=n("pRxM"),a=n("b3Jv"),c=n("4IGy"),u=n("xS/Y"),l=n("rdC+"),d=n("pP8i"),f=n("75G/");const p={Core:r.a.schema,MsgInfo:i.a.schema,Qos:o.a.schema,Reaction:s.a.schema,Search:a.a.schema,Storage:c.a.schema,Res:u.a.schema,SecureLocalstorage:l.a.schema,ZLog:d.a.schema,Media:f.a.schema};r.a,i.a,o.a,s.a,a.a,c.a,u.a,l.a,d.a,f.a},"+IkF":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=Object.prototype.toString;function r(e,t){return n.call(e)===`[object ${t}]`}function i(e){return r(e,"Object")}function o(e,t){try{return e instanceof t}catch(n){return!1}}t.isDOMError=function(e){return r(e,"DOMError")},t.isDOMException=function(e){return r(e,"DOMException")},t.isElement=function(e){return"undefined"!=typeof Element&&o(e,Element)},t.isError=function(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return o(e,Error)}},t.isErrorEvent=function(e){return r(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!=typeof Event&&o(e,Event)},t.isInstanceOf=o,t.isNaN=function(e){return"number"==typeof e&&e!=e},t.isPlainObject=i,t.isPrimitive=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},t.isRegExp=function(e){return r(e,"RegExp")},t.isString=function(e){return r(e,"String")},t.isSyntheticEvent=function(e){return i(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)}},"+ypH":function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("Qs3B"),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){r++;return setTimeout((()=>u(e,t,i)),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,((r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(e,t,r,n):i&&i.isDirectory()?f(e,t,r,n):void t.unlink(e,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(e,t,r,n):f(e,t,r,n);if("EISDIR"===r.code)return f(e,t,r,n)}return n(r)}))))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),n&&o(n instanceof Error),t.chmod(e,438,(i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,((i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?f(e,t,n,r):t.unlink(e,r)}))}))}function d(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(i){if("ENOENT"===i.code)return;throw n}try{r=t.statSync(e)}catch(s){if("ENOENT"===s.code)return;throw n}r.isDirectory()?h(e,t,n):t.unlinkSync(e)}function f(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof r),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,((r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((r=>{c(i.join(e,r),t,(r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function p(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&d(e,t,r)}try{n&&n.isDirectory()?h(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?d(e,t,r):h(e,t,r);if("EISDIR"!==r.code)throw r;h(e,t,r)}}function h(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){o(e),o(t),t.readdirSync(e).forEach((n=>p(i.join(e,n),t)));const n=s?100:1;let r=0;for(;;){let i=!0;try{const n=t.rmdirSync(e,t);return i=!1,n}finally{if(++r<n&&i)continue}}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},"/0p4":function(e,t){e.exports=require("events")},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7");e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},"/CAh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paramCase=void 0;var r=n("Xk0L"),i=n("sgrp");t.paramCase=function(e,t){return void 0===t&&(t={}),i.dotCase(e,r.__assign({delimiter:"-"},t))}},"/Id2":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}t.SentryError=n},"/JRK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");function i(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||r.timestampInSeconds(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:r.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}t.closeSession=function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),i(e,n)},t.makeSession=function(e){const t=r.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return r.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&i(n,e),n},t.updateSession=i},"/LUv":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("spuD").getGlobalObject();t.supportsHistory=function(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},"/aOH":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n("UJDs"),i=n("7FSS"),o=n("j6JD"),s=n("VTBJ");const a=n("4JQ2"),c={intro:e=>c.eol(e),info:e=>e,debug:e=>e,warning:e=>e,error:e=>e,placeholder:e=>e,tick:e=>e,header:e=>a.green(e),sourcemap:e=>a.gray(e),level:e=>e,bold:e=>a.bold(e),eol:e=>e+"\n\n"},u=Object(s.a)(Object(s.a)({},c),{},{intro:e=>c.eol(a.bgWhite.black(e)),info:e=>a.white(e),debug:e=>a.blue(e),warning:e=>a.yellow(e),error:e=>a.red(e),tick:e=>a.black.bgWhite.bold(` ${e} `),header:e=>e}),l=c;var d=n("CDcE");const f={module:{display:!0,style:"font-size: 11px; color: gray"},sourcemap:{display:!1,style:"font-size: 11px; color: gray; margin-bottom: 8px"}};function p({metadata:e,args:t}){const n=e.tags.join("|");let r=t.map((e=>function(e){let t=e;if("function"==typeof e)try{t=e()}catch(n){i.a.error("ZLogSanitizer: failed to exec func. Please make sure your func executable"+n),t=e.toString()}return t}(e)));1===r.length&&1===t.length&&"function"==typeof t[0]&&Array.isArray(r[0])&&(r=r[0]);const o=function(e,t){if(null===e)return"";const n="{}";let r=0;for(;-1!==e.search(n)&&r<t.length;)switch(typeof t[r++]){case"number":e=e.replace(n,"%d");break;case"string":default:e=e.replace(n,"%s");break;case"object":e=e.replace(n,"%o")}return e}(e.template.length>0?e.template[0]:null,r).trim(),s=(e.ln.toString().substring(e.ln.toString().indexOf("src")),""),a=[];return f.sourcemap.display&&s.trim()&&a.push(l.sourcemap(s)+"\n"),f.module.display&&n.trim()&&a.push(l.sourcemap(n.trim())+"\n"),o.trim()&&a.push(o.trim()),r.length>0?(r.unshift(a.join(" ")),r):[a.join(" ")]}function h({metadata:e,args:t}){const n=Object(o.a)(e.tick,{timeOnly:!0}),i=e.tags.map((e=>e||"?")).join("|"),s=function(e,t){if(null===e)return t.join(" ");const n="{}";let r=e;const i=[];t.forEach((e=>{-1!==r.search(n)?r="object"==typeof e?r.replace(n,JSON.stringify(e,Object(d.a)())):r.replace(n,e):i.push(e)}));for(;-1!==r.search(n);)r=r.replace(n,"");return r.concat(" ").concat(i.join(" "))}(e.template.length>0?e.template[0]:null,t),a=e.ln,c=e.level;let l=[u.tick(n),f.module.display?`[${i}]`:"",u.bold(s),f.sourcemap.display?u.sourcemap(a):""].filter((e=>e.trim())).join("\t");switch(c){case r.b.info:l=u.info(l);break;case r.b.debug:l=u.debug(l);break;case r.b.warn:l=u.warning(l);break;case r.b.error:l=u.error(l)}return l+"\n"}},"/n5c":function(e,t,n){"use strict";n.r(t),n.d(t,"ZLogFileWriter",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-file-system")},"01iK":function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("jGDt"),s=n("KRcn");class a{constructor(){this._session=null,this._processStart=void 0,this._enableConsole=void 0,this.isReady=()=>!!this._session,this.getSession=()=>{if(!this._session)throw new Error("session is not ready");return this._session},this.getProcessStartTime=()=>this._processStart,this.setSession=e=>{this._session=e},this._processStart=Date.now(),this._session={build:"e3ce9dcd4b21386246c9113273f6fb8b47c3f938",zlgv:"OTuxmB23",env:"prod",buildType:"release",pversion:"24.9.1",process:Object(s.a)()},this._enableConsole=!1}enableConsole(){}disableConsole(){}isEnabledConsole(){return this._enableConsole||!1}}let c=Object(i.injectable)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=class extends a{constructor(){super(),this._enableConsole=!1}})||r)||r)||r;i.ModuleContainer.registerSingleton(o.a,c)},"0EaC":function(e,t,n){const r=n("KvCr");e.exports=r.default,Object.assign(e.exports,r)},"0Grr":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n("oyvS"),i=n.n(r),o=n("jDHv"),s=n("iIBh"),a=n("75pU"),c=n.n(a);const u={createParentDirIfNotExist:!1};class l{constructor(){this.getDBRoot=c()(this.getDBRoot.bind(this)),this.getMainBackupRoot=c()(this.getMainBackupRoot.bind(this)),this.getTempBackupRoot=c()(this.getTempBackupRoot.bind(this)),this.getRejectBackupRoot=c()(this.getRejectBackupRoot.bind(this))}async getDBFilePath(e,t=u){const n=await this.getDBRoot(),r=i.a.join(n,`${e}.db`),{createParentDirIfNotExist:o}=t;return o&&await Object(s.c)(r),r}async getAllDBFilePaths(e){const t=await this.getDBRoot();return{fullDBpath:i.a.join(t,`${e}.db`),fullShmPath:i.a.join(t,`${e}.db-shm`),fullWalPath:i.a.join(t,`${e}.db-wal`)}}async getMainBackupFilePath(e,t=u){const n=await this.getMainBackupRoot(),r=i.a.join(n,`${e}.db`),{createParentDirIfNotExist:o}=t;return o&&await Object(s.c)(r),r}async getTempBackupFilePath(e,t=u){const n=await this.getTempBackupRoot(),r=i.a.join(n,`${e}.db`),{createParentDirIfNotExist:o}=t;return o&&await Object(s.c)(r),r}async getRejectBackupFilePath(e,t=u){const n=await this.getRejectBackupRoot(),r=i.a.join(n,`${e}.db`),{createParentDirIfNotExist:o}=t;return o&&await Object(s.c)(r),r}}const d=Object(o.define)("sqlite-path-utils")},"0LLG":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("CzCL");t.getDynamicSamplingContextFromClient=function(e,t,n){const o=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},c=r.dropUndefinedKeys({environment:o.environment||i.DEFAULT_ENVIRONMENT,release:o.release,user_segment:a,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",c),c}},"12fL":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("db6u");let o=!1;function s(){const e=i.getActiveTransaction();if(e){const t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}s.tag="sentry_tracingErrorCallback",t.registerErrorInstrumentation=function(){o||(o=!0,r.addInstrumentationHandler("error",s),r.addInstrumentationHandler("unhandledrejection",s))}},"1UUk":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("jDHv"),i=n("AH6j");const o=Object(r.define)("database-client");n("PmZf");class s extends i.b{constructor(...e){super(...e),this.session=void 0}createQueryBuilder(e){return r.ModuleContainer.resolve(o).createQueryBuilder(e)}}const a=Object(r.define)("database-manager")},"1bAp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa"),i=n("XdWb");t.default=function(){return function(e){i.typeInfo.set(e,r.getParamInfo(e))}}},"1pet":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("VTBJ");const i=24,o={FILE:1,FOLDER:2},s="g",a=(new Set(["{","(","[","<"]),new Set(["}",")","]",">"]),Object.values({ALL:"all",MEDIA:"media_box",STRANGER:"stranger_box",UNREAD:"unread",ARCHIVED:"archived_chat"}),Object.freeze({BASIC_ACCOUNT:0,PRO_1_ACCOUNT:1,PRO_2_ACCOUNT:2,PRO_3_ACCOUNT:3}),new Set([2,5,18]),new Set([-4,2504,2505]),Object.freeze({CLOUD:1,GROUP:2,FRIEND:3}),{thumb:"",icon:"",hoverIcon:"",title:"",duration:-1,priority:1,start_time:-1,end_time:-1,inClient:!0,selectConvTimes:0,shouldCheckGroup:!1});Object(r.a)(Object(r.a)({},a),{},{id:44,priority:45,title:"",description:"STR_SHARE_CAPTION_TOGGLE_TIP",position:"forward.caption.toggle",show_reddot:0,disappear_rule:"click_entry"}),Object(r.a)(Object(r.a)({},a),{},{id:45,priority:44,title:"",description:"STR_SHARE_TAG_FILTER_TIP",position:"forward.tag.filter",show_reddot:0,disappear_rule:"click_anywhere"}),Object(r.a)(Object(r.a)({},a),{},{id:42,priority:45,title:"STR_AVA_GR_TITLE_TIP",description:"STR_AVA_GR_TIP",position:"client.ava.create.group.popup",show_reddot:0,disappear_rule:"disappear_rule",duration:5}),Object(r.a)(Object(r.a)({},a),{},{id:43,priority:44,title:"STR_INPUT_GR_TITLE_TIP",description:"STR_INPUT_GR_TIP",position:"client.input.search.group.popup",show_reddot:0,disappear_rule:"disappear_rule",duration:5})},"1uat":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,s=e.algo;function a(){return i.create.apply(i,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=a()}();var l=s.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],d=n[6],f=n[7],p=r.high,h=r.low,y=i.high,m=i.low,g=o.high,_=o.low,v=s.high,b=s.low,w=a.high,E=a.low,S=l.high,T=l.low,I=d.high,O=d.low,C=f.high,P=f.low,A=p,k=h,j=y,D=m,R=g,x=_,N=v,M=b,L=w,B=E,F=S,U=T,z=I,q=O,G=C,$=P,H=0;H<80;H++){var Q=u[H];if(H<16)var K=Q.high=0|e[t+2*H],Y=Q.low=0|e[t+2*H+1];else{var V=u[H-15],W=V.high,Z=V.low,J=(W>>>1|Z<<31)^(W>>>8|Z<<24)^W>>>7,X=(Z>>>1|W<<31)^(Z>>>8|W<<24)^(Z>>>7|W<<25),ee=u[H-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=u[H-7],se=oe.high,ae=oe.low,ce=u[H-16],ue=ce.high,le=ce.low;K=(K=(K=J+se+((Y=X+ae)>>>0<X>>>0?1:0))+re+((Y+=ie)>>>0<ie>>>0?1:0))+ue+((Y+=le)>>>0<le>>>0?1:0),Q.high=K,Q.low=Y}var de,fe=L&F^~L&z,pe=B&U^~B&q,he=A&j^A&R^j&R,ye=k&D^k&x^D&x,me=(A>>>28|k<<4)^(A<<30|k>>>2)^(A<<25|k>>>7),ge=(k>>>28|A<<4)^(k<<30|A>>>2)^(k<<25|A>>>7),_e=(L>>>14|B<<18)^(L>>>18|B<<14)^(L<<23|B>>>9),ve=(B>>>14|L<<18)^(B>>>18|L<<14)^(B<<23|L>>>9),be=c[H],we=be.high,Ee=be.low,Se=G+_e+((de=$+ve)>>>0<$>>>0?1:0),Te=ge+ye;G=z,$=q,z=F,q=U,F=L,U=B,L=N+(Se=(Se=(Se=Se+fe+((de+=pe)>>>0<pe>>>0?1:0))+we+((de+=Ee)>>>0<Ee>>>0?1:0))+K+((de+=Y)>>>0<Y>>>0?1:0))+((B=M+de|0)>>>0<M>>>0?1:0)|0,N=R,M=x,R=j,x=D,j=A,D=k,A=Se+(me+he+(Te>>>0<ge>>>0?1:0))+((k=de+Te|0)>>>0<de>>>0?1:0)|0}h=r.low=h+k,r.high=p+A+(h>>>0<k>>>0?1:0),m=i.low=m+D,i.high=y+j+(m>>>0<D>>>0?1:0),_=o.low=_+x,o.high=g+R+(_>>>0<x>>>0?1:0),b=s.low=b+M,s.high=v+N+(b>>>0<M>>>0?1:0),E=a.low=E+B,a.high=w+L+(E>>>0<B>>>0?1:0),T=l.low=T+U,l.high=S+F+(T>>>0<U>>>0?1:0),O=d.low=O+q,d.high=I+z+(O>>>0<q>>>0?1:0),P=f.low=P+$,f.high=C+G+(P>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)},"1vzR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("uS0h"),o=n("rCOr");function s(e,t,n,i){return new r.Token(r.Type.map,i,n)}function a(e,t){i.encodeUintValue(e,r.Type.map.majorEncoded,t.value)}a.compareTokens=i.encodeUint.compareTokens,a.encodedSize=function(e){return i.encodeUintValue.encodedSize(e.value)},t.decodeMap16=function(e,t,n,r){return s(0,0,3,i.readUint16(e,t+1,r))},t.decodeMap32=function(e,t,n,r){return s(0,0,5,i.readUint32(e,t+1,r))},t.decodeMap64=function(e,t,n,r){const a=i.readUint64(e,t+1,r);if("bigint"==typeof a)throw new Error(`${o.decodeErrPrefix} 64-bit integer map lengths not supported`);return s(0,0,9,a)},t.decodeMap8=function(e,t,n,r){return s(0,0,2,i.readUint8(e,t+1,r))},t.decodeMapCompact=function(e,t,n,r){return s(0,0,1,n)},t.decodeMapIndefinite=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${o.decodeErrPrefix} indefinite length items not allowed`);return s(0,0,1,1/0)},t.encodeMap=a},"1ySu":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF"),i=n("Vxli"),o=n("FoAr"),s={ip:!1,request:!0,transaction:!0,user:!0},a=["cookies","data","headers","method","query_string","url"],c=["id","username","email"];function u(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",i="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(r=o.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let s="";return t.method&&n&&(s+=n),t.method&&t.path&&(s+=" "),t.path&&r&&(s+=r),[s,i]}function l(e,t){const{include:n=a,deps:o}=t||{},s={},c=e.headers||{},u=e.method,l=e.hostname||e.host||c.host||"<no host>",f=`${"https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http"}://${l}${e.originalUrl||e.url||""}`;return n.forEach((t=>{switch(t){case"headers":s.headers=c;break;case"method":s.method=u;break;case"url":s.url=f;break;case"cookies":s.cookies=e.cookies||c.cookie&&o&&o.cookie&&o.cookie.parse(c.cookie)||{};break;case"query_string":s.query_string=d(e,o);break;case"data":if("GET"===u||"HEAD"===u)break;void 0!==e.body&&(s.data=r.isString(e.body)?e.body:JSON.stringify(i.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(s[t]=e[t])}})),s}function d(e,t){let n=e.originalUrl||e.url||"";if(n)return n.startsWith("/")&&(n=`http://dogs.are.great${n}`),e.query||void 0!==typeof URL&&new URL(n).search.replace("?","")||t&&t.url&&t.url.parse(n).query||void 0}t.addRequestDataToEvent=function(e,t,n){const i={...s,...n&&n.include};if(i.request){const r=Array.isArray(i.request)?l(t,{include:i.request,deps:n&&n.deps}):l(t,{deps:n&&n.deps});e.request={...e.request,...r}}if(i.user){const n=t.user&&r.isPlainObject(t.user)?function(e,t){const n={};return(Array.isArray(t)?t:c).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(t.user,i.user):{};Object.keys(n).length&&(e.user={...e.user,...n})}if(i.ip){const n=t.ip||t.socket&&t.socket.remoteAddress;n&&(e.user={...e.user,ip_address:n})}return i.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return u(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return u(e,{path:!0,method:!0})[0]}}(t,i.transaction)),e},t.addRequestDataToTransaction=function(e,t,n){e&&(e.metadata.source&&"url"!==e.metadata.source||e.setName(...u(t,{path:!0,method:!0})),e.setData("url",t.originalUrl||t.url),t.baseUrl&&e.setData("baseUrl",t.baseUrl),e.setData("query",d(t,n)))},t.extractPathForTransaction=u,t.extractRequestData=l},"2/Sm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");class i{__init(){this.spans=[]}constructor(e=1e3){i.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class o{__init2(){this.traceId=r.uuid4()}__init3(){this.spanId=r.uuid4().substring(16)}__init4(){this.startTimestamp=r.timestampInSeconds()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),o.prototype.__init5.call(this),o.prototype.__init6.call(this),o.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new o({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},r.logger.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const t=s(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&r.logger.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:r.timestampInSeconds()}toTraceparent(){return r.generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}toContext(){return r.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return r.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return r.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function s(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}t.Span=o,t.SpanRecorder=i,t.spanStatusfromHttpCode=s},"2OCW":function(e,t){e.exports=function(e){if("function"!=typeof e.create)throw new TypeError("factory.create must be a function");if("function"!=typeof e.destroy)throw new TypeError("factory.destroy must be a function");if(void 0!==e.validate&&"function"!=typeof e.validate)throw new TypeError("factory.validate must be a function")}},"2X0m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new WeakMap;return n=>{let r=t.get(n);return null==r&&(r=e(n),t.set(n,r)),r}}},"2Y26":function(e,t,n){"use strict";const r=n("oyvS"),i=n("DadK"),o=n("xQB0").pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const s=r.dirname(t),a=r.join(s,e);return o(a,((t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},"2gN3":function(e,t,n){var r=n("Kz5y")["__core-js_shared__"];e.exports=r},"2lSo":function(e,t,n){"use strict";e.exports={copySync:n("hj6s")}},"2v94":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF");function i(e,t,n,a,c,u,l,d){if(u.length>=n+1)return u;let f=[...u];if(r.isInstanceOf(a[c],Error)){o(l,d);const r=e(t,a[c]),u=f.length;s(r,c,u,d),f=i(e,t,n,a[c],c,[r,...f],r,u)}return Array.isArray(a.errors)&&a.errors.forEach(((a,u)=>{if(r.isInstanceOf(a,Error)){o(l,d);const r=e(t,a),p=f.length;s(r,`errors[${u}]`,p,d),f=i(e,t,n,a,c,[r,...f],r,p)}})),f}function o(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function s(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}t.applyAggregateErrorsToEvent=function(e,t,n,o,s,a){if(!(s.exception&&s.exception.values&&a&&r.isInstanceOf(a.originalException,Error)))return;const c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=i(e,t,o,a.originalException,n,s.exception.values,c,0))}},"2xh+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=t.DelayedConstructor=void 0;class r{constructor(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}createProxy(e){let t,n=!1;return new Proxy({},this.createHandler((()=>(n||(t=e(this.wrap()),n=!0),t))))}createHandler(e){const t={};return this.reflectMethods.forEach((n=>{t[n]=(...t)=>{t[0]=e();return(0,Reflect[n])(...t)}})),t}}t.DelayedConstructor=r,t.delay=function(e){if(void 0===e)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new r(e)}},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"3y9D":function(e,t,n){var r,i,o,s,a,c,u,l;e.exports=(l=n("Ib8C"),i=(r=l).lib,o=i.WordArray,s=i.Hasher,a=r.algo,c=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var d=(r<<5|r>>>27)+a+c[u];d+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u),l.SHA1)},"3yyI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noCase=void 0;var r=n("HcOx"),i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}t.noCase=function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,a=void 0===n?i:n,c=t.stripRegexp,u=void 0===c?o:c,l=t.transform,d=void 0===l?r.lowerCase:l,f=t.delimiter,p=void 0===f?" ":f,h=s(s(e,a,"$1\0$2"),u,"\0"),y=0,m=h.length;"\0"===h.charAt(y);)y++;for(;"\0"===h.charAt(m-1);)m--;return h.slice(y,m).split("\0").map(d).join(p)}},"44Ds":function(e,t,n){var r=n("e4Nc");function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},"49vF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PvD+");t.Bl=class{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=r.alloc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=r.slice(n,0,this.cursor)}else t=r.concat(this.chunks,this.cursor);return e&&this.reset(),t}}},"4IGy":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv"),c=n("mpOJ"),u=n("yi2h");const l={CocosRes:new s.d({tableName:"cocos-res",name:"CocosRes",fields:{path:{name:"path",type:i.h.string},data:Object(u.a)({name:"data"},c.a.ArrayBuffer)},indices:{primary:{name:"primary",fields:[{type:"raw",field:"path"}],unique:!0}}}),FriendBlocked:new s.d({tableName:"friend-blocked",name:"FriendBlocked",fields:{key:{name:"key",type:i.h.string},val:{name:"val",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),InfoCache:new s.d({tableName:"info-cache",name:"InfoCache",fields:{key:{name:"key",type:i.h.string},val:{name:"val",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),RetryCache:new s.d({tableName:"retry-cache",name:"RetryCache",fields:{key:{name:"key",type:i.h.string},val:{name:"val",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),StChecksum:new s.d({tableName:"db-stchecksum",name:"StChecksum",fields:{checksum:{name:"checksum",type:i.h.string},url:{name:"url",type:i.h.string},size:{name:"size",type:i.h.integer},isGroup:{name:"isGroup",type:i.h.boolean},ts:{name:"ts",type:i.h.integer},zname:{name:"zname",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"checksum"}],unique:!0}}})},d={name:"Storage",session:!1},f={partitionNamingStrategy:[o.a.const("Storage")],partitionsMap:Object(a.a)(l)},p={partitionNamingStrategy:[o.a.const("zlocalstorage")],partitionsMap:Object(a.a)(l)},h=Object(r.a)(Object(r.a)(Object(r.a)({},d),f),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_PARTIAL}),y=Object(r.a)(Object(r.a)(Object(r.a)({},d),p),{},{version:5,milestoneVersion:5,type:i.a.IDB});let m=null,g=null;t.a={baseConfig:d,schema:l,get useSqlite(){return null===m&&(m=new s.a(h)),m},get useIdb(){return null===g&&(g=new s.a(y)),g}}},"4JQ2":function(e,t,n){"use strict";var r=n("oxjq"),i=n("ijAY"),o=n("dnEP"),s=n("fYZ/"),a=n("bAum"),c=Object.defineProperties,u="win32"===process.platform&&!/^xterm/i.test(process.env.TERM);function l(e){this.enabled=e&&void 0!==e.enabled?e.enabled:a}u&&(i.blue.open="[94m");var d,f=(d={},Object.keys(i).forEach((function(e){i[e].closeRe=new RegExp(r(i[e].close),"g"),d[e]={get:function(){return h.call(this,this._styles.concat(e))}}})),d),p=c((function(){}),f);function h(e){var t=function(){return y.apply(t,arguments)};return t._styles=e,t.enabled=this.enabled,t.__proto__=p,t}function y(){var e=arguments,t=e.length,n=0!==t&&String(arguments[0]);if(t>1)for(var r=1;r<t;r++)n+=" "+e[r];if(!this.enabled||!n)return n;var o=this._styles,s=o.length,a=i.dim.open;for(!u||-1===o.indexOf("gray")&&-1===o.indexOf("grey")||(i.dim.open="");s--;){var c=i[o[s]];n=c.open+n.replace(c.closeRe,c.open)+c.close}return i.dim.open=a,n}c(l.prototype,function(){var e={};return Object.keys(f).forEach((function(t){e[t]={get:function(){return h.call(this,[t])}}})),e}()),e.exports=new l,e.exports.styles=i,e.exports.hasColor=s,e.exports.stripColor=o,e.exports.supportsColor=a},"4MXQ":function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},"4W2c":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DI/x"),i=n("YZti");class o{constructor(){}}class s extends o{constructor(e){super(),this.secureFields=e,this.cipcherKey=""}init(e){this.cipcherKey=e}toDB(e){if(""===this.cipcherKey)throw new r.c("Cipher key is unavailable!");for(let t=0;t<this.secureFields.length;t++){const n=this.secureFields[t];e[n]&&(e[n]=i.a.encrypt(JSON.stringify(e[n]),this.cipcherKey))}}fromDB(e){if(e){if(""===this.cipcherKey)throw new r.c("Cipher key is unavailable!");for(let n=0;n<this.secureFields.length;n++){const r=this.secureFields[n];if("string"==typeof e[r])try{e[r]=JSON.parse(i.a.decrypt(e[r],this.cipcherKey))}catch(t){}}}}}},"4dK9":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("HNyo");t.makeMultiplexedTransport=function(e,t){return n=>{const o=e(n),s={};return{send:async function(a){const c=t({envelope:a,getEvent:function(e){const t=e&&e.length?e:["event"];return function(e,t){let n;return r.forEachEnvelopeItem(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}(a,t)}}).map((t=>function(t){if(!s[t]){const o=r.dsnFromString(t);if(!o)return;const a=i.getEnvelopeEndpointWithUrlEncodedAuth(o);s[t]=e({...n,url:a})}return s[t]}(t))).filter((e=>!!e));return 0===c.length&&c.push(o),(await Promise.all(c.map((e=>e.send(a)))))[0]},flush:async function(e){const t=[...Object.keys(s).map((e=>s[e])),o];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}}},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),o=n("u8Dt"),s=n("ekgI"),a=n("JSQU");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},"4uTw":function(e,t,n){var r=n("Z0cm"),i=n("9ggG"),o=n("GNiM"),s=n("dt0z");e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},5:function(e,t,n){e.exports=n("y9p4")},"5FGm":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r=Object.freeze({Success:e=>({type:"SUCCESS",data:e}),Failure:e=>({type:"ERROR",data:e})}),i="cal";let o=function(e){return e[e.None=0]="None",e[e.FlushNow=1]="FlushNow",e[e.FlushOnNextRun=2]="FlushOnNextRun",e}({})},"5Mby":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l}));const r=3;let i=function(e){return e.START_RESTORE_BACKUP="START_RESTORE_BACKUP",e.DONE_RESTORE_BACKUP="DONE_RESTORE_BACKUP",e.FAILED_TO_RESTORE_BACKUP="FAILED_TO_RESTORE_BACKUP",e.NO_BACKUP_FOUND="NO_BACKUP_FOUND",e}({}),o=function(e){return e.NO_NEED_TO_BACK_UP="NO_NEED_TO_BACK_UP",e.SKIP_BACKING_UP_FOR_DBS="SKIP_BACKING_UP_FOR_DBS",e.START_CREATING_BACKUP="START_CREATING_BACKUP",e.FAILED_TO_CREATE_BACKUP="FAILED_TO_CREATE_BACKUP",e.NEW_BACKUP_IS_CREATED="NEW_BACKUP_IS_CREATED",e.BACKUP_IS_APPROVED="BACKUP_IS_APPROVED",e.FAILED_TO_APPROVE_BACKUP="FAILED_TO_APPROVE_BACKUP",e.BACKUP_IS_REJECTED="BACKUP_IS_REJECTED",e.FAILED_TO_REJECT_BACKUP="FAILED_TO_REJECT_BACKUP",e.ABORTED="ABORTED",e.BACK_UP_IS_DELETED="BACK_UP_IS_DELETED",e.FAILED_TO_DELETE_BACKUP="FAILED_TO_DELETE_BACKUP",e}({});const s=!1,a="--backupdata",c="ABORT_BACKING_UP_FOR_ALL_SESSION",u="CREATE_BACKING_UP_FOR_NO_SESSION";const l=!1},"5hvy":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.x64.Word,a=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,d=0,f=0;f<7;f++){if(1&i){var p=(1<<f)-1;p<32?d^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}l[o]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var f=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(P=n[i]).high^=s,P.low^=o}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var p=0,h=0,y=0;y<5;y++)p^=(P=n[f+5*y]).high,h^=P.low;var m=d[f];m.high=p,m.low=h}for(f=0;f<5;f++){var g=d[(f+4)%5],_=d[(f+1)%5],v=_.high,b=_.low;for(p=g.high^(v<<1|b>>>31),h=g.low^(b<<1|v>>>31),y=0;y<5;y++)(P=n[f+5*y]).high^=p,P.low^=h}for(var w=1;w<25;w++){var E=(P=n[w]).high,S=P.low,T=c[w];T<32?(p=E<<T|S>>>32-T,h=S<<T|E>>>32-T):(p=S<<T-32|E>>>64-T,h=E<<T-32|S>>>64-T);var I=d[u[w]];I.high=p,I.low=h}var O=d[0],C=n[0];for(O.high=C.high,O.low=C.low,f=0;f<5;f++)for(y=0;y<5;y++){var P=n[w=f+5*y],A=d[w],k=d[(f+1)%5+5*y],j=d[(f+2)%5+5*y];P.high=A.high^~k.high&j.high,P.low=A.low^~k.low&j.low}P=n[0];var D=l[a];P.high^=D.high,P.low^=D.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,u=[],l=0;l<c;l++){var d=s[l],f=d.high,p=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(f)}return new i.init(u,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(f),t.HmacSHA3=o._createHmacHelper(f)}(Math),r.SHA3)},"5l/R":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-writer-manager")},"65M3":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=6e4;function r(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const i=Date.parse(`${e}`);return isNaN(i)?n:i-t}function i(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=n,t.disabledUntil=i,t.isRateLimited=function(e,t,n=Date.now()){return i(e,t)>n},t.parseRetryAfterHeader=r,t.updateRateLimits=function(e,{statusCode:t,headers:n},i=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const r of s.trim().split(",")){const[e,t]=r.split(":",2),n=parseInt(e,10),s=1e3*(isNaN(n)?60:n);if(t)for(const r of t.split(";"))o[r]=i+s;else o.all=i+s}else a?o.all=i+r(a,i):429===t&&(o.all=i+6e4);return o}},"68O6":function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("Puk3"),i=n("spuD").getGlobalObject(),o={nowSeconds:()=>Date.now()/1e3};const s=r.isNodeEnv()?function(){try{return r.dynamicRequire(e,"perf_hooks").performance}catch(t){return}}():function(){const{performance:e}=i;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),a=void 0===s?o:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},c=o.nowSeconds.bind(o),u=a.nowSeconds.bind(a),l=u,d=void 0!==s;t._browserPerformanceTimeOriginMode=void 0;const f=(()=>{const{performance:e}=i;if(!e||!e.now)return void(t._browserPerformanceTimeOriginMode="none");const n=36e5,r=e.now(),o=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-o):n,a=s<n,c=e.timing&&e.timing.navigationStart,u="number"==typeof c?Math.abs(c+r-o):n;return a||u<n?s<=u?(t._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(t._browserPerformanceTimeOriginMode="navigationStart",c):(t._browserPerformanceTimeOriginMode="dateNow",o)})();t.browserPerformanceTimeOrigin=f,t.dateTimestampInSeconds=c,t.timestampInSeconds=u,t.timestampWithMs=l,t.usingPerformanceAPI=d}).call(this,n("YuTi")(e))},"6A67":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("uS0h"),o=n("rCOr");function s(e,t,n,i){return new r.Token(r.Type.array,i,n)}function a(e,t){i.encodeUintValue(e,r.Type.array.majorEncoded,t.value)}a.compareTokens=i.encodeUint.compareTokens,a.encodedSize=function(e){return i.encodeUintValue.encodedSize(e.value)},t.decodeArray16=function(e,t,n,r){return s(0,0,3,i.readUint16(e,t+1,r))},t.decodeArray32=function(e,t,n,r){return s(0,0,5,i.readUint32(e,t+1,r))},t.decodeArray64=function(e,t,n,r){const a=i.readUint64(e,t+1,r);if("bigint"==typeof a)throw new Error(`${o.decodeErrPrefix} 64-bit integer array lengths not supported`);return s(0,0,9,a)},t.decodeArray8=function(e,t,n,r){return s(0,0,2,i.readUint8(e,t+1,r))},t.decodeArrayCompact=function(e,t,n,r){return s(0,0,1,n)},t.decodeArrayIndefinite=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${o.decodeErrPrefix} indefinite length items not allowed`);return s(0,0,1,1/0)},t.encodeArray=a},"6LL1":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=["fatal","error","warning","log","info","debug"];function r(e){return"warn"===e?"warning":n.includes(e)?e:"log"}t.severityFromString=function(e){return r(e)},t.severityLevelFromString=r,t.validSeverityLevels=n},"6cSt":function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},"6i1E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalCase=t.capitalCaseTransform=void 0;var r=n("7Ne3"),i=n("3yyI"),o=n("wb9o");function s(e){return o.upperCaseFirst(e.toLowerCase())}t.capitalCaseTransform=s,t.capitalCase=function(e,t){return void 0===t&&(t={}),i.noCase(e,r.__assign({delimiter:" ",transform:s},t))}},"6pNU":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-binary-file-system")},"6rD8":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));let r=function(e){return e.PhysicalTextWriter="PhysicalTextWriter",e.PhysicalBinaryWriter="PhysicalBinaryWriter",e.PhysicalMeta="PhysicalMeta",e}({}),i=function(e){return e.Init="Init",e.Idle="Idle",e.Busy="Busy",e.Paused="Paused",e.Disabled="Disabled",e}({})},"6xEa":function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var s=t.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var s=[];return n.forEach((function(t){s.push(e(t))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,s={},a={},c="",u="",l="",d=2,f=3,p=2,h=[],y=0,m=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=f++,a[c]=!0),u=l+c,Object.prototype.hasOwnProperty.call(s,u))l=u;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)y<<=1,m==t-1?(m=0,h.push(n(y)),y=0):m++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1}else{for(i=1,r=0;r<p;r++)y=y<<1|i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[l]}else for(i=s[l],r=0;r<p;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),s[u]=f++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)y<<=1,m==t-1?(m=0,h.push(n(y)),y=0):m++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1}else{for(i=1,r=0;r<p;r++)y=y<<1|i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[l]}else for(i=s[l],r=0;r<p;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,r=0;r<p;r++)y=y<<1|1&i,m==t-1?(m=0,h.push(n(y)),y=0):m++,i>>=1;for(;;){if(y<<=1,m==t-1){h.push(n(y));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,s,a,c,u,l,d=[],f=4,p=4,h=3,y="",m=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,c=Math.pow(2,2),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;switch(s){case 0:for(s=0,c=Math.pow(2,8),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;l=e(s);break;case 1:for(s=0,c=Math.pow(2,16),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;l=e(s);break;case 2:return""}for(d[3]=l,o=l,m.push(l);;){if(g.index>t)return"";for(s=0,c=Math.pow(2,h),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;switch(l=s){case 0:for(s=0,c=Math.pow(2,8),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;d[p++]=e(s),l=p-1,f--;break;case 1:for(s=0,c=Math.pow(2,16),u=1;u!=c;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(a>0?1:0)*u,u<<=1;d[p++]=e(s),l=p-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,h),h++),d[l])y=d[l];else{if(l!==p)return null;y=o+o.charAt(0)}m.push(y),d[p++]=o+y.charAt(0),o=y,0==--f&&(f=Math.pow(2,h),h++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},"75G/":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("teaq"),o=n("xI/L"),s=n("YEoC"),a=n("C9Dv"),c=n("wH4e"),u=n("4W2c");const l=new i.d({tableName:"image",name:"Image",fields:{mediaId:{name:"mediaId",type:c.ValidDataType.string},convId:{name:"convId",type:c.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:c.ValidDataType.string},fromUid:{name:"fromUid",type:c.ValidDataType.string},content:{name:"content",type:c.ValidDataType.json},type:{name:"type",type:c.ValidDataType.integer},src:{name:"src",type:c.ValidDataType.string},sendDttm:{name:"sendDttm",type:c.ValidDataType.integer},ttl:{name:"ttl",type:c.ValidDataType.integer},localPath:{name:"localPath",type:c.ValidDataType.string},previewThumb:{name:"previewThumb",type:c.ValidDataType.string},modifiedTime:{name:"modifiedTime",type:c.ValidDataType.integer},metadata:{name:"metadata",type:c.ValidDataType.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0}},transforms:[new u.a(["content","localPath"])]});l.setAdapterSpecificConfigs(c.AdapterType.IDB,{}),l.setAdapterSpecificConfigs(c.AdapterType.SQLite,{});const d=new i.d({tableName:"file",name:"File",fields:{mediaId:{name:"mediaId",type:c.ValidDataType.string},convId:{name:"convId",type:c.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:c.ValidDataType.string},fromUid:{name:"fromUid",type:c.ValidDataType.string},content:{name:"content",type:c.ValidDataType.json},type:{name:"type",type:c.ValidDataType.integer},src:{name:"src",type:c.ValidDataType.string},extType:{name:"extType",type:c.ValidDataType.string},sendDttm:{name:"sendDttm",type:c.ValidDataType.integer},ttl:{name:"ttl",type:c.ValidDataType.integer},modifiedTime:{name:"modifiedTime",type:c.ValidDataType.integer},localPath:{name:"localPath",type:c.ValidDataType.string},folderPath:{name:"folderPath",type:c.ValidDataType.string},thumbMetadata:{name:"thumbMetadata",type:c.ValidDataType.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0},convId_extType_sendDttm_cliMsgId:{name:"convId_extType_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"extType"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1}},transforms:[new u.a(["content","localPath","folderPath"])]});d.setAdapterSpecificConfigs(c.AdapterType.IDB,{}),d.setAdapterSpecificConfigs(c.AdapterType.SQLite,{});const f=new i.d({tableName:"link",name:"Link",fields:{mediaId:{name:"mediaId",type:c.ValidDataType.string},convId:{name:"convId",type:c.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:c.ValidDataType.string},fromUid:{name:"fromUid",type:c.ValidDataType.string},content:{name:"content",type:c.ValidDataType.json},type:{name:"type",type:c.ValidDataType.integer},src:{name:"src",type:c.ValidDataType.string},sendDttm:{name:"sendDttm",type:c.ValidDataType.integer},ttl:{name:"ttl",type:c.ValidDataType.integer},modifiedTime:{name:"modifiedTime",type:c.ValidDataType.integer},parsedInfo:{name:"parsedInfo",type:c.ValidDataType.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0}},transforms:[new u.a(["content","parsedInfo"])]});f.setAdapterSpecificConfigs(c.AdapterType.IDB,{}),f.setAdapterSpecificConfigs(c.AdapterType.SQLite,{});const p=new i.d({tableName:"utils_media",name:"UtilsMedia",fields:{id:{name:"id",type:c.ValidDataType.string},convId:{name:"convId",type:c.ValidDataType.string},mediaType:{name:"mediaType",type:c.ValidDataType.string},senderIds:{name:"senderIds",type:c.ValidDataType.json},fileTypes:{name:"fileTypes",type:c.ValidDataType.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});p.setAdapterSpecificConfigs(c.AdapterType.IDB,{}),p.setAdapterSpecificConfigs(c.AdapterType.SQLite,{});const h={Image:l,File:d,Link:f,UtilsMedia:p},y={name:"Media",session:!0},m={partitionNamingStrategy:[o.a.byUser(),o.a.const("Media")],partitionsMap:Object(a.a)(h)},g={partitionNamingStrategy:[o.a.const("media"),o.a.byUser()],partitionsMap:Object(a.a)(h)},_=Object(r.a)(Object(r.a)(Object(r.a)({},y),m),{},{version:1,milestoneVersion:1,type:s.a.SQLite,corruptionImpact:s.b.IMPACT_FULL}),v=Object(r.a)(Object(r.a)(Object(r.a)({},y),g),{},{version:1,milestoneVersion:1,type:s.a.IDB});let b=null,w=null;t.a={baseConfig:y,schema:h,get useSqlite(){return null===b&&(b=new i.a(_)),b},get useIdb(){return null===w&&(w=new i.a(v)),w}}},"75pU":function(e,t){function n(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=t.get(o);return void 0===s&&(s=e.call(this,r),t.set(o,s)),s}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function i(e,t,n,r,i){return n.bind(t,e,r,i)}function o(e,t){return i(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:s;return(t&&t.strategy?t.strategy:o)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return i(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return i(e,this,n,t.cache.create(),t.serializer)}}},"7C8f":function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("DadK"),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.keys(i).forEach((e=>{"promises"!==e&&(t[e]=i[e])})),o.forEach((e=>{t[e]=r(i[e])})),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise(((s,a)=>{i.read(e,t,n,r,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,o)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})}))}))}},"7ES9":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+2Bm"),i=n("9bYW"),o=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function s(e){if(!e)return;const t=e.match(o);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}t.TRACEPARENT_REGEXP=o,t.extractTraceparentData=s,t.generateSentryTraceHeader=function(e=i.uuid4(),t=i.uuid4().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`},t.tracingContextFromHeaders=function(e,t){const n=s(e),o=r.baggageHeaderToDynamicSamplingContext(t),{traceId:a,parentSpanId:c,parentSampled:u}=n||{},l={traceId:a||i.uuid4(),spanId:i.uuid4().substring(16),sampled:void 0!==u&&u};return c&&(l.parentSpanId=c),o&&(l.dsc=o),{traceparentData:n,dynamicSamplingContext:o,propagationContext:l}}},"7FSS":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=globalThis.zconsole||globalThis.console},"7G0M":function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},"7Ne3":function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},"7xKq":function(e,t){},"8/YW":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("AH6j");let i=function(e){return e.Start="Start",e.InitServices="InitServices",e.ServicesReady="ServicesReady",e.Exit="Exit",e.BeforeUnload="BeforeUnload",e.Idle="Idle",e.Active="Active",e.FirstIdle="FirstIdle",e.Authenticating="Authenticating",e.Authenticated="Authenticated",e.LogOut="LogOut",e}({});class o extends r.a{constructor(e){super(i.InitServices),this.app=e}}r.a;r.a;var s=n("jDHv");const a=[],c=[];function u(){return function(e){a.push(e)}}function l(){return function(e){c.push(e)}}let d=0;const f=()=>{return d++,Math.floor(("function"==typeof(null===globalThis||void 0===globalThis||null===(e=globalThis.performance)||void 0===e?void 0:e.now)?globalThis.performance.now():Date.now())+d);var e};const p=new Map;class h{constructor(){this.id=void 0,this.id=f()}revoke(){p.delete(this.id)}}class y extends h{constructor(){if(super(),this._status=void 0,y.instance)return y.instance;y.instance=this}get status(){return this._status}create(){this._status="create",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t)}))}start(){this._status="start",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.start)||void 0===n?void 0:n.call(t)}))}running(){this._status="running",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.running)||void 0===n?void 0:n.call(t)}))}pause(){this._status="pause",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.pause)||void 0===n?void 0:n.call(t)}))}resume(){this._status="resume",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.resume)||void 0===n?void 0:n.call(t)}))}restart(){this._status="restart",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.restart)||void 0===n?void 0:n.call(t)}))}stop(){this._status="stop",p.forEach((e=>{var t,n;return null===(t=s.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.stop)||void 0===n?void 0:n.call(t)}))}}y.instance=void 0;new y;r.b;Object(s.define)("application")},"89t2":function(e,t){e.exports=require("perf_hooks")},"8Ja4":function(e,t,n){"use strict";function r(e,t,n){return new Promise(((r,i)=>{let o=0;const s=async()=>{try{await e(),r()}catch(a){o<t?(o+=1,n&&n(a,o),s()):i(a)}};s()}))}n.d(t,"a",(function(){return r}))},"9Nap":function(e,t,n){var r=n("/9aa");e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"9O0R":function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},"9OqN":function(e,t,n){var r,i,o;e.exports=(o=n("Ib8C"),n("OLod"),o.mode.CTR=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),r.Decryptor=i,r),o.mode.CTR)},"9bYW":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("QS11"),i=n("QB2e"),o=n("spuD");function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;t.addContextToFrame=function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>i.snipLine(e,0))),t.context_line=i.snipLine(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>i.snipLine(e,0)))},t.addExceptionMechanism=function(e,t){const n=s(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")},t.arrayify=function(e){return Array.isArray(e)?e:[e]},t.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{r.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(t){}return!1},t.getEventDescription=function(e){const{message:t,event_id:n}=e;if(t)return t;const r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},t.parseSemver=function(e){const t=e.match(a)||[],n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:t[4]}},t.uuid4=function(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}},"9ggG":function(e,t,n){var r=n("Z0cm"),i=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},"9muz":function(e,t,n){"use strict";e.exports={ALLOCATED:"ALLOCATED",IDLE:"IDLE",INVALID:"INVALID",RETURNING:"RETURNING",VALIDATION:"VALIDATION"}},"9sgf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("okAK");Object.defineProperty(t,"instanceCachingFactory",{enumerable:!0,get:function(){return r.default}});var i=n("2X0m");Object.defineProperty(t,"instancePerContainerCachingFactory",{enumerable:!0,get:function(){return i.default}});var o=n("nR7o");Object.defineProperty(t,"predicateAwareClassFactory",{enumerable:!0,get:function(){return o.default}})},AH6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));class r{constructor(e){this.type=e}}class i{constructor(){this.events=void 0,this.events=new Map}getNumberListener(){return this.events.size}addEventListener(e,t,n){const r=e.toString();let i=this.events.get(r);i||(i=[],this.events.set(r,i));const o=()=>this.removeEventListener(e,t);if(!0===(null==n?void 0:n.once)){const e=t;t=t=>(o(),e(t))}return i.push(t),o}addEventListenerOnce(e,t){return this.addEventListener(e,t,{once:!0})}removeEventListener(e,t){const n=e.toString(),r=this.events.get(n);if(!r)return;this.events.set(n,r.filter((e=>e!==t)))}removeAllEventListener(){this.events.clear()}dispatchEvent(e){let t=this.events.get(e.type);if(t&&0!==t.length){t=t.slice();for(let n=0;n<t.length;n++){const r=t[n];r&&r(e)}}}}},ALsQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(c){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},Abbu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YEoC");let i;var o;(o=i||(i={})).isBeginTransaction=function(e){return e.type===r.e.BeginTransaction},o.isCommitTransaction=function(e){return e.type===r.e.CommitTransaction},o.isInsertQuery=function(e){return e.type===r.e.Insert},o.isUpdateQuery=function(e){return e.type===r.e.Update},o.isCloseDBQuery=function(e){return e.type===r.e.CloseDB},o.isDeleteDBQuery=function(e){return e.type===r.e.DeleteDB},o.isCloseAllDBsQuery=function(e){return e.type===r.e.CloseAllDBs},o.isDeleteAllDBsQuery=function(e){return e.type===r.e.DeleteAllDBs},o.isInTransaction=function(e){return!!e.transaction},o.isValid=function(e){return!0},o.isPartitionlessQuery=function(e){return e.type===r.e.BeginTransaction||e.type===r.e.CommitTransaction}},Bkv4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("NFXW"),i=n("gSyM"),o=n("2/Sm"),s=n("Ns3O"),a=n("db6u"),c=n("TlYt"),u=n("VxEN"),l=n("0LLG"),d=n("jX2W"),f=n("+70+"),p=n("/JRK"),h=n("XvhB"),y=n("Ngr4"),m=n("HNyo"),g=n("qEvd"),_=n("z+cp"),v=n("RHep"),b=n("cFgT"),w=n("4dK9"),E=n("NStS"),S=n("mdsp"),T=n("ssGk"),I=n("yJ/d"),O=n("lsb7"),C=n("eCJT"),P=n("CzCL"),A=n("UXua"),k=n("+B3J"),j=n("sJ5P");t.addTracingExtensions=r.addTracingExtensions,t.startIdleTransaction=r.startIdleTransaction,t.IdleTransaction=i.IdleTransaction,t.TRACING_DEFAULTS=i.TRACING_DEFAULTS,t.Span=o.Span,t.spanStatusfromHttpCode=o.spanStatusfromHttpCode,t.Transaction=s.Transaction,t.getActiveTransaction=a.getActiveTransaction,Object.defineProperty(t,"SpanStatus",{enumerable:!0,get:()=>c.SpanStatus}),t.trace=u.trace,t.getDynamicSamplingContextFromClient=l.getDynamicSamplingContextFromClient,t.addBreadcrumb=d.addBreadcrumb,t.captureCheckIn=d.captureCheckIn,t.captureEvent=d.captureEvent,t.captureException=d.captureException,t.captureMessage=d.captureMessage,t.configureScope=d.configureScope,t.setContext=d.setContext,t.setExtra=d.setExtra,t.setExtras=d.setExtras,t.setTag=d.setTag,t.setTags=d.setTags,t.setUser=d.setUser,t.startTransaction=d.startTransaction,t.withScope=d.withScope,t.Hub=f.Hub,t.ensureHubOnCarrier=f.ensureHubOnCarrier,t.getCurrentHub=f.getCurrentHub,t.getHubFromCarrier=f.getHubFromCarrier,t.getMainCarrier=f.getMainCarrier,t.makeMain=f.makeMain,t.runWithAsyncContext=f.runWithAsyncContext,t.setAsyncContextStrategy=f.setAsyncContextStrategy,t.setHubOnCarrier=f.setHubOnCarrier,t.closeSession=p.closeSession,t.makeSession=p.makeSession,t.updateSession=p.updateSession,t.SessionFlusher=h.SessionFlusher,t.Scope=y.Scope,t.addGlobalEventProcessor=y.addGlobalEventProcessor,t.getEnvelopeEndpointWithUrlEncodedAuth=m.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=m.getReportDialogEndpoint,t.BaseClient=g.BaseClient,t.initAndBind=_.initAndBind,t.createTransport=v.createTransport,t.makeOfflineTransport=b.makeOfflineTransport,t.makeMultiplexedTransport=w.makeMultiplexedTransport,t.SDK_VERSION=E.SDK_VERSION,t.getIntegrationsToSetup=S.getIntegrationsToSetup,t.Integrations=T,t.prepareEvent=I.prepareEvent,t.createCheckInEnvelope=O.createCheckInEnvelope,t.hasTracingEnabled=C.hasTracingEnabled,t.DEFAULT_ENVIRONMENT=P.DEFAULT_ENVIRONMENT,t.FunctionToString=A.FunctionToString,t.InboundFilters=k.InboundFilters,t.extractTraceparentData=j.extractTraceparentData},BlZs:function(e,t,n){"use strict";const r=n("mr5d");e.exports=class extends r{constructor(e,t){super(t),this._creationTimestamp=Date.now(),this.pooledResource=e}reject(){}}},C9Dv:function(e,t,n){"use strict";function r(e){return{default:{tables:Object.values(e)}}}n.d(t,"a",(function(){return r}))},"CDI/":function(e,t,n){"use strict";function r(e){return t=>`PRAGMA ${e}=${t}`}n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w}));r("key");const i=r("journal_mode"),o=r("journal_size_limit"),s=r("synchronous"),a=r("cache_spill"),c=(r("ignore_check_constraints"),r("locking_mode")),u=r("analysis_limit"),l=r("wal_autocheckpoint"),d=r("busy_timeout");r("optimize"),r("SQLITE_THREADSAFE"),r("cipher_compatibility");var f=n("teaq");function p(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof f.d?`${e.dbName}-${e.tableName}`:e));return JSON.stringify(t)}var h=n("75pU"),y=n.n(h),m=n("YEoC"),g=n("DI/x");class _{static namedPlaceholder(e,t=","){return e.map((e=>`${_.escapeStr(e)}=?`)).join(t)}static anonymousPlaceholder(e){let t=[];for(let n=0;n<e;n++)t.push("?");return t.join(",")}static escapeStrs(e){return e.map(_.escapeStr).join(",")}static escapeStr(e){return e?"string"==typeof e?`"${e}"`:e:"NULL"}static toDBTransformValue(e){return null===e?"NULL":"string"==typeof e?_.escapeStr(e):"boolean"==typeof e?!0===e?1:0:e}static excludedSetList(e){return e.map((e=>`"${e}"=excluded.${e}`)).join(",")}}function v(e){switch(e){case m.h.string:return"TEXT";case m.h.boolean:case m.h.integer:return"INTEGER";case m.h.float:return"REAL";case m.h.json:return"TEXT";case m.h.blob:return"BLOB"}}const b={query:"BEGIN TRANSACTION",params:0},w={query:"COMMIT",params:0};y()((e=>{const t=e.tableName,n=[e.getFields().map((e=>[e.escapedName,v(e.type)].join(" "))).join(",")];if(!e.isNonFieldlikeEntity){const t=e.primaryIndex.getRealFields().map(_.escapeStr).join(",");n.push(`PRIMARY KEY(${t})`)}return{query:`CREATE TABLE IF NOT EXISTS "${t}" (${n.join(", ")})`,params:0}}),{serializer:p}),y()(((e,t)=>{const n=e.tableName,r=e.getFields().find((e=>e.name===t));if(void 0===r)throw new g.i(t);var i;return{query:`ALTER TABLE "${n}" ADD COLUMN ${[(i=r).escapedName,v(i.type)].join(" ")}`,params:0}}),{serializer:p}),y()(((e,t)=>{const n=e.tableName;return{query:`CREATE INDEX IF NOT EXISTS "${n}_${t}" ON "${n}" (${e.getIndex(t).getRealFields().join(",")})`,params:0}}),{serializer:p}),y()(((e,t,n=1)=>{const r=e.tableName,i=e.getFields().filter((e=>!e.autoIncrement)),o=_.escapeStrs(i.map((e=>e.name))),s=_.anonymousPlaceholder(i.length),a=t?"REPLACE":"IGNORE",c=[];for(let u=0;u<n;u+=1)c.push(`(${s})`);return{query:`INSERT OR ${a} INTO "${r}" (${o}) VALUES ${c.join(", ")} RETURNING *`,params:i.length*n}}),{serializer:p}),y()(((e,t,n=1)=>{const r=e.tableName,i=e.getFields().filter((e=>!e.autoIncrement)),o=_.escapeStrs(i.map((e=>e.name))),s=_.anonymousPlaceholder(i.length),a=t?"REPLACE":"IGNORE",c=[];for(let u=0;u<n;u+=1)c.push(`(${s})`);return{query:`INSERT OR ${a} INTO "${r}" (${o}) VALUES ${c.join(", ")}`,params:i.length*n}}),{serializer:p}),y()(((e,t,n=1,r)=>{const i=e.tableName,o=e.getFields().filter((e=>!e.autoIncrement)),s=e.getIndex(r).getRealFields().join(", "),a=_.escapeStrs(o.map((e=>e.name))),c=_.anonymousPlaceholder(o.length),u=t?"REPLACE":"IGNORE",l=[];for(let d=0;d<n;d+=1)l.push(`(${c})`);return{query:`INSERT OR ${u} INTO "${i}" (${a}) VALUES ${l.join(", ")} RETURNING ${s}`,params:o.length*n}}),{serializer:p}),y()((e=>({query:`SELECT COUNT(*) FROM "${e}"`,params:0})),{serializer:p}),y()(((e,t)=>{const n=e.getIndex(t).getRealFields(),r=_.namedPlaceholder(n," AND ");return{query:`SELECT * FROM "${e.tableName}" WHERE ${r}`,params:n.length}}),{serializer:p}),y()(((e,t,n=1)=>{const r=e.getIndex(t).getRealFields(),i=_.namedPlaceholder(r," AND "),o=[];for(let s=0;s<n;s+=1)o.push(`(${i})`);return{query:`SELECT * FROM "${e.tableName}" WHERE ${o.join(" OR ")}`,params:r.length*n}}),{serializer:p}),y()(((e,t)=>{const n=e.getIndex(t).getRealFields(),r=_.namedPlaceholder(n," AND ");return{query:`DELETE FROM ${_.escapeStr(e.tableName)} WHERE ${r}`,params:n.length}}),{serializer:p})},CDcE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));n("Y58e"),n("jDHv");var r=n("fsQs");function i(){const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}}function o(e){return e&&"object"==typeof e&&e.zlg_secme&&e.zlg_secver===r.ZLOG_ENCODE_VERSION}function s(e){return e&&"object"==typeof e&&!0===e.zlg_unlim}},CMMN:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("DadK"),o=n("oyvS"),s=n("cIbA").copy,a=n("tB16").remove,c=n("zyBB").mkdirp,u=n("xQB0").pathExists;function l(e,t,n,r){i.rename(e,t,(i=>i?"EXDEV"!==i.code?r(i):function(e,t,n,r){const i={overwrite:n,errorOnExist:!0};s(e,t,i,(t=>t?r(t):a(e,r)))}(e,t,n,r):r()))}e.exports={move:r((function(e,t,n,r){"function"==typeof n&&(r=n,n={});const s=n.overwrite||n.clobber||!1;if(e=o.resolve(e),t=o.resolve(t),e===t)return i.access(e,r);i.stat(e,((n,i)=>n?r(n):i.isDirectory()&&function(e,t){const n=e.split(o.sep),r=t.split(o.sep);return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}(e,t)?r(new Error(`Cannot move '${e}' to a subdirectory of itself, '${t}'.`)):void c(o.dirname(t),(n=>n?r(n):function(e,t,n,r){if(n)return a(t,(i=>i?r(i):l(e,t,n,r)));u(t,((i,o)=>i?r(i):o?r(new Error("dest already exists.")):l(e,t,n,r)))}(e,t,s,r)))))}))}},CT8L:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("jGO8");i.outputJson=r(n("vcpE")),i.outputJsonSync=n("MLNk"),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},CXIs:function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("W8fB"),s=n("AH6j"),a=n("Yl80"),c=n("DWs9"),u=n("eVLP"),l=n("HPcM"),d=n("fsQs"),f=n("6rD8"),p=n("7FSS"),h=n("TMLr");let y=Object(i.injectable)()(r=function(e,t){return Object(i.inject)(l.a)(e,void 0,0)}(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===l.a?Object:l.a])(r=class extends s.b{constructor(e){super(),this.bucket=e,this._mode=void 0,this.logWriter=void 0,this.metaWriter=void 0,this.status=f.a.Idle,this._mode=a.b.Binary,this.metaWriter=i.ModuleContainer.resolve(u.a),this._mode===a.b.Binary?(this.logWriter=i.ModuleContainer.resolve(c.a),i.ModuleContainer.resolve(h.a).init()):this.logWriter=i.ModuleContainer.resolve(c.b)}async flush(){if(this.status!==f.a.Idle)return;if(this.logWriter.writer_status()!==f.a.Idle)return;let e=Date.now();if(0!==this.bucket.size()){d.SHOW_LOGGER_LOGS&&p.a.log(`FLUSHING: ${this.bucket.size()} logs => ${this.logWriter.getPath()}...`),this.status=f.a.Busy;try{const t=this.bucket.get(d.MAX_LOGS_PER_FLUSH),n=t.length;await this.logWriter.write(t,this.metaWriter.metas,this.metaWriter.getSessionLineId)?(await this.metaWriter.flush(),this.bucket.removeFirst(n-t.length)):p.a.error(`[ZLL]: flush failed: ${t.length}/${n}`),d.SHOW_LOGGER_LOGS&&p.a.log(`FLUSHED: ${n-t.length}/${n} logs => ${this.logWriter.getPath()}. TOOK: ${Date.now()-e}ms`)}catch(t){p.a.error(`[ZLL]: flush failed: ${t}`)}this.status=f.a.Idle}}async init(){const e=await this.metaWriter.init();await this.logWriter.init(e)}})||r)||r)||r)||r;i.ModuleContainer.registerSingleton(o.c,y)},CZFA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("backup-manager-sqlite-adapter-log-utils")},CgVK:function(e,t){e.exports=require("constants")},CtPB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("uS0h"),o=n("fPcq"),s=n("pMzR"),a=n("g+yy"),c=n("6A67"),u=n("1vzR"),l=n("aMN+"),d=n("I383"),f=n("rCOr"),p=n("PvD+");function h(e,t,n){throw new Error(`${f.decodeErrPrefix} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function y(e){return()=>{throw new Error(`${f.decodeErrPrefix} ${e}`)}}const m=[];for(let _=0;_<=23;_++)m[_]=h;m[24]=i.decodeUint8,m[25]=i.decodeUint16,m[26]=i.decodeUint32,m[27]=i.decodeUint64,m[28]=h,m[29]=h,m[30]=h,m[31]=h;for(let _=32;_<=55;_++)m[_]=h;m[56]=o.decodeNegint8,m[57]=o.decodeNegint16,m[58]=o.decodeNegint32,m[59]=o.decodeNegint64,m[60]=h,m[61]=h,m[62]=h,m[63]=h;for(let _=64;_<=87;_++)m[_]=s.decodeBytesCompact;m[88]=s.decodeBytes8,m[89]=s.decodeBytes16,m[90]=s.decodeBytes32,m[91]=s.decodeBytes64,m[92]=h,m[93]=h,m[94]=h,m[95]=y("indefinite length bytes/strings are not supported");for(let _=96;_<=119;_++)m[_]=a.decodeStringCompact;m[120]=a.decodeString8,m[121]=a.decodeString16,m[122]=a.decodeString32,m[123]=a.decodeString64,m[124]=h,m[125]=h,m[126]=h,m[127]=y("indefinite length bytes/strings are not supported");for(let _=128;_<=151;_++)m[_]=c.decodeArrayCompact;m[152]=c.decodeArray8,m[153]=c.decodeArray16,m[154]=c.decodeArray32,m[155]=c.decodeArray64,m[156]=h,m[157]=h,m[158]=h,m[159]=c.decodeArrayIndefinite;for(let _=160;_<=183;_++)m[_]=u.decodeMapCompact;m[184]=u.decodeMap8,m[185]=u.decodeMap16,m[186]=u.decodeMap32,m[187]=u.decodeMap64,m[188]=h,m[189]=h,m[190]=h,m[191]=u.decodeMapIndefinite;for(let _=192;_<=215;_++)m[_]=l.decodeTagCompact;m[216]=l.decodeTag8,m[217]=l.decodeTag16,m[218]=l.decodeTag32,m[219]=l.decodeTag64,m[220]=h,m[221]=h,m[222]=h,m[223]=h;for(let _=224;_<=243;_++)m[_]=y("simple values are not supported");m[244]=h,m[245]=h,m[246]=h,m[247]=d.decodeUndefined,m[248]=y("simple values are not supported"),m[249]=d.decodeFloat16,m[250]=d.decodeFloat32,m[251]=d.decodeFloat64,m[252]=h,m[253]=h,m[254]=h,m[255]=d.decodeBreak;const g=[];for(let _=0;_<24;_++)g[_]=new r.Token(r.Type.uint,_,1);for(let _=-1;_>=-24;_--)g[31-_]=new r.Token(r.Type.negint,_,1);g[64]=new r.Token(r.Type.bytes,new Uint8Array(0),1),g[96]=new r.Token(r.Type.string,"",1),g[128]=new r.Token(r.Type.array,0,1),g[160]=new r.Token(r.Type.map,0,1),g[244]=new r.Token(r.Type.false,!1,1),g[245]=new r.Token(r.Type.true,!0,1),g[246]=new r.Token(r.Type.null,null,1),t.jump=m,t.quick=g,t.quickEncodeToken=function(e){switch(e.type){case r.Type.false:return p.fromArray([244]);case r.Type.true:return p.fromArray([245]);case r.Type.null:return p.fromArray([246]);case r.Type.bytes:return e.value.length?void 0:p.fromArray([64]);case r.Type.string:return""===e.value?p.fromArray([96]):void 0;case r.Type.array:return 0===e.value?p.fromArray([128]):void 0;case r.Type.map:return 0===e.value?p.fromArray([160]):void 0;case r.Type.uint:return e.value<24?p.fromArray([Number(e.value)]):void 0;case r.Type.negint:if(e.value>=-24)return p.fromArray([31-Number(e.value)])}}},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},CzCL:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_ENVIRONMENT="production"},CzQO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("zOht"),i=n("XdWb");t.default=function(e=[]){return function(t){return e.forEach((e=>{var{token:t,options:n}=e,o=r.__rest(e,["token","options"]);return i.instance.register(t,o,n)})),t}}},"DI/x":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"q",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return _})),n.d(t,"k",(function(){return v}));n("YEoC");const r=306,i=307,o=502;class s extends Error{constructor(e,t,n=[]){super(t),this._code=void 0,this.adapterType=null,this.qosParams=void 0,this.qosParams=[t,...n],this._code=e}get code(){return this._code}get codeString(){return`0x13${this._code}`}setStack(e){const t=`${this.name}: ${this.message}`;this.stack=t+(e||"")}setAdaperType(e){this.adapterType=e}}class a extends s{constructor(e,t,n){super(104,`'${e}' - ${t}`,n),this.name="WrongUseOfMethod"}}class c extends s{constructor(e,t){super(205,`Missing config for'${e}' index!`,t),this.name="MissingIndexConfig"}}class u extends s{constructor(e,t){super(210,`Missing config 'corruptionImpact' for '${e}'!`,t),this.name="MissingCorruptionImpactConfigError"}}class l extends s{constructor(e,t){super(207,`Missing field config for '${e}' field!`,t),this.name="MissingFieldConfig"}}class d extends s{constructor(e,t){super(301,e,t),this.name="InvalidQueryParams"}}class f extends s{constructor(e,t){super(303,e,t),this.name="DataTransformError"}}class p extends s{constructor(e,t){super(305,e,t),this.name="DBConnectionError"}}class h extends s{constructor(e,t){super(401,e,t),this.name="SQLiteAdapterError"}}class y extends s{constructor(e,t){super(402,e,t),this.name="SQLiteConnectionError"}}class m extends s{constructor(e,t){super(403,e,t),this.name="SQLiteStatementError"}}class g extends s{constructor(e,t,n){super(404,`An error ocurred during resolve corruption for database ${e}. Details: ${t}`,n),this.name="SQLiteResolveCorruptError"}}class _ extends s{constructor(e,t){super(501,e,t),this.name="SchemaMigrationError"}}class v extends s{constructor(e,t,n){const r=`Found missing table(s): ${JSON.stringify(t)}. But current adapter cannot create table without increasing the database version.`;super(o,r,n),this.database=e,this.missingTables=t,this.name="MissingTableError"}}},DWs9:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("jDHv");const i=Object(r.define)("physical-text-writer"),o=Object(r.define)("physical-bin-writer")},DadK:function(e,t,n){var r,i,o=n("mw/K"),s=n("oKM5"),a=n("wC+q"),c=n("7G0M"),u=n("jK02");"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var l=function(){};if(u.debuglog?l=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ")}),!global[r]){var d=[];Object.defineProperty(global,r,{get:function(){return d}}),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||h(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),h()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){l(global[r]),n("Qs3B").equal(global[r].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),h()):p([e,[n,r,i]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),h()):p([e,[t,r,i,o]])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),h()):p([e,[t,n,i,o]])}))}(e,t,n,i)});var i=e.readdir;function o(t){return i.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),h()):p([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var c=a(e);d=c.ReadStream,y=c.WriteStream}var u=e.ReadStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var l=e.WriteStream;function d(e,t){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function y(e,t){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var m=e.open;function g(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return m(t,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),h()):p([e,[t,n,r,i]])}))}(e,t,n,r)}return e.open=g,e}function p(e){l("ENQUEUE",e[0].name,e[1]),global[r].push(e)}function h(){var e=global[r].shift();e&&(l("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},E2jh:function(e,t,n){var r,i=n("2gN3"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},E4JC:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&l,f=l<<16|65535&u;for(i[0]^=u,i[1]^=d,i[2]^=l,i[3]^=f,i[4]^=u,i[5]^=d,i[6]^=l,i[7]^=f,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},EHIF:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},ELcG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,p,b,w,E,S,T,I,O,C,P=this._hash.words,A=d.words,k=f.words,j=a.words,D=c.words,R=u.words,x=l.words;for(E=o=P[0],S=s=P[1],T=p=P[2],I=b=P[3],O=w=P[4],n=0;n<80;n+=1)C=o+e[t+j[n]]|0,C+=n<16?h(s,p,b)+A[0]:n<32?y(s,p,b)+A[1]:n<48?m(s,p,b)+A[2]:n<64?g(s,p,b)+A[3]:_(s,p,b)+A[4],C=(C=v(C|=0,R[n]))+w|0,o=w,w=b,b=v(p,10),p=s,s=C,C=E+e[t+D[n]]|0,C+=n<16?_(S,T,I)+k[0]:n<32?g(S,T,I)+k[1]:n<48?m(S,T,I)+k[2]:n<64?y(S,T,I)+k[3]:h(S,T,I)+k[4],C=(C=v(C|=0,x[n]))+O|0,E=O,O=I,I=v(T,10),T=S,S=C;C=P[1]+p+I|0,P[1]=P[2]+b+O|0,P[2]=P[3]+w+E|0,P[3]=P[4]+o+S|0,P[4]=P[0]+s+T|0,P[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function y(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function _(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(p),t.HmacRIPEMD160=o._createHmacHelper(p)}(Math),r.RIPEMD160)},ETIr:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,c=r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},EXGp:function(e,t){e.exports=require("../native/nativelibs")},Eisa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineInjectionTokenMetadata=t.getParamInfo=t.INJECTION_TOKEN_METADATA_KEY=void 0,t.INJECTION_TOKEN_METADATA_KEY="injectionTokens",t.getParamInfo=function(e){const n=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(t.INJECTION_TOKEN_METADATA_KEY,e)||{};return Object.keys(r).forEach((e=>{n[+e]=r[e]})),n},t.defineInjectionTokenMetadata=function(e,n){return function(r,i,o){const s=Reflect.getOwnMetadata(t.INJECTION_TOKEN_METADATA_KEY,r)||{};s[o]=n?{token:e,transform:n.transformToken,transformArgs:n.args||[]}:e,Reflect.defineMetadata(t.INJECTION_TOKEN_METADATA_KEY,s,r)}}},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"F+F2":function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},F1Ur:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);t.Token=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}},t.Type=r},F8zz:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF"),i=n("spuD").getGlobalObject();function o(e,t){const n=e,i=[];let o,s,a,c,u;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),o=n.className,o&&r.isString(o))for(s=o.split(/\s+/),u=0;u<s.length;u++)i.push(`.${s[u]}`);const d=["aria-label","type","name","title","alt"];for(u=0;u<d.length;u++)a=d[u],c=n.getAttribute(a),c&&i.push(`[${a}="${c}"]`);return i.join("")}t.getDomElement=function(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null},t.getLocationHref=function(){try{return i.document.location.href}catch(e){return""}},t.htmlTreeAsString=function(e,t={}){try{let n=e;const r=5,i=[];let s=0,a=0;const c=" > ",u=c.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<r&&(l=o(n,d),!("html"===l||s>1&&a+i.length*u+l.length>=f));)i.push(l),a+=l.length,n=n.parentNode;return i.reverse().join(c)}catch(n){return"<unknown>"}}},FBx5:function(e,t,n){"use strict";const r=n("zArx");e.exports=class{constructor(e){const t=new r;e=e||{},this.fifo="boolean"==typeof e.fifo?e.fifo:t.fifo,this.priorityRange=e.priorityRange||t.priorityRange,this.testOnBorrow="boolean"==typeof e.testOnBorrow?e.testOnBorrow:t.testOnBorrow,this.testOnReturn="boolean"==typeof e.testOnReturn?e.testOnReturn:t.testOnReturn,this.autostart="boolean"==typeof e.autostart?e.autostart:t.autostart,e.acquireTimeoutMillis&&(this.acquireTimeoutMillis=parseInt(e.acquireTimeoutMillis,10)),e.destroyTimeoutMillis&&(this.destroyTimeoutMillis=parseInt(e.destroyTimeoutMillis,10)),void 0!==e.maxWaitingClients&&(this.maxWaitingClients=parseInt(e.maxWaitingClients,10)),this.max=parseInt(e.max,10),this.min=parseInt(e.min,10),this.max=Math.max(isNaN(this.max)?1:this.max,1),this.min=Math.min(isNaN(this.min)?0:this.min,this.max),this.evictionRunIntervalMillis=e.evictionRunIntervalMillis||t.evictionRunIntervalMillis,this.numTestsPerEvictionRun=e.numTestsPerEvictionRun||t.numTestsPerEvictionRun,this.softIdleTimeoutMillis=e.softIdleTimeoutMillis||t.softIdleTimeoutMillis,this.idleTimeoutMillis=e.idleTimeoutMillis||t.idleTimeoutMillis,this.Promise=null!=e.Promise?e.Promise:t.Promise}}},FQX0:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},"Fba/":function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},FdZK:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},FoAr:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfUrlSegments=function(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length},t.getSanitizedUrlString=function(e){const{protocol:t,host:n,path:r}=e;return`${t?`${t}://`:""}${n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(":80","").replace(":443","")||""}${r}`},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}},t.stripUrlQueryAndFragment=function(e){return e.split(/[\?#]/,1)[0]}},G8qQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("zOht");if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");var i=n("o+6O");Object.defineProperty(t,"Lifecycle",{enumerable:!0,get:function(){return i.Lifecycle}}),r.__exportStar(n("PBHk"),t),r.__exportStar(n("9sgf"),t),r.__exportStar(n("bqdI"),t);var o=n("2xh+");Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return o.delay}});var s=n("XdWb");Object.defineProperty(t,"container",{enumerable:!0,get:function(){return s.instance}})},GNiM:function(e,t,n){var r=n("I01J"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},GRuw:function(e,t,n){var r,i,o,s,a,c;e.exports=(c=n("Ib8C"),n("lPiR"),i=(r=c).lib.WordArray,o=r.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),c.SHA224)},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},Gpy1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathCase=void 0;var r=n("6cSt"),i=n("sgrp");t.pathCase=function(e,t){return void 0===t&&(t={}),i.dotCase(e,r.__assign({delimiter:"/"},t))}},Gtd2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("JOqG"),i=n("F1Ur"),o=n("49vF"),s=n("rCOr"),a=n("CtPB"),c=n("PvD+"),u=n("uS0h"),l=n("fPcq"),d=n("pMzR"),f=n("g+yy"),p=n("6A67"),h=n("1vzR"),y=n("aMN+"),m=n("I383");const g={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=v[i].compareTokens(n,r);return o},quickEncodeToken:a.quickEncodeToken};function _(){const e=[];return e[i.Type.uint.major]=u.encodeUint,e[i.Type.negint.major]=l.encodeNegint,e[i.Type.bytes.major]=d.encodeBytes,e[i.Type.string.major]=f.encodeString,e[i.Type.array.major]=p.encodeArray,e[i.Type.map.major]=h.encodeMap,e[i.Type.tag.major]=y.encodeTag,e[i.Type.float.major]=m.encodeFloat,e}const v=_(),b=new o.Bl;class w{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${s.encodeErrPrefix} object contains circular references`);return new w(t,e)}}const E={null:new i.Token(i.Type.null,null),undefined:new i.Token(i.Type.undefined,void 0),true:new i.Token(i.Type.true,!0),false:new i.Token(i.Type.false,!1),emptyArray:new i.Token(i.Type.array,0),emptyMap:new i.Token(i.Type.map,0)},S={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.Token(i.Type.uint,e):new i.Token(i.Type.negint,e):new i.Token(i.Type.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new i.Token(i.Type.uint,e):new i.Token(i.Type.negint,e),Uint8Array:(e,t,n,r)=>new i.Token(i.Type.bytes,e),string:(e,t,n,r)=>new i.Token(i.Type.string,e),boolean:(e,t,n,r)=>e?E.true:E.false,null:(e,t,n,r)=>E.null,undefined:(e,t,n,r)=>E.undefined,ArrayBuffer:(e,t,n,r)=>new i.Token(i.Type.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new i.Token(i.Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[E.emptyArray,new i.Token(i.Type.break)]:E.emptyArray;r=w.createCheck(r,e);const o=[];let s=0;for(const i of e)o[s++]=T(i,n,r);return n.addBreakTokens?[new i.Token(i.Type.array,e.length),o,new i.Token(i.Type.break)]:[new i.Token(i.Type.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,s=o?e.keys():Object.keys(e),a=o?e.size:s.length;if(!a)return!0===n.addBreakTokens?[E.emptyMap,new i.Token(i.Type.break)]:E.emptyMap;r=w.createCheck(r,e);const c=[];let u=0;for(const i of s)c[u++]=[T(i,n,r),T(o?e.get(i):e[i],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,n),n.addBreakTokens?[new i.Token(i.Type.map,a),c,new i.Token(i.Type.break)]:[new i.Token(i.Type.map,a),c]}};S.Map=S.Object,S.Buffer=S.Uint8Array;for(const C of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))S[`${C}Array`]=S.DataView;function T(e,t={},n){const i=r.is(e),o=t&&t.typeEncoders&&t.typeEncoders[i]||S[i];if("function"==typeof o){const r=o(e,i,t,n);if(null!=r)return r}const a=S[i];if(!a)throw new Error(`${s.encodeErrPrefix} unsupported type: ${i}`);return a(e,i,t,n)}function I(e,t,n,r){if(Array.isArray(t))for(const i of t)I(e,i,n,r);else n[t.type.major](e,t,r)}function O(e,t,n){const r=T(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new o.Bl(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return c.asU8A(t.chunks[0])}}return b.reset(),I(b,r,t,n),b.toBytes(!0)}t.Ref=w,t.encode=function(e,t){return t=Object.assign({},g,t),O(e,v,t)},t.encodeCustom=O,t.makeCborEncoders=_,t.objectToTokens=T},GwQQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFactoryProvider=void 0,t.isFactoryProvider=function(e){return!!e.useFactory}},H8j4:function(e,t,n){var r=n("QkVE");e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},HD3z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=!1},HNyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i="7";function o(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t={}){const n="string"==typeof t?t:t.tunnel,s="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r.urlEncode({sentry_key:e.publicKey,sentry_version:i,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,s)}`},t.getReportDialogEndpoint=function(e,t){const n=r.makeDsn(e);if(!n)return"";const i=`${o(n)}embed/error-page/`;let s=`dsn=${r.dsnToString(n)}`;for(const r in t)if("dsn"!==r)if("user"===r){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`;return`${i}?${s}`}},HPcM:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("jDHv");const i=Object(r.define)("zlog-sentry-bucket"),o=Object(r.define)("zlog-regular-bucket")},HZV2:function(e,t,n){"use strict";const r=n("/0p4").EventEmitter,i=n("2OCW"),o=n("FBx5"),s=n("LqCy"),a=n("BlZs"),c=n("iqfJ"),u=(n("tvG6"),n("RYQB"),n("mr5d")),l=(n("ml0M"),n("YdM9"),n("P0tt").reflector);e.exports=class extends r{constructor(e,t,n,r,s){super(),i(r),this._config=new o(s),this._Promise=this._config.Promise,this._factory=r,this._draining=!1,this._started=!1,this._waitingClientsQueue=new n(this._config.priorityRange),this._factoryCreateOperations=new Set,this._factoryDestroyOperations=new Set,this._availableObjects=new t,this._testOnBorrowResources=new Set,this._testOnReturnResources=new Set,this._validationOperations=new Set,this._allObjects=new Set,this._resourceLoans=new Map,this._evictionIterator=this._availableObjects.iterator(),this._evictor=new e,this._scheduledEviction=null,!0===this._config.autostart&&this.start()}_destroy(e){e.invalidate(),this._allObjects.delete(e);const t=this._factory.destroy(e.obj),n=this._config.destroyTimeoutMillis?this._Promise.resolve(this._applyDestroyTimeout(t)):this._Promise.resolve(t);this._trackOperation(n,this._factoryDestroyOperations).catch((e=>{this.emit("factoryDestroyError",e)})),this._ensureMinimum()}_applyDestroyTimeout(e){const t=new this._Promise(((e,t)=>{setTimeout((()=>{t(new Error("destroy timed out"))}),this._config.destroyTimeoutMillis).unref()}));return this._Promise.race([t,e])}_testOnBorrow(){if(this._availableObjects.length<1)return!1;const e=this._availableObjects.shift();e.test(),this._testOnBorrowResources.add(e);const t=this._factory.validate(e.obj),n=this._Promise.resolve(t);return this._trackOperation(n,this._validationOperations).then((t=>{if(this._testOnBorrowResources.delete(e),!1===t)return e.invalidate(),this._destroy(e),void this._dispense();this._dispatchPooledResourceToNextWaitingClient(e)})),!0}_dispatchResource(){if(this._availableObjects.length<1)return!1;const e=this._availableObjects.shift();return this._dispatchPooledResourceToNextWaitingClient(e),!1}_dispense(){const e=this._waitingClientsQueue.length;if(e<1)return;const t=e-this._potentiallyAllocableResourceCount,n=Math.min(this.spareResourceCapacity,t);for(let r=0;n>r;r++)this._createResource();if(!0===this._config.testOnBorrow){const t=e-this._testOnBorrowResources.size,n=Math.min(this._availableObjects.length,t);for(let e=0;n>e;e++)this._testOnBorrow()}if(!1===this._config.testOnBorrow){const t=Math.min(this._availableObjects.length,e);for(let e=0;t>e;e++)this._dispatchResource()}}_dispatchPooledResourceToNextWaitingClient(e){const t=this._waitingClientsQueue.dequeue();if(void 0===t||t.state!==u.PENDING)return this._addPooledResourceToAvailableObjects(e),!1;const n=new a(e,this._Promise);return this._resourceLoans.set(e.obj,n),e.allocate(),t.resolve(e.obj),!0}_trackOperation(e,t){return t.add(e),e.then((n=>(t.delete(e),this._Promise.resolve(n))),(n=>(t.delete(e),this._Promise.reject(n))))}_createResource(){const e=this._factory.create(),t=this._Promise.resolve(e).then((e=>{const t=new c(e);this._allObjects.add(t),this._addPooledResourceToAvailableObjects(t)}));this._trackOperation(t,this._factoryCreateOperations).then((()=>(this._dispense(),null))).catch((e=>{this.emit("factoryCreateError",e),this._dispense()}))}_ensureMinimum(){if(!0===this._draining)return;const e=this._config.min-this._count;for(let t=0;t<e;t++)this._createResource()}_evict(){const e=Math.min(this._config.numTestsPerEvictionRun,this._availableObjects.length),t={softIdleTimeoutMillis:this._config.softIdleTimeoutMillis,idleTimeoutMillis:this._config.idleTimeoutMillis,min:this._config.min};for(let n=0;n<e;){const e=this._evictionIterator.next();if(!0===e.done&&this._availableObjects.length<1)return void this._evictionIterator.reset();if(!0===e.done&&this._availableObjects.length>0){this._evictionIterator.reset();continue}const r=e.value;n++,!0===this._evictor.evict(t,r,this._availableObjects.length)&&(this._evictionIterator.remove(),this._destroy(r))}}_scheduleEvictorRun(){this._config.evictionRunIntervalMillis>0&&(this._scheduledEviction=setTimeout((()=>{this._evict(),this._scheduleEvictorRun()}),this._config.evictionRunIntervalMillis).unref())}_descheduleEvictorRun(){this._scheduledEviction&&clearTimeout(this._scheduledEviction),this._scheduledEviction=null}start(){!0!==this._draining&&!0!==this._started&&(this._started=!0,this._scheduleEvictorRun(),this._ensureMinimum())}acquire(e){if(!1===this._started&&!1===this._config.autostart&&this.start(),this._draining)return this._Promise.reject(new Error("pool is draining and cannot accept work"));if(this.spareResourceCapacity<1&&this._availableObjects.length<1&&void 0!==this._config.maxWaitingClients&&this._waitingClientsQueue.length>=this._config.maxWaitingClients)return this._Promise.reject(new Error("max waitingClients count exceeded"));const t=new s(this._config.acquireTimeoutMillis,this._Promise);return this._waitingClientsQueue.enqueue(t,e),this._dispense(),t.promise}use(e,t){return this.acquire(t).then((t=>e(t).then((e=>(this.release(t),e)),(e=>{throw this.destroy(t),e}))))}isBorrowedResource(e){return this._resourceLoans.has(e)}release(e){const t=this._resourceLoans.get(e);if(void 0===t)return this._Promise.reject(new Error("Resource not currently part of this pool"));this._resourceLoans.delete(e),t.resolve();const n=t.pooledResource;return n.deallocate(),this._addPooledResourceToAvailableObjects(n),this._dispense(),this._Promise.resolve()}destroy(e){const t=this._resourceLoans.get(e);if(void 0===t)return this._Promise.reject(new Error("Resource not currently part of this pool"));this._resourceLoans.delete(e),t.resolve();const n=t.pooledResource;return n.deallocate(),this._destroy(n),this._dispense(),this._Promise.resolve()}_addPooledResourceToAvailableObjects(e){e.idle(),!0===this._config.fifo?this._availableObjects.push(e):this._availableObjects.unshift(e)}drain(){return this._draining=!0,this.__allResourceRequestsSettled().then((()=>this.__allResourcesReturned())).then((()=>{this._descheduleEvictorRun()}))}__allResourceRequestsSettled(){return this._waitingClientsQueue.length>0?l(this._waitingClientsQueue.tail.promise):this._Promise.resolve()}__allResourcesReturned(){const e=Array.from(this._resourceLoans.values()).map((e=>e.promise)).map(l);return this._Promise.all(e)}clear(){const e=Array.from(this._factoryCreateOperations).map(l);return this._Promise.all(e).then((()=>{for(const t of this._availableObjects)this._destroy(t);const e=Array.from(this._factoryDestroyOperations).map(l);return l(this._Promise.all(e))}))}ready(){return new this._Promise((e=>{const t=()=>{this.available>=this.min?e():setTimeout(t,100)};t()}))}get _potentiallyAllocableResourceCount(){return this._availableObjects.length+this._testOnBorrowResources.size+this._testOnReturnResources.size+this._factoryCreateOperations.size}get _count(){return this._allObjects.size+this._factoryCreateOperations.size}get spareResourceCapacity(){return this._config.max-(this._allObjects.size+this._factoryCreateOperations.size)}get size(){return this._count}get available(){return this._availableObjects.length}get borrowed(){return this._resourceLoans.size}get pending(){return this._waitingClientsQueue.length}get max(){return this._config.max}get min(){return this._config.min}}},HcOx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lowerCase=t.localeLowerCase=void 0;var r={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"Ä°":"i",I:"Ä±","IÌ‡":"i"}},az:{regexp:/\u0130/g,map:{"Ä°":"i",I:"Ä±","IÌ‡":"i"}},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"iÌ‡",J:"jÌ‡","Ä®":"Ä¯Ì‡","ÃŒ":"iÌ‡Ì€","Ã":"iÌ‡Ì","Ä¨":"iÌ‡Ìƒ"}}};function i(e){return e.toLowerCase()}t.localeLowerCase=function(e,t){var n=r[t.toLowerCase()];return i(n?e.replace(n.regexp,(function(e){return n.map[e]})):e)},t.lowerCase=i},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"I++M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTokenProvider=void 0,t.isTokenProvider=function(e){return!!e.useToken}},I01J:function(e,t,n){var r=n("44Ds");e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},I383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("rCOr"),o=n("uS0h");function s(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${i.decodeErrPrefix} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${i.decodeErrPrefix} Infinity values are not supported`)}return new r.Token(r.Type.float,e,t)}function a(e,t,n){const i=t.value;if(!1===i)e.push([20|r.Type.float.majorEncoded]);else if(!0===i)e.push([21|r.Type.float.majorEncoded]);else if(null===i)e.push([22|r.Type.float.majorEncoded]);else if(void 0===i)e.push([23|r.Type.float.majorEncoded]);else{let t,r=!1;n&&!0===n.float64||(d(i),t=f(l,1),i===t||Number.isNaN(i)?(l[0]=249,e.push(l.slice(0,3)),r=!0):(p(i),t=h(l,1),i===t&&(l[0]=250,e.push(l.slice(0,5)),r=!0))),r||(o=i,u.setFloat64(0,o,!1),t=y(l,1),l[0]=251,e.push(l.slice(0,9)))}var o}a.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null==n)return 1;if(!t||!0!==t.float64){d(n);let e=f(l,1);if(n===e||Number.isNaN(n))return 3;if(p(n),e=h(l,1),n===e)return 5}return 9};const c=new ArrayBuffer(9),u=new DataView(c,1),l=new Uint8Array(c,0);function d(e){if(e===1/0)u.setUint16(0,31744,!1);else if(e===-1/0)u.setUint16(0,64512,!1);else if(Number.isNaN(e))u.setUint16(0,32256,!1);else{u.setFloat32(0,e);const t=u.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)u.setUint16(0,31744,!1);else if(0===n)u.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?u.setUint16(0,0):e<-14?u.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):u.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function f(e,t){if(e.length-t<2)throw new Error(`${i.decodeErrPrefix} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let s;return s=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-s:s}function p(e){u.setFloat32(0,e,!1)}function h(e,t){if(e.length-t<4)throw new Error(`${i.decodeErrPrefix} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function y(e,t){if(e.length-t<8)throw new Error(`${i.decodeErrPrefix} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}a.compareTokens=o.encodeUint.compareTokens,t.decodeBreak=function(e,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${i.decodeErrPrefix} indefinite length items not allowed`);return new r.Token(r.Type.break,void 0,1)},t.decodeFloat16=function(e,t,n,r){return s(f(e,t+1),3,r)},t.decodeFloat32=function(e,t,n,r){return s(h(e,t+1),5,r)},t.decodeFloat64=function(e,t,n,r){return s(y(e,t+1),9,r)},t.decodeUndefined=function(e,t,n,o){if(!1===o.allowUndefined)throw new Error(`${i.decodeErrPrefix} undefined values are not supported`);return!0===o.coerceUndefinedToNull?new r.Token(r.Type.null,null,1):new r.Token(r.Type.undefined,void 0,1)},t.encodeFloat=a},IVHb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="SCRIPT_PERFORMER"},Ib8C:function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,c);n.sigBytes-=u}return new s.init(d,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},IpiK:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv");const c=new s.d({tableName:"ConvMsgStatus",name:"ConvMsgStatus",fields:{userId:{name:"userId",type:i.h.string},data:{name:"data",type:i.h.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),u=new s.d({tableName:"MsgInfo",name:"MsgInfo",fields:{msgId:{name:"msgId",type:i.h.integer},seenUids:{name:"seenUids",type:i.h.json},deliveredUids:{name:"deliveredUids",type:i.h.json},extraJson:{name:"extraJson",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}});var l=n("4W2c");const d=new s.d({tableName:"MsgUrgency",name:"MsgUrgency",fields:{sendDttm:{name:"sendDttm",type:i.h.string},cliMsgId:{name:"cliMsgId",type:i.h.string},fromUid:{name:"fromUid",type:i.h.string},mentions:{name:"mentions",type:i.h.json,nullable:!0},message:{name:"message",type:i.h.json},msgId:{name:"msgId",type:i.h.string},msgType:{name:"msgType",type:i.h.integer},toUid:{name:"toUid",type:i.h.string},src:{name:"src",type:i.h.integer,nullable:!0},quote:{name:"quote",type:i.h.json,nullable:!0},properties:{name:"properties",type:i.h.json,nullable:!0},urgency:{name:"urgency",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},sendDttm:{name:"sendDttm",fields:[{type:"raw",field:"sendDttm"}],unique:!1},conv_msgId:{name:"conv_msgId",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"msgId"}],unique:!0}},transforms:[new l.a(["message"])]});d.setAdapterSpecificConfigs(i.a.IDB,{}),d.setAdapterSpecificConfigs(i.a.SQLite,{});const f=new s.d({tableName:"Quotes",name:"Quotes",fields:{msgId:{name:"msgId",type:i.h.integer},convId:{name:"convId",type:i.h.string},sendDttm:{name:"sendDttm",type:i.h.integer},parentId:{name:"parentId",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},convId_sendDttm:{name:"convId_sendDttm",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"}],unique:!1}}}),p=new s.d({tableName:"ThreadHis",name:"ThreadHis",fields:{msgId:{name:"msgId",type:i.h.integer},toUid:{name:"toUid",type:i.h.string},isGroup:{name:"isGroup",type:i.h.boolean},childs:{name:"childs",type:i.h.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),h=new s.d({tableName:"ThreadMsg",name:"ThreadMsg",fields:{ownerId:{name:"ownerId",type:i.h.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.integer},globalMsgId:{name:"globalMsgId",type:i.h.integer},cliMsgType:{name:"cliMsgType",type:i.h.integer},ts:{name:"ts",type:i.h.integer},msg:{name:"msg",type:i.h.string},attach:{name:"attach",type:i.h.string},fromD:{name:"fromD",type:i.h.string},convId:{name:"convId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalMsgId"}],unique:!0}},transforms:[new l.a(["msg","attach"])]});h.setAdapterSpecificConfigs(i.a.IDB,{}),h.setAdapterSpecificConfigs(i.a.SQLite,{});const y=new s.d({tableName:"TTLItem",name:"TTLItem",fields:{cliMsgId:{name:"cliMsgId",type:i.h.string},fromUid:{name:"fromUid",type:i.h.string},toUid:{name:"toUid",type:i.h.string},msgId:{name:"msgId",type:i.h.string},beginTime:{name:"beginTime",type:i.h.integer},sendDttm:{name:"sendDttm",type:i.h.string,nullable:!0},serverTime:{name:"serverTime",type:i.h.string},ttl:{name:"ttl",type:i.h.integer},ttlType:{name:"ttlType",type:i.h.string},expireOn:{name:"expireOn",type:i.h.integer},mediaType:{name:"mediaType",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0},expireOn_toUid_pk:{name:"expireOn_toUid_pk",fields:[{type:"raw",field:"expireOn"},{type:"raw",field:"toUid"},{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0},toUid_serverTime_pk:{name:"toUid_serverTime_pk",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"serverTime"},{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0}}}),m={ConvMsgStatus:c,MsgInfo:u,MsgUrgency:d,Quotes:f,ThreadMsg:h,ThreadHis:p,UnreadInfo:new s.d({tableName:"unreadInfo",name:"UnreadInfo",fields:{mId:{name:"mId",type:i.h.integer},userId:{name:"userId",type:i.h.string},timestamp:{name:"timestamp",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),TTLItem:y},g={name:"MsgInfo",session:!0},_={partitionNamingStrategy:[o.a.byUser(),o.a.const("MsgInfo")],partitionsMap:Object(a.a)(m)},v={partitionNamingStrategy:[o.a.const("msginfo"),o.a.byUser()],partitionsMap:Object(a.a)(m)},b=Object(r.a)(Object(r.a)(Object(r.a)({},g),_),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_FULL}),w=Object(r.a)(Object(r.a)(Object(r.a)({},g),v),{},{version:6,milestoneVersion:6,type:i.a.IDB});let E=null,S=null;t.a={baseConfig:g,schema:m,get useSqlite(){return null===E&&(E=new s.a(b)),E},get useIdb(){return null===S&&(S=new s.a(w)),S}}},IpzU:function(e,t,n){"use strict";n.r(t),n.d(t,"getSearchIndexSQLPaths",(function(){return u})),n.d(t,"getAppPath",(function(){return l})),n.d(t,"getAppPathSync",(function(){return d})),n.d(t,"getuserDataDir",(function(){return f})),n.d(t,"getuserDataDirSync",(function(){return p})),n.d(t,"getappDataDir",(function(){return h})),n.d(t,"getappDataDirSync",(function(){return y})),n.d(t,"gethomeDir",(function(){return m})),n.d(t,"gethomeDirSync",(function(){return g})),n.d(t,"gethomeDirSyncAlt",(function(){return _})),n.d(t,"getexeDir",(function(){return v})),n.d(t,"getexeDirSync",(function(){return b})),n.d(t,"getdesktopDir",(function(){return w})),n.d(t,"gettempDir",(function(){return E})),n.d(t,"gettempDirSync",(function(){return S})),n.d(t,"gettempDirSyncAlt",(function(){return T})),n.d(t,"getZaloAppDir",(function(){return I})),n.d(t,"getZaloAppDirSync",(function(){return O})),n.d(t,"getZaloDirSync",(function(){return C})),n.d(t,"getZaloDir",(function(){return P})),n.d(t,"getZaloPCDir",(function(){return A})),n.d(t,"getZaloPCDirSync",(function(){return k})),n.d(t,"getZaloPCDirSyncAlt",(function(){return j})),n.d(t,"getUserZaloPCDir",(function(){return D})),n.d(t,"getUserZaloPCDirSync",(function(){return R})),n.d(t,"getUserZaloDownloadsDir",(function(){return x})),n.d(t,"getUserZaloDownloadsDirSync",(function(){return N})),n.d(t,"getZaloDownloadsVideoDir",(function(){return M})),n.d(t,"getZaloDownloadsVideoDirSync",(function(){return L})),n.d(t,"getZaloDownloadsVoiceDir",(function(){return B})),n.d(t,"getZaloDownloadsVoiceDirSync",(function(){return F})),n.d(t,"getZaloDownloadsRichThumbDir",(function(){return U})),n.d(t,"getZaloDownloadsRichThumbDirSync",(function(){return z})),n.d(t,"getZaloDownloadsPictureDir",(function(){return q})),n.d(t,"getZaloDownloadsPictureDirSync",(function(){return G})),n.d(t,"getZaloDownloadsCacheDir",(function(){return $})),n.d(t,"getZaloDownloadsCacheDirSync",(function(){return H})),n.d(t,"getZaloTempDir",(function(){return Q})),n.d(t,"getZaloTempDirSync",(function(){return K})),n.d(t,"getZaloTempDirSyncAlt",(function(){return Y})),n.d(t,"getzTempDir",(function(){return V})),n.d(t,"getzTempDirSync",(function(){return W})),n.d(t,"getzTempDirSyncAlt",(function(){return Z})),n.d(t,"getDefaultZaloReceivedFiles",(function(){return J})),n.d(t,"getDefaultZaloReceivedFilesSync",(function(){return X})),n.d(t,"getDefaultZaloReceivedFilesSyncAlt",(function(){return ee})),n.d(t,"getZaloDownloadsFileDir",(function(){return te})),n.d(t,"getZaloDownloadsFileNoiseDir",(function(){return ne})),n.d(t,"getZaloDownloadsFileDirSync",(function(){return re})),n.d(t,"getZaloDownloadsFileNoiseDirSync",(function(){return ie})),n.d(t,"getZaloDownloadsFileThumbDir",(function(){return oe})),n.d(t,"getZaloDownloadsFileThumbDirSync",(function(){return se})),n.d(t,"getZaloDownloadsSubDir",(function(){return ae})),n.d(t,"getUserCacheDir",(function(){return ce})),n.d(t,"getCloudDirSync",(function(){return ue}));var r=n("jDHv"),i=n("hzFW"),o=n("1pet");const s=["db","db-shm","db-wal"],a=r.ModuleContainer.resolve(i.a).createAppPathManager(),c=n("oyvS"),u=async e=>{const t=await P();return s.map((n=>c.resolve(`${t}/ftsm_${e}.${n}`)))},l=async()=>c.join(await a.getAppPath(),c.sep),d=()=>c.join(a.getAppPathSync(),c.sep),f=async()=>c.join(await a.getPath("userData"),c.sep),p=()=>c.join(a.getPathSync("userData"),c.sep),h=async()=>c.join(await a.getPath("appData"),c.sep),y=()=>c.join(a.getPathSync("appData"),c.sep),m=async()=>c.join(await a.getPath("home"),c.sep),g=()=>c.join(a.getPathSync("home"),c.sep),_=()=>c.join(a.getPathSync("home"),c.sep),v=async()=>c.dirname(c.join(await a.getPath("exe"),c.sep)),b=()=>c.join(a.getPathSync("exe"),c.sep),w=async()=>c.join(await a.getPath("desktop"),c.sep),E=async()=>c.join(await a.getPath("temp"),c.sep),S=()=>c.join(a.getPathSync("temp"),c.sep),T=()=>c.join(a.getPathSync("temp"),c.sep),I=async()=>c.join(await h(),"ZaloData",c.sep),O=()=>c.join(y(),"ZaloData",c.sep),C=()=>c.join(y(),"ZaloData",c.sep),P=async()=>c.join(await h(),"ZaloData",c.sep),A=async()=>c.join(await h(),"ZaloPC",c.sep),k=()=>c.join(y(),"ZaloPC",c.sep),j=()=>c.join(y(),"ZaloPC",c.sep),D=async e=>c.join(await A(),e,c.sep),R=e=>c.join(k(),e,c.sep),x=async e=>c.join(await D(e),"ZaloDownloads",c.sep),N=e=>c.join(R(e),"ZaloDownloads",c.sep),M=async(e,t)=>{if(!e)return"";let n=await x(e);return null!=t&&t.startsWith(o.b)?c.join(n,"video","group",c.sep):c.join(n,"video",c.sep)},L=(e,t)=>{let n=N(e);return null!=t&&t.startsWith(o.b)?c.join(n,"video","group",c.sep):c.join(n,"video",c.sep)},B=async(e,t)=>{if(!e)return"";let n=await x(e);return null!=t&&t.startsWith(o.b)?c.join(n,"voice","group",c.sep):c.join(n,"voice",c.sep)},F=(e,t)=>{let n=N(e);return null!=t&&t.startsWith(o.b)?c.join(n,"voice","group",c.sep):c.join(n,"voice",c.sep)},U=async(e,t)=>{if(!e)return"";let n=await x(e);return null!=t&&t.startsWith(o.b)?c.join(n,"richThumb","group",c.sep):c.join(n,"richThumb",c.sep)},z=(e,t)=>{let n=N(e);return null!=t&&t.startsWith(o.b)?c.join(n,"richThumb","group",c.sep):c.join(n,"richThumb",c.sep)},q=async(e,t)=>{var n;if(!t)return"";let r=await x(t),i=e;return null!==(n=i)&&void 0!==n&&n.startsWith(o.b)&&(i=i.slice(1)+"_group"),c.join(r,"picture",i,c.sep)},G=(e,t)=>{var n;if(!t)return"";let r=N(t),i=e;return null!==(n=i)&&void 0!==n&&n.startsWith(o.b)&&(i=i.slice(1)+"_group"),c.join(r,"picture",i,c.sep)},$=async(e,t)=>{if(!t)return"";let n=await x(t),r="";return e.startsWith(o.b)&&(r="group"),c.join(n,"Cache",r,c.sep)},H=(e,t)=>{if(!t)return"";let n=N(t),r="";return e.startsWith(o.b)&&(r="group"),c.join(n,"Cache",r,c.sep)},Q=async()=>c.join(await E(),"Zalo Temp",c.sep),K=()=>c.join(S(),"Zalo Temp",c.sep),Y=()=>c.join(c.sep,"private",S(),"Zalo Temp",c.sep),V=async()=>c.join(await E(),"zTemp",c.sep),W=()=>c.join(S(),"zTemp",c.sep),Z=()=>c.join(c.sep,"private",S(),"zTemp",c.sep),J=async()=>c.join(await m(),"Documents","Zalo Received Files",c.sep),X=()=>c.join(g(),"Documents","Zalo Received Files",c.sep),ee=()=>c.join(_(),"Documents","Zalo Received Files",c.sep),te=async(e,t)=>{if(!t)return"";let n=await x(t),r="";return e.startsWith(o.b)&&(r="group"),c.join(n,"file",r,c.sep)},ne=async(e,t)=>{if(!t)return"";let n=await x(t),r="";return e.startsWith(o.b)&&(r="group"),c.join(n,"fileNoise",r,c.sep)},re=(e,t)=>{if(!t)return"";let n=N(t),r="";return e.startsWith(o.b)&&(r="group"),c.join(n,"file",r,c.sep)},ie=(e,t)=>{if(!t)return"";let n=N(t),r="";return null!=e&&e.startsWith(o.b)&&(r="group"),c.join(n,"fileNoise",r,c.sep)},oe=async e=>{if(!e)return"";let t=await x(e);return c.join(t,"fileThumb",c.sep)},se=e=>{if(!e)return"";let t=N(e);return c.join(t,"fileThumb",c.sep)},ae=async(e,t,n)=>{if(!t)return"";let r=await x(t),i="";return null!=e&&e.startsWith(o.b)&&(i="group"),c.join(r,n,i,c.sep)},ce=async e=>{if(!e)return;const t=await x(e);return c.join(t,"Cache",c.sep)},ue=e=>{if(!e)return"";let t=N(e);return c.join(t,"cloud",c.sep)}},"JB9/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isConstructorToken=t.isTransformDescriptor=t.isTokenDescriptor=t.isNormalToken=void 0;const r=n("2xh+");t.isNormalToken=function(e){return"string"==typeof e||"symbol"==typeof e},t.isTokenDescriptor=function(e){return"object"==typeof e&&"token"in e&&"multiple"in e},t.isTransformDescriptor=function(e){return"object"==typeof e&&"token"in e&&"transform"in e},t.isConstructorToken=function(e){return"function"==typeof e||e instanceof r.DelayedConstructor}},JHgL:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).get(e)}},JJ8X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostResolutionInterceptors=t.PreResolutionInterceptors=void 0;const r=n("MmS8");class i extends r.default{}t.PreResolutionInterceptors=i;class o extends r.default{}t.PostResolutionInterceptors=o;t.default=class{constructor(){this.preResolution=new i,this.postResolution=new o}}},JOqG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["string","number","bigint","symbol"],i=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];t.is=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(r.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(i.includes(t))return t;return}(e);return n||"Object"}},JSQU:function(e,t,n){var r=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},JnaT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("jDHv"),i=n("fc/q"),o=n("mxZZ");const s=111024,a=111025;class c{constructor(){this.qos=r.ModuleContainer.resolve(i.QoS)}static getInstance(){return null===this.instance&&(this.instance=new c),this.instance}sendSuccessCreateBackUpQos(e){this.qos.log({success:!0,commandId:s,subCommandId:0,duration:e})}sendFailedCreateBackUpQos(e){let t=2;if(e instanceof o.b){e.code===o.c&&(t=1)}const n=e.message||"Unknown error";this.qos.log({success:!1,commandId:s,subCommandId:0,duration:0,errorCode:t,startTime:Date.now(),params:[n]})}sendSuccessRestoreBackUpQos(e){this.qos.log({success:!0,commandId:a,subCommandId:0,duration:e})}sendFailedRestoreBackUpQos(e){let t=2;if(e instanceof o.b){const{code:n}=e;n===o.f&&(t=1)}const n=e.message||"Unknown error";this.qos.log({success:!1,commandId:a,subCommandId:0,duration:0,errorCode:t,startTime:Date.now(),params:[n]})}sendFailedAbortCreatingBackupQos(e){const t=e.message||"Unknown error";this.qos.log({success:!1,commandId:120001,subCommandId:0,errorCode:0,duration:0,params:[t]})}sendFailedRejectCurrentBackupQos(e){const t=e.message||"Unknown error";this.qos.log({success:!1,commandId:120002,subCommandId:0,errorCode:0,duration:0,params:[t]})}}c.instance=null},K3mO:function(e,t,n){var r,i,o,s,a,c,u,l;e.exports=(l=n("Ib8C"),n("3y9D"),n("WYAk"),i=(r=l).lib,o=i.Base,s=i.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),i=s.create(),o=i.words,a=n.keySize,c=n.iterations;o.length<a;){u&&r.update(u);var u=r.update(e).finalize(t);r.reset();for(var l=1;l<c;l++)u=r.finalize(u),r.reset();i.concat(u)}return i.sigBytes=4*a,i}}),r.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},l.EvpKDF)},K8kB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-write-scheduler")},KBm5:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KRcn:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("PLj1");function i(){let e;try{switch(__ZaBUNDLENAME__.toLocaleLowerCase()){case"main":e=r.b.Main;break;case"web":e=r.b.Web;break;case"login":e=r.b.Login;break;case"photo":e=r.b.Photo;break;case"render":e=r.b.Render;break;case"shared-worker":e=r.b.SharedWorker;break;case"preload-shared-worker":e=r.b.PreloadSharedWorker;break;case"preload-sqlite":e=r.b.PreloadSQLite;break;case"utility-process-sqlite":e=r.b.UProcessSQLite;break;default:e=r.b.Unknown}}catch{e=r.b.Unknown}return e}},"KS+g":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));const r="PROCESS_SETUP",i="PROCESS_SETUP/PING",o="PROCESS_SETUP/DISPOSE"},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},KjYM:function(e,t,n){"use strict";const r=n("mUMT"),i=n("zwAV"),o=n("zNa/");e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},KmYQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},r.pad.ZeroPadding)},KoSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let r=function(e){return e.SCRIPT_CONNECTED="script-connected",e}({})},KvCr:function(e,t,n){!function(e){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(e){var t="[object "+e+"]";return function(e){return i(e)===t}},i=function(e){return Object.prototype.toString.call(e)},o=function(e){return e instanceof Date?e.getTime():s(e)?e.map(o):e&&"function"==typeof e.toJSON?e.toJSON():e},s=r("Array"),a=r("Object"),c=r("Function"),u=function(e){return e&&(e.constructor===Object||e.constructor===Array||"function Object() { [native code] }"===e.constructor.toString()||"function Array() { [native code] }"===e.constructor.toString())&&!e.toJSON},l=function(e,t){if(null==e&&e==t)return!0;if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(s(e)){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!l(e[n],t[n]))return!1;return!0}if(a(e)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(!l(e[i],t[i]))return!1;return!0}return!1},d=function(e,t,n,r,i,o){var a=t[r];if(s(e)&&isNaN(Number(a)))for(var c=0,u=e.length;c<u;c++)if(!d(e[c],t,n,r,c,e))return!1;return r===t.length||null==e?n(e,i,o,0===r):d(e[a],t,n,r+1,a,e)},f=function(){function e(e,t,n,r){this.params=e,this.owneryQuery=t,this.options=n,this.name=r,this.init()}return e.prototype.init=function(){},e.prototype.reset=function(){this.done=!1,this.keep=!1},e}(),p=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.children=i,o}return n(t,e),t.prototype.reset=function(){this.keep=!1,this.done=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].reset()},t.prototype.childrenNext=function(e,t,n,r){for(var i=!0,o=!0,s=0,a=this.children.length;s<a;s++){var c=this.children[s];if(c.done||c.next(e,t,n,r),c.keep||(o=!1),c.done){if(!c.keep)break}else i=!1}this.done=i,this.keep=o},t}(f),h=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.name=o,s}return n(t,e),t}(p),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.next=function(e,t,n,r){this.childrenNext(e,t,n,r)},t}(p),m=function(e){function t(t,n,r,i,o){var s=e.call(this,n,r,i,o)||this;return s.keyPath=t,s.propop=!0,s._nextNestedValue=function(e,t,n,r){return s.childrenNext(e,t,n,r),!s.done},s}return n(t,e),t.prototype.next=function(e,t,n){d(e,this.keyPath,this._nextNestedValue,0,t,n)},t}(p),g=function(e,t){if(e instanceof Function)return e;if(e instanceof RegExp)return function(t){var n="string"==typeof t&&e.test(t);return e.lastIndex=0,n};var n=o(e);return function(e){return t(n,o(e))}},_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){this._test=g(this.params,this.options.compare)},t.prototype.next=function(e,t,n){Array.isArray(n)&&!n.hasOwnProperty(t)||this._test(e,t,n)&&(this.done=!0,this.keep=!0)},t}(f),v=function(e,t,n){return new _(e,t,n)},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.next=function(){this.done=!0,this.keep=!1},t}(f),w=function(e){return function(t,n,r,i){return null==t?new b(t,n,r,i):e(t,n,r,i)}},E=function(e){return w((function(t,n,r,i){var s=typeof o(t),a=e(t);return new _((function(e){return typeof o(e)===s&&a(e)}),n,r,i)}))},S=function(e,t,n,r){var i=r.operations[e];return i||T(e),i(t,n,r,e)},T=function(e){throw new Error("Unsupported operation: "+e)},I=function(e,t){for(var n in e)if(t.operations.hasOwnProperty(n)||"$"===n.charAt(0))return!0;return!1},O=function(e,t,n,r,i){if(I(t,i)){var o=P(t,n,i),s=o[0];if(o[1].length)throw new Error("Property queries must contain only operations, or exact objects.");return new m(e,t,r,i,s)}return new m(e,t,r,i,[new _(t,r,i)])},C=function(e,t,n){void 0===t&&(t=null);var r=void 0===n?{}:n,i=r.compare,o=r.operations,s={compare:i||l,operations:Object.assign({},o||{})},a=P(e,null,s),c=a[0],u=a[1],d=[];return c.length&&d.push(new m([],e,t,s,c)),d.push.apply(d,u),1===d.length?d[0]:new y(e,t,s,d)},P=function(e,t,n){var r=[],i=[];if(!u(e))return r.push(new _(e,e,n)),[r,i];for(var o in e)if(n.operations.hasOwnProperty(o)){var s=S(o,e[o],e,n);if(s&&!s.propop&&t&&!n.operations[t])throw new Error("Malformed query. "+o+" cannot be matched against property.");null!=s&&r.push(s)}else"$"===o.charAt(0)?T(o):i.push(O(o.split("."),e[o],o,e,n));return[r,i]},A=function(e){return function(t,n,r){return e.reset(),e.next(t,n,r),e.keep}},k=function(e,t){return void 0===t&&(t={}),A(C(e,null,t))},j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){this._test=g(this.params,this.options.compare)},t.prototype.reset=function(){e.prototype.reset.call(this),this.keep=!0},t.prototype.next=function(e){this._test(e)&&(this.done=!0,this.keep=!1)},t}(f),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){if(!this.params||"object"!=typeof this.params)throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=C(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){e.prototype.reset.call(this),this._queryOperation.reset()},t.prototype.next=function(e){if(s(e)){for(var t=0,n=e.length;t<n;t++){this._queryOperation.reset();var r=e[t];this._queryOperation.next(r,t,e,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},t}(f),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){this._queryOperation=C(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){e.prototype.reset.call(this),this._queryOperation.reset()},t.prototype.next=function(e,t,n,r){this._queryOperation.next(e,t,n,r),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},t}(f),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){},t.prototype.next=function(e){s(e)&&e.length===this.params&&(this.done=!0,this.keep=!0)},t}(f),N=function(e){if(0===e.length)throw new Error("$and/$or/$nor must be a nonempty array")},M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!1,t}return n(t,e),t.prototype.init=function(){var e=this;N(this.params),this._ops=this.params.map((function(t){return C(t,null,e.options)}))},t.prototype.reset=function(){this.done=!1,this.keep=!1;for(var e=0,t=this._ops.length;e<t;e++)this._ops[e].reset()},t.prototype.next=function(e,t,n){for(var r=!1,i=!1,o=0,s=this._ops.length;o<s;o++){var a=this._ops[o];if(a.next(e,t,n),a.keep){r=!0,i=a.keep;break}}this.keep=i,this.done=r},t}(f),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!1,t}return n(t,e),t.prototype.next=function(t,n,r){e.prototype.next.call(this,t,n,r),this.keep=!this.keep},t}(M),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.init=function(){var e=this;this._testers=this.params.map((function(t){if(I(t,e.options))throw new Error("cannot nest $ under "+e.name.toLowerCase());return g(t,e.options.compare)}))},t.prototype.next=function(e,t,n){for(var r=!1,i=!1,o=0,s=this._testers.length;o<s;o++)if((0,this._testers[o])(e)){r=!0,i=!0;break}this.keep=i,this.done=r},t}(f),F=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.propop=!0,o._in=new B(t,n,r,i),o}return n(t,e),t.prototype.next=function(e,t,n,r){this._in.next(e,t,n),s(n)&&!r?this._in.keep?(this.keep=!1,this.done=!0):t==n.length-1&&(this.keep=!0,this.done=!0):(this.keep=!this._in.keep,this.done=!0)},t.prototype.reset=function(){e.prototype.reset.call(this),this._in.reset()},t}(f),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return n(t,e),t.prototype.next=function(e,t,n){n.hasOwnProperty(t)===this.params&&(this.done=!0,this.keep=!0)},t}(f),z=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,t.map((function(e){return C(e,n,r)})),i)||this;return o.propop=!1,N(t),o}return n(t,e),t.prototype.next=function(e,t,n,r){this.childrenNext(e,t,n,r)},t}(h),q=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,t.map((function(e){return C(e,n,r)})),i)||this;return o.propop=!0,o}return n(t,e),t.prototype.next=function(e,t,n,r){this.childrenNext(e,t,n,r)},t}(h),G=function(e,t,n){return new _(e,t,n)},$=function(e,t,n,r){return new j(e,t,n,r)},H=function(e,t,n,r){return new M(e,t,n,r)},Q=function(e,t,n,r){return new L(e,t,n,r)},K=function(e,t,n,r){return new D(e,t,n,r)},Y=function(e,t,n,r){return new F(e,t,n,r)},V=function(e,t,n,r){return new B(e,t,n,r)},W=E((function(e){return function(t){return t<e}})),Z=E((function(e){return function(t){return t<=e}})),J=E((function(e){return function(t){return t>e}})),X=E((function(e){return function(t){return t>=e}})),ee=function(e,t,n){var r=e[0],i=e[1];return new _((function(e){return o(e)%r===i}),t,n)},te=function(e,t,n,r){return new U(e,t,n,r)},ne=function(e,t,n){return new _(new RegExp(e,t.$options),t,n)},re=function(e,t,n,r){return new R(e,t,n,r)},ie={number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},bool:function(e){return"boolean"==typeof e},array:function(e){return Array.isArray(e)},null:function(e){return null===e},timestamp:function(e){return e instanceof Date}},oe=function(e,t,n){return new _((function(t){if("string"==typeof e){if(!ie[e])throw new Error("Type alias does not exist");return ie[e](t)}return null!=t&&(t instanceof e||t.constructor===e)}),t,n)},se=function(e,t,n,r){return new z(e,t,n,r)},ae=function(e,t,n,r){return new q(e,t,n,r)},ce=function(e,t,n){return new x(e,t,n,"$size")},ue=function(){return null},le=function(e,t,n){var r;if(c(e))r=e;else{if(process.env.CSP_ENABLED)throw new Error('In CSP mode, sift does not support strings in "$where" condition');r=new Function("obj","return "+e)}return new _((function(e){return r.bind(e)(e)}),t,n)},de=Object.freeze({__proto__:null,$Size:x,$eq:G,$ne:$,$or:H,$nor:Q,$elemMatch:K,$nin:Y,$in:V,$lt:W,$lte:Z,$gt:J,$gte:X,$mod:ee,$exists:te,$regex:ne,$not:re,$type:oe,$and:se,$all:ae,$size:ce,$options:ue,$where:le}),fe=function(e,t,n){var r=void 0===n?{}:n,i=r.compare,o=r.operations;return C(e,t,{compare:i,operations:Object.assign({},de,o||{})})},pe=function(e,t){void 0===t&&(t={});var n=fe(e,null,t);return A(n)};e.$Size=x,e.$all=ae,e.$and=se,e.$elemMatch=K,e.$eq=G,e.$exists=te,e.$gt=J,e.$gte=X,e.$in=V,e.$lt=W,e.$lte=Z,e.$mod=ee,e.$ne=$,e.$nin=Y,e.$nor=Q,e.$not=re,e.$options=ue,e.$or=H,e.$regex=ne,e.$size=ce,e.$type=oe,e.$where=le,e.EqualsOperation=_,e.createDefaultQueryOperation=fe,e.createEqualsOperation=v,e.createOperationTester=A,e.createQueryOperation=C,e.createQueryTester=k,e.default=pe,Object.defineProperty(e,"__esModule",{value:!0})}(t)},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},LHp5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sentenceCase=t.sentenceCaseTransform=void 0;var r=n("9O0R"),i=n("3yyI"),o=n("wb9o");function s(e,t){var n=e.toLowerCase();return 0===t?o.upperCaseFirst(n):n}t.sentenceCaseTransform=s,t.sentenceCase=function(e,t){return void 0===t&&(t={}),i.noCase(e,r.__assign({delimiter:" ",transform:s},t))}},Lc6M:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");t.createEventEnvelope=function(e,t,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=r.createEventEnvelopeHeaders(e,o,i,t);delete e.sdkProcessingMetadata;const c=[{type:s},e];return r.createEnvelope(a,[c])},t.createSessionEnvelope=function(e,t,n,i){const o=r.getSdkMetadataForEnvelopeHeader(n),s={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!i&&{dsn:r.dsnToString(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return r.createEnvelope(s,[a])}},LqCy:function(e,t,n){"use strict";const r=n("mr5d"),i=n("yJAF");class o extends r{constructor(e,t){super(t),this._creationTimestamp=Date.now(),this._timeout=null,void 0!==e&&this.setTimeout(e)}setTimeout(e){if(this._state!==o.PENDING)return;const t=parseInt(e,10);if(isNaN(t)||t<=0)throw new Error("delay must be a positive int");const n=Date.now()-this._creationTimestamp;var r,i;this._timeout&&this.removeTimeout(),this._timeout=setTimeout((r=this._fireTimeout,i=this,function(){return r.apply(i,arguments)}),Math.max(t-n,0))}removeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=null}_fireTimeout(){this.reject(new i.TimeoutError("ResourceRequest timed out"))}reject(e){this.removeTimeout(),super.reject(e)}resolve(e){this.removeTimeout(),super.resolve(e)}}e.exports=o},Lrq5:function(e,t,n){"use strict";function r(e){return"number"==typeof e}function i(e){return"string"==typeof e}function o(e){return"boolean"==typeof e}function s(e){return"object"==typeof e}function a(e){return"function"==typeof e}function c(e){return void 0===e}function u(e){return null===e}n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return u}))},MLNk:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("zyBB"),s=n("jGO8");e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},MPV0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let r=function(e){return e.CHANNEL_ESTATBLISHED="channel-established",e.CHANNEL_DISCONNECTED="channel-disconnected",e.CHANNEL_TERMINATED="channel-terminated",e.PORT_TRANSFERRED="port-transferred",e.PORT_TRANSFERRED_V2="port-transferred-v2",e.PORT_DELIVERED="port-delivered",e.OPEN_CHANNEL_TO="open-channel-to",e}({})},MRjZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("VTBJ"),i=n("YZti"),o=n("Abbu");function s(e,t){var n;const s=Object(r.a)({method:i.b.getTypeName(e.type),database:e.database,table:o.a.isBeginTransaction(e)?e.params.tables.join(","):e.table,step:e.meta.step,partition:e.meta.partitionKey,trans:e.transaction,adapterType:(null===(n=e.meta.databaseConfig)||void 0===n?void 0:n.typeName)||"unknown"},null!=t?t:{});return a=s,Object.entries(a).map((([e,t])=>`${e}=${JSON.stringify(t)}`)).join(",");var a}const a=e=>e&&e.stack&&e.message;function c(e,t=!1){const n=e&&a(e)?`${e.name}: ${e.message}`:String(e);return t?`${n}\ntrace: ${e.stack}`:n}},MVkO:function(e,t,n){"use strict";e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}insertBeginning(e){null===this.head?(this.head=e,this.tail=e,e.prev=null,e.next=null,this.length++):this.insertBefore(this.head,e)}insertEnd(e){null===this.tail?this.insertBeginning(e):this.insertAfter(this.tail,e)}insertAfter(e,t){t.prev=e,t.next=e.next,null===e.next?this.tail=t:e.next.prev=t,e.next=t,this.length++}insertBefore(e,t){t.prev=e.prev,t.next=e,null===e.prev?this.head=t:e.prev.next=t,e.prev=t,this.length++}remove(e){null===e.prev?this.head=e.next:e.prev.next=e.next,null===e.next?this.tail=e.prev:e.next.prev=e.prev,e.prev=null,e.next=null,this.length--}static createNode(e){return{prev:null,next:null,data:e}}}},MWu7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("xM06");let i;var o;(o=i||(i={})).isCorruptError=function(e){const{message:t}=e;return!!r.q.some((e=>t.includes(e)))},o.isOutOfMemError=function(e){if(!(e instanceof Error))return!1;const{message:t}=e;return t.includes("malformed")},o.isRawSQLiteException=function(e){return e instanceof Error&&void 0!==e.errno&&void 0!==e.code},o.isSerializedSQLiteException=function(e){return"object"==typeof e&&void 0!==e.errno&&void 0!==e.code},o.serializeSQLiteException=function(e){if(!i.isRawSQLiteException(e))throw new Error("Can't serialize a non SQLite exception error");return{errno:e.errno,code:e.code,message:e.message}}},Mgpg:function(e,t,n){"use strict";n.r(t),n.d(t,"ZLoggerFactory",(function(){return r.a})),n.d(t,"ZLogger",(function(){return i.ZLogger})),n.d(t,"dangerouslyLogConsole",(function(){return o.a})),n.d(t,"ZLogCollector",(function(){return a})),n.d(t,"ZLogSession",(function(){return c.a}));var r=n("XB6V"),i=n("7xKq"),o=n("7FSS"),s=n("jDHv");const a=Object(s.define)("log-collector");var c=n("jGDt")},MlIO:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,s=t.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),r)},MmS8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._registryMap=new Map}entries(){return this._registryMap.entries()}getAll(e){return this.ensure(e),this._registryMap.get(e)}get(e){this.ensure(e);const t=this._registryMap.get(e);return t[t.length-1]||null}set(e,t){this.ensure(e),this._registryMap.get(e).push(t)}setAll(e,t){this._registryMap.set(e,t)}has(e){return this.ensure(e),this._registryMap.get(e).length>0}clear(){this._registryMap.clear()}ensure(e){this._registryMap.has(e)||this._registryMap.set(e,[])}}},NFKh:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),r)},NFXW:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+"),o=n("eCJT"),s=n("12fL"),a=n("gSyM"),c=n("Ns3O");function u(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function l(e,t,n){if(!o.hasTracingEnabled(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(n),e.setMetadata({sampleRate:Number(i)})):void 0!==n.parentSampled?i=n.parentSampled:void 0!==t.tracesSampleRate?(i=t.tracesSampleRate,e.setMetadata({sampleRate:Number(i)})):(i=1,e.setMetadata({sampleRate:i})),function(e){if(r.isNaN(e)||"number"!=typeof e&&"boolean"!=typeof e)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(i)?i?(e.sampled=Math.random()<i,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function d(e,t){const n=this.getClient(),i=n&&n.getOptions()||{},o=i.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let a=new c.Transaction(e,this);return a=l(a,i,{parentSampled:e.parentSampled,transactionContext:e,...t}),a.sampled&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}t.addTracingExtensions=function(){const e=i.getMainCarrier();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=d),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=u),s.registerErrorInstrumentation())},t.startIdleTransaction=function(e,t,n,r,i,o,s){const c=e.getClient(),u=c&&c.getOptions()||{};let d=new a.IdleTransaction(t,e,n,r,s,i);return d=l(d,u,{parentSampled:t.parentSampled,transactionContext:t,...o}),d.sampled&&d.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",d),d}},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),o=n("GoyQ"),s=n("3Fdi"),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:a).test(s(e))}},NLsH:function(e,t){e.exports=require("electron")},NPLm:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeFifoCache=function(e){let t=[],n={};return{add(r,i){for(;t.length>=e;){const e=t.shift();void 0!==e&&delete n[e]}n[r]&&this.delete(r),t.push(r),n[r]=i},clear(){n={},t=[]},get:e=>n[e],size:()=>t.length,delete(e){if(!n[e])return!1;delete n[e];for(let n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}return!0}}}},NStS:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SDK_VERSION="7.58.0"},Negr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MmS8");class i extends r.default{}t.default=i},Ngr4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("/JRK");class o{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=a()}static clone(e){const t=new o;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&i.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof o?t:this}return e instanceof o?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):r.isPlainObject(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=a(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const i={timestamp:r.dateTimestampInSeconds(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...s(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,t,n,i=0){return new r.SyncPromise(((o,s)=>{const a=e[i];if(null===t||"function"!=typeof a)o(t);else{const c=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===c&&r.logger.log(`Event processor "${a.id}" dropped event`),r.isThenable(c)?c.then((t=>this._notifyEventProcessors(e,t,n,i+1).then(o))).then(null,s):this._notifyEventProcessors(e,c,n,i+1).then(o).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?r.arrayify(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function s(){return r.getGlobalSingleton("globalEventProcessors",(()=>[]))}function a(){return{traceId:r.uuid4(),spanId:r.uuid4().substring(16),sampled:!1}}t.Scope=o,t.addGlobalEventProcessor=function(e){s().push(e)}},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},Ns3O:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+"),o=n("0LLG"),s=n("2/Sm");class a extends s.Span{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),this._hub=t||i.getCurrentHub(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new s.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const i=this.metadata,o={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(o)}toContext(){const e=super.toContext();return r.dropUndefinedKeys({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||i.getCurrentHub(),t=e.getClient();if(!t)return{};const n=e.getScope(),r=o.getDynamicSamplingContextFromClient(this.traceId,t,n),s=this.metadata.sampleRate;void 0!==s&&(r.sample_rate=`${s}`);const a=this.metadata.source;return a&&"url"!==a&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}setHub(e){this._hub=e}}t.Transaction=a},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},O2Of:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pascalCase=t.pascalCaseTransformMerge=t.pascalCaseTransform=void 0;var r=n("Fba/"),i=n("3yyI");function o(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}t.pascalCaseTransform=o,t.pascalCaseTransformMerge=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},t.pascalCase=function(e,t){return void 0===t&&(t={}),i.noCase(e,r.__assign({delimiter:"",transform:o},t))}},OLod:function(e,t,n){var r;e.exports=(r=n("Ib8C"),void(r.lib.Cipher||function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,a=t.enc,c=(a.Utf8,a.Base64),u=t.algo.EvpKDF,l=n.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:g}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),f=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var t=f.extend();function n(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var s=0;s<r;s++)t[n+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var c=o.create(s,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:h}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:r})}},g=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),s=i.cfg;return y.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=u.create({keySize:t+n}).compute(e,r),s=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,y.create({key:i,iv:s,salt:r})}},v=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:_}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=g.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,g.decrypt.call(this,e,t,i.key,r)}})}()))},OO8C:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},OlEr:function(e,t,n){"use strict";const r=n("DadK");e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,((e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(i){return"file"}return n&&n.isDirectory()?"dir":"file"}}},P0tt:function(e,t,n){"use strict";function r(){}t.reflector=function(e){return e.then(r,r)}},PBHk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("pjif");Object.defineProperty(t,"autoInjectable",{enumerable:!0,get:function(){return r.default}});var i=n("Rlqv");Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return i.default}});var o=n("1bAp");Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return o.default}});var s=n("CzQO");Object.defineProperty(t,"registry",{enumerable:!0,get:function(){return s.default}});var a=n("WKFt");Object.defineProperty(t,"singleton",{enumerable:!0,get:function(){return a.default}});var c=n("ascj");Object.defineProperty(t,"injectAll",{enumerable:!0,get:function(){return c.default}});var u=n("tw1F");Object.defineProperty(t,"injectAllWithTransform",{enumerable:!0,get:function(){return u.default}});var l=n("Ym2y");Object.defineProperty(t,"injectWithTransform",{enumerable:!0,get:function(){return l.default}});var d=n("Qu/n");Object.defineProperty(t,"scoped",{enumerable:!0,get:function(){return d.default}})},PJMN:function(e,t){e.exports=require("crypto")},PLj1:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("fsQs");let i=function(e){return e.Main="main",e.Render="render",e.SharedWorker="shared-worker",e.PreloadSharedWorker="preload-shared-worker",e.Unknown="unknown",e.Photo="photo",e.Web="web",e.Embed="embed",e.Login="login",e.PreloadSQLite="preload-sqlite",e.UProcessSQLite="u-process-sqlite",e}({});const o={[i.Main]:r.FLUSH_INTERVAL,[i.Render]:r.FLUSH_INTERVAL,[i.SharedWorker]:r.FLUSH_INTERVAL,[i.PreloadSharedWorker]:r.FLUSH_INTERVAL_FAST,[i.PreloadSQLite]:r.FLUSH_INTERVAL,[i.Unknown]:r.FLUSH_INTERVAL,[i.Photo]:r.FLUSH_INTERVAL,[i.Web]:r.FLUSH_INTERVAL_WEB,[i.Embed]:-1,[i.Login]:r.FLUSH_INTERVAL_FAST,[i.UProcessSQLite]:r.FLUSH_INTERVAL_FAST},s=[i.Embed,i.Unknown]},PVpz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&l,f=l<<16|65535&u;for(r[0]^=u,r[1]^=d,r[2]^=l,r[3]^=f,r[4]^=u,r[5]^=d,r[6]^=l,r[7]^=f,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},PdSl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="BACKUP_MANAGER_SQLITE_ADAPATER_MESSAGE_TYPE"},PhBv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("jDHv"),i=n("AH6j");n("PmZf");i.b;const o=Object(r.define)("database-query-planner")},PmZf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("AH6j");let i=function(e){return e.Close="close",e.SessionChange="session-change",e.MigrateProgress="migrate-progress",e.MigratePhaseChange="migrate-phase-change",e.MigrateDone="migrate-done",e.TimeConsumingQuery="time-consuming-query",e.SuccessOpenDB="success-open-db",e.ConnectionClosedAbnormally="connection-close-abnormally",e.SchemaMigratedAbnormally="schema-migrate-abnormally",e.TransactionEnd="transaction-end",e.QueryExec="query-exe",e.QueryError="query-error",e.UnexpectedError="unexpected-error",e.LongOpenDB="long-open-db",e.Warning="warning",e}({});r.a;class o extends r.a{constructor(e){super(i.SessionChange),this.session=e}}r.a;r.a;r.a;r.a;r.a;r.a;r.a;class s extends r.a{constructor(e,t){super(i.TimeConsumingQuery),this.logInfo=e,this.totalTime=t}}r.a;r.a;r.a;class a extends r.a{constructor(e){super(i.SchemaMigratedAbnormally),this.data=e}}r.a},Puk3:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("hCQT");function i(e,t){return e.require(t)}t.dynamicRequire=i,t.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},t.loadModule=function(t){let n;try{n=i(e,t)}catch(r){}try{const{cwd:r}=i(e,"process");n=i(e,`${r()}/node_modules/${t}`)}catch(r){}return n}}).call(this,n("YuTi")(e))},"PvD+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,i=new TextDecoder,o=new TextEncoder;function s(e){return r&&globalThis.Buffer.isBuffer(e)}function a(e){return e instanceof Uint8Array?s(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const c=r?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):g(e,t,n):(e,t,n)=>n-t>64?i.decode(e.subarray(t,n)):g(e,t,n),u=r?e=>e.length>64?globalThis.Buffer.from(e):m(e):e=>e.length>64?o.encode(e):m(e),l=r?(e,t,n)=>s(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),d=r?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),a(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},f=r?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e),p=r?e=>"string"==typeof e?e:globalThis.Buffer.from(y(e)).toString("hex"):e=>"string"==typeof e?e:Array.prototype.reduce.call(y(e),((e,t)=>`${e}${t.toString(16).padStart(2,"0")}`),""),h=r?e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e,"hex"):e=>e instanceof Uint8Array?e:e.length?new Uint8Array(e.split("").map(((e,t,n)=>t%2==0?`0x${e}${n[t+1]}`:"")).filter(Boolean).map((e=>parseInt(e,16)))):new Uint8Array(0);function y(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function m(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function g(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128==(192&n)&&(c=(31&i)<<6|63&n,c>127&&(o=c));break;case 3:n=e[t+1],r=e[t+2],128==(192&n)&&128==(192&r)&&(c=(15&i)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return v(r)}const _=4096;function v(e){const t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}t.alloc=f,t.asU8A=a,t.compare=function(e,t){if(s(e)&&s(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0},t.concat=d,t.decodeCodePointsArray=v,t.fromArray=e=>Uint8Array.from(e),t.fromHex=h,t.fromString=u,t.slice=l,t.toHex=p,t.toString=c,t.useBuffer=r},QB2e:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF");function i(e,t,n=!1){return!!r.isString(e)&&(r.isRegExp(t)?t.test(e):!!r.isString(t)&&(n?e===t:e.includes(t)))}t.isMatchingPattern=i,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const n=[];for(let i=0;i<e.length;i++){const t=e[i];try{n.push(String(t))}catch(r){n.push("[value cannot be serialized]")}}return n.join(t)},t.snipLine=function(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n},t.stringMatchesSomePattern=function(e,t=[],n=!1){return t.some((t=>i(e,t,n)))},t.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},QS11:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("F8zz"),i=n("+IkF"),o=n("QB2e");function s(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function a(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,s(e,"__sentry_original__",t)}function c(e){if(i.isError(e))return{message:e.message,name:e.name,stack:e.stack,...l(e)};if(i.isEvent(e)){const t={type:e.type,target:u(e.target),currentTarget:u(e.currentTarget),...l(e)};return"undefined"!=typeof CustomEvent&&i.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function u(e){try{return i.isElement(e)?r.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function l(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function d(e,t){if(i.isPlainObject(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const i of Object.keys(e))void 0!==e[i]&&(r[i]=d(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(d(e,t))})),r}return e}t.addNonEnumerableProperty=s,t.convertToPlainObject=c,t.dropUndefinedKeys=function(e){return d(e,new Map)},t.extractExceptionKeysForMessage=function(e,t=40){const n=Object.keys(c(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return o.truncate(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:o.truncate(e,t)}return""},t.fill=function(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{a(i,r)}catch(o){}e[t]=i},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=a,t.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case i.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},t.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}},QkVE:function(e,t,n){var r=n("EpBk");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},Qpln:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("zyBB").mkdirs,s=n("xQB0").pathExists,a=n("mx6n").utimesMillis,c=Symbol("notExist"),u=Symbol("existsReg");function l(e,t,n,r,a){const c=i.dirname(n);s(c,((i,s)=>i?a(i):s?d(e,t,n,r,a):void o(c,(i=>i?a(i):d(e,t,n,r,a)))))}function d(e,t,n,r,i){return r.filter?f(p,e,t,n,r,i):p(e,t,n,r,i)}function f(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then((s=>s?t?e(t,n,r,i,o):e(n,r,i,o):o()),(e=>o(e)))}function p(e,t,n,o,s){(o.dereference?r.stat:r.lstat)(t,((a,l)=>a?s(a):l.isDirectory()?function(e,t,n,i,o,s){if(t===c)return v(n,i)?s(new Error(`Cannot copy '${n}' to a subdirectory of itself, '${i}'.`)):function(e,t,n,i,o){r.mkdir(n,e.mode,(s=>{if(s)return o(s);r.chmod(n,e.mode,(e=>e?o(e):g(t,n,i,o)))}))}(e,n,i,o,s);if(t===u)return v(n,i)?s(new Error(`Cannot copy '${n}' to a subdirectory of itself, '${i}'.`)):function(e,t,n,i){r.stat(t,((r,o)=>r?i(r):o.isDirectory()?g(e,t,n,i):i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`))))}(n,i,o,s);return g(n,i,o,s)}(l,e,t,n,o,s):l.isFile()||l.isCharacterDevice()||l.isBlockDevice()?function(e,t,n,r,i,o){if(t===c)return y(e,n,r,i,o);if(t===u)return h(e,n,r,i,o);return h(e,n,r,i,o)}(l,e,t,n,o,s):l.isSymbolicLink()?function(e,t,n,o,s){r.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e===c||e===u?r.symlink(a,n,s):(o.dereference&&(e=i.resolve(process.cwd(),e)),b(a,e)?s():void r.stat(n,((t,i)=>t?s(t):i.isDirectory()&&v(e,a)?s(new Error(`Cannot overwrite '${e}' with '${a}'.`)):function(e,t,n){r.unlink(t,(i=>i?n(i):r.symlink(e,t,n)))}(a,n,s)))))))}(e,t,n,o,s):void 0))}function h(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,(r=>r?o(r):y(e,t,n,i,o)))}function y(e,t,n,i,o){return"function"==typeof r.copyFile?r.copyFile(t,n,(t=>t?o(t):m(e,n,i,o))):function(e,t,n,i,o){const s=r.createReadStream(t);s.on("error",(e=>o(e))).once("open",(()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",(e=>o(e))).on("open",(()=>s.pipe(t))).once("close",(()=>m(e,n,i,o)))}))}(e,t,n,i,o)}function m(e,t,n,i){r.chmod(t,e.mode,(r=>r?i(r):n.preserveTimestamps?a(t,e.atime,e.mtime,i):i()))}function g(e,t,n,i){r.readdir(e,((r,o)=>r?i(r):_(o,e,t,n,i)))}function _(e,t,n,r,o){const s=e.pop();return s?function(e,t,n,r,o,s){const a=i.join(n,t),c=i.join(r,t);w(a,c,((t,i)=>{if(t)return s(t);d(i,a,c,o,(t=>t?s(t):_(e,n,r,o,s)))}))}(e,s,t,n,r,o):o()}function v(e,t){const n=i.resolve(e).split(i.sep),r=i.resolve(t).split(i.sep);return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function b(e,t){const n=process.platform,r=i.resolve(e),o=i.resolve(t);return"darwin"===n||"win32"===n?r.toLowerCase()===o.toLowerCase():r===o}function w(e,t,n){!function(e,t){r.readlink(e,((e,n)=>e?"ENOENT"===e.code?t(null,c):"EINVAL"===e.code||"UNKNOWN"===e.code?t(null,u):t(e):t(null,n)))}(t,((r,i)=>r?n(r):i===c||i===u?b(e,t)?n(new Error("Source and destination must not be the same.")):n(null,i):b(e,i)?n(new Error("Source and destination must not be the same.")):n(null,i)))}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch,w(e,t,((i,o)=>i?r(i):n.filter?f(l,o,e,t,n,r):l(o,e,t,n,r)))}},Qs3B:function(e,t){e.exports=require("assert")},"Qu/n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("1bAp"),i=n("XdWb");t.default=function(e,t){return function(n){r.default()(n),i.instance.register(t||n,n,{lifecycle:e})}}},QxEN:function(e,t,n){"use strict";var r=n("YrRS"),i=n("eBEg");let o;o="undefined"!=typeof window&&globalThis.zconsole||console;const s=function(){},a={release:["log","debug","trace"]};if(o){for(const[t,n]of Object.entries(a))if("release"===t)for(const e of n)o[e]=s;globalThis.zconsole=o;const e=i.a.create(["zconsole","nullLogger"],{});Object(r.a)(e,!0)}},RHep:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");function i(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}t.DEFAULT_TRANSPORT_BUFFER_SIZE=30,t.createTransport=function(e,t,n=r.makePromiseBuffer(e.bufferSize||30)){let o={};function s(s){const a=[];if(r.forEachEnvelopeItem(s,((t,n)=>{const s=r.envelopeItemTypeToDataCategory(n);if(r.isRateLimited(o,s)){const r=i(t,n);e.recordDroppedEvent("ratelimit_backoff",s,r)}else a.push(t)})),0===a.length)return r.resolvedSyncPromise();const c=r.createEnvelope(s[0],a),u=t=>{r.forEachEnvelopeItem(c,((n,o)=>{const s=i(n,o);e.recordDroppedEvent(t,r.envelopeItemTypeToDataCategory(o),s)}))};return n.add((()=>t({body:r.serializeEnvelope(c,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=r.updateRateLimits(o,e),e)),(e=>{throw u("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.SentryError)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Skipped sending event because buffer is full."),u("queue_overflow"),r.resolvedSyncPromise();throw e}))}return s.__sentry__baseTransport__=!0,{send:s,flush:e=>n.drain(e)}}},RI6O:function(e,t){function n(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(t,"__esModule",{value:!0});const r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function i(e){const t=r.exec(e);return t?t.slice(1):[]}function o(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){const i=n>=0?e[n]:"/";i&&(t=`${i}/${t}`,r="/"===i.charAt(0))}return t=n(t.split("/").filter((e=>!!e)),!r).join("/"),(r?"/":"")+t||"."}function s(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function a(e){const t=c(e),r="/"===e.slice(-1);let i=n(e.split("/").filter((e=>!!e)),!t).join("/");return i||t||(i="."),i&&r&&(i+="/"),(t?"/":"")+i}function c(e){return"/"===e.charAt(0)}t.basename=function(e,t){let n=i(e)[2];return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n},t.dirname=function(e){const t=i(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},t.isAbsolute=c,t.join=function(...e){return a(e.join("/"))},t.normalizePath=a,t.relative=function(e,t){e=o(e).slice(1),t=o(t).slice(1);const n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length);let a=i;for(let o=0;o<i;o++)if(n[o]!==r[o]){a=o;break}let c=[];for(let o=a;o<n.length;o++)c.push("..");return c=c.concat(r.slice(a)),c.join("/")},t.resolve=o},RYQB:function(e,t,n){"use strict";const r=n("MVkO"),i=n("YdM9");class o{constructor(){this._list=new r}shift(){if(0===this.length)return;const e=this._list.head;return this._list.remove(e),e.data}unshift(e){const t=r.createNode(e);this._list.insertBeginning(t)}push(e){const t=r.createNode(e);this._list.insertEnd(t)}pop(){if(0===this.length)return;const e=this._list.tail;return this._list.remove(e),e.data}[Symbol.iterator](){return new i(this._list)}iterator(){return new i(this._list)}reverseIterator(){return new i(this._list,!0)}get head(){if(0===this.length)return;return this._list.head.data}get tail(){if(0===this.length)return;return this._list.tail.data}get length(){return this._list.length}}e.exports=o},Rlqv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa");t.default=function(e){return r.defineInjectionTokenMetadata(e)}},RnBS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCase=void 0;var r=n("KBm5"),i=n("6i1E");t.headerCase=function(e,t){return void 0===t&&(t={}),i.capitalCase(e,r.__assign({delimiter:"-"},t))}},Rw5y:function(e,t,n){"use strict";function r(e,t,n,r){const{fs:i,path:o}=e;return i&&o?new Promise(((e,o)=>{i.open(t,"r+",((s,a)=>{s?i.writeFile(t,Buffer.from(n),(t=>{t?o(t):e(n.byteLength)})):i.write(a,Buffer.from(n),0,n.byteLength,r,(t=>{i.close(a,(i=>{t?o(t):e(r+n.byteLength)}))}))}))})):Promise.reject(new Error("fs or path module is not available"))}function i(e,t,n,r){const{fs:i,path:o}=e,{startOffset:s=0,overwrite:a=!1}=r||{};return i&&o?new Promise(((e,r)=>{i.open(t,"r+",((o,c)=>{o||a?"number"==typeof c?i.close(c,(o=>{i.writeFile(t,Buffer.isBuffer(n)?n:Buffer.from(n),(t=>{t?r(t):e(n.byteLength)}))})):i.writeFile(t,Buffer.isBuffer(n)?n:Buffer.from(n),(t=>{t?r(t):e(n.byteLength)})):i.write(c,Buffer.isBuffer(n)?n:Buffer.from(n),0,n.byteLength,s,(t=>{i.close(c,(i=>{t?r(t):e(s+n.byteLength)}))}))}))})):Promise.reject(new Error("fs or path module is not available"))}function o(e,t){const{fs:n,path:r}=e;return n&&r?new Promise(((e,r)=>{n.access(t,n.constants.F_OK,(i=>{i?e(Buffer.alloc(0).buffer):n.readFile(t,((t,n)=>{if(t)return r(t);e(n.buffer)}))}))})):Promise.reject(new Error("fs or path module is not available"))}function s(e,t,n){const{fs:r}=e;return r?new Promise(((e,i)=>{r.truncate(t,n,(t=>{t?i(t):e()}))})):Promise.reject(new Error("fs module is not available"))}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}))},S6kV:function(e,t,n){var r,i,o;e.exports=(o=n("Ib8C"),n("OLod"),o.mode.OFB=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}}),r.Decryptor=i,r),o.mode.OFB)},SGjP:function(e,t,n){"use strict";n.r(t),n.d(t,"appendTextLog",(function(){return c})),n.d(t,"archiveFileLog",(function(){return u})),n.d(t,"getFileSize",(function(){return l})),n.d(t,"readRange",(function(){return d})),n.d(t,"writeRange",(function(){return f})),n.d(t,"cleanupDescriptors",(function(){return p})),n.d(t,"initBinaryLogFile",(function(){return h}));const r=-1,i=0,o=4;var s=n("5FGm");const a=new class{constructor(){this.tracker=new Map,this.track=(e,t)=>{this.tracker.set(e,t)},this.untrack=e=>{this.tracker.delete(e)},this.getDescriptor=e=>this.tracker.get(e),this.getAllDescriptors=()=>Array.from(this.tracker.values()),this.removeAllDescriptors=()=>{this.tracker.clear()},this.removeDescriptor=e=>{this.tracker.delete(e)}}},c=async(e,t)=>{n("mw/K").appendFileSync(e,t)},u=async e=>{const t=n("mw/K");t.existsSync(e)&&t.renameSync(e,e+".old")},l=async e=>{const t=n("mw/K");if(!t.existsSync(e))return 0;return t.statSync(e).size},d=async(e,t,o)=>{try{const r=n("mw/K");let c=a.getDescriptor(e);if(!r.existsSync(e))return c&&(r.closeSync(c),a.removeDescriptor(e)),s.c.Failure({code:i,message:`readRange failed for ${e}`});c||(c=r.openSync(e,"r+"),a.track(e,c));const u=new Uint8Array(o-t);return r.readSync(c,u,0,o-t,t),s.c.Success(u)}catch(c){return s.c.Failure({code:r,message:`readRange failed for ${e}`})}},f=async(e,t,r)=>{const i=n("mw/K");let c=a.getDescriptor(e);if(!i.existsSync(e))return c&&(i.closeSync(c),a.removeDescriptor(e)),i.writeFileSync(e,r),s.c.Success(null);c||(c=i.openSync(e,"r+"),a.track(e,c));let u=!1;try{i.writeSync(c,r,0,r.byteLength,t)}catch(l){if("object"!=typeof l||"EBADF"!==l.code)return s.c.Failure({code:o,message:`initBinaryLogFile failed for ${e}`});(e=>{if("number"==typeof e)try{n("mw/K").closeSync(e)}catch(l){}})(c),a.removeDescriptor(e),u=!0}return u&&(c=i.openSync(e,"r+"),a.track(e,c),i.writeSync(c,r,0,r.byteLength,t)),s.c.Success(null)},p=async()=>{const e=n("mw/K"),t=a.getAllDescriptors();for(const n of t)try{e.closeSync(n)}catch{}a.removeAllDescriptors()},h=async(e,t)=>{try{const o=n("mw/K");let c=a.getDescriptor(e);c&&(o.closeSync(c),a.removeDescriptor(e));try{o.writeFileSync(e,t)}catch(i){return s.c.Failure({code:r,message:`initBinaryLogFile failed for ${e}`})}return s.c.Success(null)}catch(o){return s.c.Failure({code:r,message:`initBinaryLogFile failed for ${e}`})}}},SfRM:function(e,t,n){var r=n("YESw");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},"T+bx":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));class r{constructor(e){this.value=void 0,this.next=void 0,this.value=e,this.next=null}}const i=(e,t)=>{const n=t.split(".");let r=e;const i=n.length;for(let o=0;o<i;o+=1){r=r[n[o]];if(!(o===i-1)&&"object"!=typeof r)throw new Error("Invalid key path")}return r},o=null;class s{constructor(e){this.keyPath=e,this.head=void 0,this.tail=void 0,this.size=0,this.head=null,this.tail=null}isEmpty(){return null===this.head}peek(){return this.isEmpty()?null:this.head.value}append(e){const t=new r(e);this.isEmpty()?(this.head=t,this.tail=t):(this.tail.next=t,this.tail=t),this.size+=1}prepend(e){const t=new r(e);this.isEmpty()?(this.head=t,this.tail=t):(t.next=this.head,this.head=t),this.size+=1}dequeue(){if(this.isEmpty())return null;this.size-=1;const e=this.head.value;return this.head===this.tail?this.head=this.tail=null:this.head=this.head.next,e}delete(e){if(this.keyPath===o)throw new Error("This linked list has no key path!");if(this.isEmpty())return;if(this.size-=1,i(this.head.value,this.keyPath)===e)return this.head=this.head.next,void(null===this.head&&(this.tail=null));let t=this.head;for(;null!==t.next;){if(i(t.next.value,this.keyPath)===e)return t.next=t.next.next,void(null===t.next&&(this.tail=t));t=t.next}}find(e){if(this.keyPath===o)throw new Error("This linked list has no key path!");let t=this.head;for(;null!==t;){const{value:n}=t;if(i(n,this.keyPath)===e)return n;t=t.next}return null}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}toArrayKey(){if(this.keyPath===o)throw new Error("This linked list has no key path!");const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e.map((e=>i(e,this.keyPath)))}forEach(e){let t=this.head;for(;null!==t;)e(t.value),t=t.next}clear(){this.head=this.tail=null}}},THES:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("cZzy"),i=n("68O6");t.createClientReportEnvelope=function(e,t,n){const o=[{type:"client_report"},{timestamp:n||i.dateTimestampInSeconds(),discarded_events:e}];return r.createEnvelope(t?{dsn:t}:{},[o])}},TMLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("physical-module-writer")},TlYt:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatus=void 0,function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(t.SpanStatus||(t.SpanStatus={}))},TulE:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("2lSo").copySync,s=n("tB16").removeSync,a=n("zyBB").mkdirsSync,c=n("XMvv");function u(e,t,n){return r.statSync(e).isDirectory()?function(e,t,n){const r={overwrite:!1};n?(s(t),i()):i();function i(){return o(e,t,r),s(e)}}(e,t,n):function(e,t,n){const i=65536,o=c(i),s=n?"w":"wx",a=r.openSync(e,"r"),u=r.fstatSync(a),l=r.openSync(t,s,u.mode);let d=0;for(;d<u.size;){const e=r.readSync(a,o,0,i,d);r.writeSync(l,o,0,e),d+=e}return r.closeSync(a),r.closeSync(l),r.unlinkSync(e)}(e,t,n)}e.exports={moveSync:function e(t,n,o){const c=(o=o||{}).overwrite||o.clobber||!1;if(t=i.resolve(t),n=i.resolve(n),t===n)return r.accessSync(t);if(function(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(n){return!1}}(t,n))throw new Error(`Cannot move '${t}' into itself '${n}'.`);a(i.dirname(n)),function(){if(c)try{return r.renameSync(t,n)}catch(i){if("ENOTEMPTY"===i.code||"EEXIST"===i.code||"EPERM"===i.code)return s(n),o.overwrite=!1,e(t,n,o);if("EXDEV"!==i.code)throw i;return u(t,n,c)}else try{return r.linkSync(t,n),r.unlinkSync(t)}catch(i){if("EXDEV"===i.code||"EISDIR"===i.code||"EPERM"===i.code||"ENOTSUP"===i.code)return u(t,n,c);throw i}}()}}},TvSv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValueProvider=void 0,t.isValueProvider=function(e){return null!=e.useValue}},UJDs:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));let r=function(e){return e[e.info=0]="info",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.critical=4]="critical",e}({});const i={[r.info]:"info",[r.error]:"error",[r.warn]:"warn",[r.debug]:"debug",[r.critical]:"critical"}},UK4g:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return f}));const r="db",i="sql",o=1e4,s=0,a=1e4,c="Database",u=!1,l="_",d="/",f="dal"},UURK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("rCOr"),i=n("F1Ur"),o=n("CtPB");const s={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=o.quick[e];if(void 0===t){const n=o.jump[e];if(!n)throw new Error(`${r.decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=31&e;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}}const c=Symbol.for("DONE"),u=Symbol.for("BREAK");function l(e,t){if(e.done())return c;const n=e.next();if(n.type===i.Type.break)return u;if(n.type.terminal)return n.value;if(n.type===i.Type.array)return function(e,t,n){const i=[];for(let o=0;o<e.value;o++){const s=l(t,n);if(s===u){if(e.value===1/0)break;throw new Error(`${r.decodeErrPrefix} got unexpected break to lengthed array`)}if(s===c)throw new Error(`${r.decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);i[o]=s}return i}(n,e,t);if(n.type===i.Type.map)return function(e,t,n){const i=!0===n.useMaps,o=i?void 0:{},s=i?new Map:void 0;for(let a=0;a<e.value;a++){const d=l(t,n);if(d===u){if(e.value===1/0)break;throw new Error(`${r.decodeErrPrefix} got unexpected break to lengthed map`)}if(d===c)throw new Error(`${r.decodeErrPrefix} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==i&&"string"!=typeof d)throw new Error(`${r.decodeErrPrefix} non-string keys not supported (got ${typeof d})`);const f=l(t,n);if(f===c)throw new Error(`${r.decodeErrPrefix} found map but not enough entries (got ${a} [no value], expected ${e.value})`);i?s.set(d,f):o[d]=f}return i?s:o}(n,e,t);if(n.type===i.Type.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const r=l(e,t);return t.tags[n.value](r)}throw new Error(`${r.decodeErrPrefix} tag not supported (${n.value})`)}throw new Error("unsupported")}t.Tokeniser=a,t.decode=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${r.decodeErrPrefix} data to decode must be a Uint8Array`);const n=(t=Object.assign({},s,t)).tokenizer||new a(e,t),i=l(n,t);if(i===c)throw new Error(`${r.decodeErrPrefix} did not find any content to decode`);if(i===u)throw new Error(`${r.decodeErrPrefix} got unexpected break`);if(!n.done())throw new Error(`${r.decodeErrPrefix} too many terminals, data makes no sense`);return i},t.tokensToObject=l},UXua:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");let i;class o{constructor(){o.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=o.id}setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=r.getOriginalFunction(this)||this;return i.apply(t,e)}}catch(e){}}}o.__initStatic(),t.FunctionToString=o},Us5w:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="ZMSG_CHANNEL_MANAGER"},Uzj0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n("VTBJ");let i,o,s;let a,c;!function(e){let t;async function n(e,t){return await Promise.all(e.map(((e,n,r)=>t(e,n,r))))}!function(e){let t,n=function(e){return e[e.ASC=1]="ASC",e[e.DES=-1]="DES",e}({});var r;e.Order=n,e.create=function(e){return(t,r)=>{for(let i=0;i<e.length;i++){const o=e[i],s=o.comparer(t[o.key],r[o.key]);if(0!==s)return o.order===n.DES?s*o.order:s}return 0}},(r=t||(t=e.Comparer||(e.Comparer={}))).bool=function(e,t){if(e||t){if(!e)return 1;if(!t)return-1}return 0},r.number=function(e,t){return e>t?1:e<t?-1:0},r.string=function(e,t){return e>t?1:e<t?-1:0}}(t||(t=e.Sorter||(e.Sorter={}))),e.asyncForEach=async function(e,t){for(let n=0;n<e.length;n++)await t(e[n],n,e)},e.asyncFilter=async function(e,t){let n=[];for(let r=0;r<e.length;r++)await t(e[r],r,e)&&n.push(e[r]);return n},e.asyncFilterParallel=async function(e,t){const r=await n(e,t),i=[];for(let n=0;n<e.length;n++)r[n]&&i.push(e[n]);return i},e.asyncMap=async function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push(await t(e[r],r,e));return n},e.asyncMapParallel=n;e.safeParseJson=e=>{try{const t=JSON.parse(e);if(!Array.isArray(t))throw new Error("Object is not an array");return[null,t]}catch(t){return[t,[]]}},e.merge=(e,t)=>Array.from(new Set(e.concat(t)))}(i||(i={})),function(e){e.catchFn=e=>{try{return[null,e()]}catch(t){return[t,null]}},e.catchAsyncFn=async e=>{try{return[null,await e()]}catch(t){return[t,null]}},e.catchPromise=async e=>{try{return[null,await e]}catch(t){return[t,null]}};function t(e=0){return new Promise((t=>{setTimeout(t,e)}))}e.delay=t,e.timeout=function(e,n,r){return Promise.race([t(n).then((()=>r)),e])};let n;e.Container=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.promise=void 0,this.value=void 0,this.promise=new Promise(((e,t)=>{this.resolve=t=>{this.value=t,e(t)},this.reject=t}))}},(n||(n=e.Macrotask||(e.Macrotask={}))).push=function(e){setTimeout(e,0)}}(o||(o={})),(s||(s={})).getNumberOfDays=function(e,t){const n=new Date(e),r=new Date(t).getTime()-n.getTime();return Math.round(r/864e5)},function(e){e.map=function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(r,e[r]),n}),{})};e.isEmptyObject=e=>"object"==typeof e&&!Object.keys(e),e.isNotEmptyObject=e=>"object"==typeof e&&!!Object.keys(e),e.clone=(e,t="shalow")=>"deep"===t?JSON.parse(JSON.stringify(e)):Object(r.a)({},e),e.safeParseJson=e=>{try{return[null,JSON.parse(e)]}catch(t){return[t,{}]}},e.getProperty=(e,t)=>{var n,r;return null!==(n=null!==(r=e[t])&&void 0!==r?r:e[t.toLowerCase()])&&void 0!==n?n:e[t.toUpperCase()]};e.Comparer=class{constructor(e,t,n){this.object1=e,this.object2=t,this.result=void 0,this.result=null!=n&&n}AND(e,t){return this.result=this.result&&this.compareField(e,t),this}OR(e,t){return this.result=this.result||this.compareField(e,t),this}exec(){return this.result}compareField(e,t){var n;const r=this.object1[e],i=this.object2[e];return null!==(n=null==t?void 0:t(r,i))&&void 0!==n?n:r==i}}}(a||(a={})),function(e){const t=[-1,1,1];e.get=e=>{if(e>t.length-1)for(let n=t.length;n<=e;n++)t.push(t[e-1]+t[e-2]);return t[e]}}(c||(c={}));const u="undefined"!=typeof window&&"Microsoft Internet Explorer"==(null===(l=window)||void 0===l||null===(d=l.navigator)||void 0===d?void 0:d.appName);var l,d;let f;var p;let h,y;(p=f||(f={})).encrypt=function(e,t){let n=0,r=[];if(u){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")},p.decrypt=function(e,t){let n=0,r=[];if(u){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i,n=i-n;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")},function(e){const t=36e5,n=24*t,r={W:7*n,D:n,h:t,m:6e4,s:1e3,ms:1},i=e.timeInMs=e=>{const t=/(\d+)(ms|s|m|h|D|W)/g;let n,i=0;for(;n=t.exec(e);)i+=parseInt(n[1])*r[n[2]];return i};e.countDays=(e,t)=>{if(e>t)return 0;const n=new Date(e),r=new Date(t);n.setHours(0,0,0,0),r.setHours(0,0,0,0);const o=r.getTime()-n.getTime();return Math.ceil(o/i("1D"))+1},e.countUniqDays=(...e)=>{const t=new Set;return e.forEach((e=>{const n=new Date(e);n.setHours(0,0,0,0),t.add(n.getTime())})),t.size}}(h||(h={})),function(e){const t=1048576,n={GB:1073741824,MB:t,KB:1024,byte:1};e.sizeInByte=e=>{const t=/(\d+)(byte|KB|MB|GB)/g;let r,i=0;for(;r=t.exec(e);)i+=parseInt(r[1])*n[r[2]];return i},e.bytesToMB=e=>e/t}(y||(y={}))},"V/gh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=t.camelCaseTransformMerge=t.camelCaseTransform=void 0;var r=n("xOsE"),i=n("O2Of");function o(e,t){return 0===t?e.toLowerCase():i.pascalCaseTransform(e,t)}t.camelCaseTransform=o,t.camelCaseTransformMerge=function(e,t){return 0===t?e.toLowerCase():i.pascalCaseTransformMerge(e)},t.camelCase=function(e,t){return void 0===t&&(t={}),i.pascalCase(e,r.__assign({transform:o},t))}},V8xY:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("Wc52"),i=n("KRcn"),o=n("Yl80"),s=n("UJDs"),a=n("jDHv"),c=n("jGDt");class u{constructor(){this._syncTests={},this._asyncTests={},this._cacheSync={},this._cacheAsync={}}sync(e){if(null!=this._cacheSync[e])return this._cacheSync[e];if(!this._syncTests[e])throw l(e);return this._cacheSync[e]=this._syncTests[e](),this._cacheSync[e]}async async(e){if(null!=this._cacheAsync[e])return this._cacheAsync[e];if(!this._asyncTests[e])throw l(e);return this._cacheAsync[e]=await this._asyncTests[e](),this._cacheAsync[e]}}function l(e){return new Error(`The test for feature "${e}" is not defined.\n\tPlease add the test to the CanIUseBuilder using addTest or addAsyncTest.`)}const d=()=>new Promise(((e,t)=>{let n=new Image;n.onerror=function(){t()},n.onload=function(){e(2!==n.width)},n.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}));(new class{constructor(){this._syncTests={},this._asyncTests={}}addTest(e,t){return this._syncTests[e]=t,this}addAsyncTest(e,t){return this._asyncTests[e]=t,this}build(){let e=new u;return e._syncTests=this._syncTests,e._asyncTests=this._asyncTests,e}}).addTest("createImageBitmap",(()=>"createImageBitmap"in globalThis)).addTest("WebWorkers",(()=>"Worker"in globalThis)).addTest("OffscreenCanvas",(()=>"OffscreenCanvas"in globalThis)).addTest("OffscreenCanvasRenderingContext2D",(()=>"OffscreenCanvasRenderingContext2D"in globalThis)).addTest("NavigatorLocks",(()=>"NavigatorLocks"in globalThis)).addAsyncTest("CSSImageOrientation",d).addAsyncTest("ExifOrientation",d).addAsyncTest("OPFS",(()=>new Promise(((e,t)=>{try{return e(!1)}catch(n){return e(!1)}})))).build();var f=n("5FGm"),p=n("HD3z");const h=n("89t2").performance;class y{constructor(){var e;this.status="init",this.queue=[],this.lastFlush=0,this.flushTimeout=0,this.flushTimer=null,this.logFolderName=f.b,this.EncodeMode=o.b.Binary,this.logFileName=`${Object(i.a)()}${o.a[this.EncodeMode].logExt}`,this._tryFlushAll=f.a.None,this.MAX_FLUSH_DURATION=80,this.supported=null,this.isWriterReady=!1,this.lock=null,this.filePath="",this.write=async e=>{if(p.a)if(null===this.supported&&(this.supported=!0),!1!==this.supported){if(this.queue.push(e),this.flushable)if(h.now()-this.lastFlush>=this.flushTimeout)this._flush();else{const e=this.flushTimeout-(h.now()-this.lastFlush);this._scheduleNextFlush(e)}}else this.size>0&&this.queue.splice(0,this.size)},this.tryFlushAll=async()=>{if(!p.a)return;const e={metadata:{tags:["ZLL.F".toUpperCase()],level:s.b.info,tick:Date.now(),ln:0,targetTransporter:"toFile",template:[]},args:[`====FLUSHALL: ${this.size}====`]};if(this.queue.push(e),"busy"===this.status)return this._tryFlushAll=f.a.FlushOnNextRun,this.releaseTryFlushLock(),this.lock=this.createDeferredPromise(),void(await this.lock.promise);this._tryFlushAll=f.a.FlushNow,await this._flush()},this.resetFlushAll=()=>{this._tryFlushAll=f.a.None},this._addSession=e=>{this.queue.unshift(e),this.status="idle"},this.getFilePath=async()=>{if(this.filePath)return this.filePath;const e=await this.createLogDir(),t=n("oyvS");return this.filePath=t.join(e,this.logFileName),this.filePath},this.createLogDir=async()=>{const e=n("IpzU").getuserDataDir,t=await e(),r=n("oyvS").join(t,this.logFolderName);return await this.ensureDir(r),r},this.isLogDirExists=async()=>{const e=n("IpzU").getuserDataDir,t=await e(),r=n("oyvS"),i=n("mw/K"),o=r.join(t,this.logFolderName);return i.existsSync(o)},this.createDeferredPromise=()=>{let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}},this.ensureDir=e=>new Promise(((t,r)=>{n("g+8e").ensureDir(e,1533,(e=>{if(e)return r(e);t()}))})),this.getAppVersion=async()=>{let e="";try{var t,r;e=null===(t=n("NLsH"))||void 0===t||null===(r=t.app)||void 0===r?void 0:r.getVersion()}catch(i){}return e},this.cleanupOldLogs=async()=>{if(!p.a)return;const e=n("mw/K"),t=n("IpzU").getuserDataDir,r=await t(),o=n("oyvS"),s=Object(i.a)(),a=[".module",".meta",".zlog"].map((e=>o.join(r,this.logFolderName,`${s}${e}`))),c=t=>{try{if(!e.existsSync(t))return;e.unlinkSync(t)}catch(n){}};for(const n of a)c(n)},this.buildSession=async e=>{if(!p.a)return;const t=a.ModuleContainer.resolve(c.a);let n="";try{n=await this.getAppVersion()}catch(u){}const r=`zlgvers:OTuxmB23 ps:${Object(i.a)()} build:production-release pversion:24.9.1 avers:${n} bhash:e3ce9dcd4b21386246c9113273f6fb8b47c3f938`,o={metadata:{tags:["Session".toUpperCase()],level:s.b.info,tick:t.getProcessStartTime(),ln:0,targetTransporter:"toFile",template:[]},args:[r]};e&&e(o)},this._scheduleNextFlush=e=>{if((this._tryFlushAll===f.a.FlushNow||this.size<=0)&&(this.releaseTryFlushLock(),this._tryFlushAll=f.a.None),this.lastFlush=h.now(),this.clearFlushTimer(),this.status="idle",!(this.size<=0)){if(this._tryFlushAll===f.a.FlushOnNextRun)return this._tryFlushAll=f.a.FlushNow,void this._flush();this.status="sleeping",this.flushTimer=setTimeout((()=>{this.status="idle",this._flush()}),e)}},this.clearFlushTimer=()=>{this.flushTimer&&clearTimeout(this.flushTimer),this.flushTimer=null,"sleeping"===this.status&&(this.status="idle")},this.releaseTryFlushLock=()=>{var e;null===(e=this.lock)||void 0===e||e.resolve(),this.lock=null},this.flushTimeout=(null===(e=r.a[Object(i.a)()])||void 0===e?void 0:e.fileInterval)||5e3,this.buildSession(this._addSession),this.cleanupOldLogs()}get size(){return this.queue.length}get flushable(){return this.supported&&this.isWriterReady&&"idle"===this.status&&this.size>0}}},VTBJ:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},VxEN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+"),o=n("eCJT");t.trace=function(e,t,n=(()=>{})){const s={...e};void 0!==s.name&&void 0===s.description&&(s.description=s.name);const a=i.getCurrentHub(),c=a.getScope(),u=c.getSpan(),l=function(){if(o.hasTracingEnabled())return u?u.startChild(s):a.startTransaction(s)}();function d(){l&&l.finish(),a.getScope().setSpan(u)}let f;c.setSpan(l);try{f=t(l)}catch(p){throw l&&l.setStatus("internal_error"),n(p),d(),p}return r.isThenable(f)?Promise.resolve(f).then((()=>{d()}),(e=>{l&&l.setStatus("internal_error"),n(e),d()})):d(),f}},Vxli:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF"),i=n("fUQU"),o=n("QS11"),s=n("qOX6");function a(e,t=100,n=1/0){try{return c("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function c(e,t,n=1/0,a=1/0,u=i.memoBuilder()){const[l,d]=u;if(null==t||["number","boolean","string"].includes(typeof t)&&!r.isNaN(t))return t;const f=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(r.isSyntheticEvent(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${s.getFunctionName(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}(e,t);if(!f.startsWith("[object "))return f;if(t.__sentry_skip_normalization__)return t;const p="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===p)return f.replace("object ","");if(l(t))return"[Circular ~]";const h=t;if(h&&"function"==typeof h.toJSON)try{return c("",h.toJSON(),p-1,a,u)}catch(_){}const y=Array.isArray(t)?[]:{};let m=0;const g=o.convertToPlainObject(t);for(const r in g){if(!Object.prototype.hasOwnProperty.call(g,r))continue;if(m>=a){y[r]="[MaxProperties ~]";break}const e=g[r];y[r]=c(r,e,p-1,a,u),m++}return d(t),y}t.normalize=a,t.normalizeToSize=function e(t,n=3,r=102400){const i=a(t,n);return o=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>r?e(t,n-1,r):i;var o},t.walk=c},W8fB:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("jDHv");const i=Object(r.define)("sen-log-writer"),o=Object(r.define)("console-log-writer"),s=Object(r.define)("zlog-writer")},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},WKFt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("1bAp"),i=n("XdWb");t.default=function(){return function(e){r.default()(e),i.instance.registerSingleton(e)}}},WQ9x:function(e,t){function n(e,t,r){const i=t.match(/([a-z_]+)\.(.*)/i);if(null===i)e[t]=r;else{n(e[i[1]],i[2],r)}}function r(e,t,r){const i=t.find((t=>t.name===e.name));if(i){for(const[e,t]of Object.entries(r))n(i,e,t);return t}return[...t,e]}Object.defineProperty(t,"__esModule",{value:!0}),t.addOrUpdateIntegration=function(e,t,n={}){return Array.isArray(t)?r(e,t,n):function(e,t,n){const i=i=>{const o=t(i);if(e.allowExclusionByUser){if(!o.find((t=>t.name===e.name)))return o}return r(e,o,n)};return i}(e,t,n)}},WSI5:function(e,t,n){"use strict";var r=n("jDHv"),i=n("/n5c"),o=(n("pYq5"),n("6pNU"));r.ModuleContainer.registerSingleton(i.ZLogFileWriter,class{constructor(){this.write=async e=>{r.ModuleContainer.resolve(o.a).write(e)},this.tryFlushAll=async()=>{await r.ModuleContainer.resolve(o.a).tryFlushAll()}}})},WYAk:function(e,t,n){var r,i,o,s;e.exports=(r=n("Ib8C"),o=(i=r).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,c=o.words,u=0;u<n;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},Wc52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fsQs"),i=n("PLj1");const o={[i.b.Unknown]:{toConsole:!1,toFile:!1,fileInterval:r.FLUSH_INTERVAL},[i.b.Embed]:{toConsole:!1,toFile:!1,fileInterval:-1},[i.b.Main]:{toConsole:!1,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.Login]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL_FAST},[i.b.Render]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.Photo]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.SharedWorker]:{toConsole:!1,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.PreloadSharedWorker]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.Web]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL_WEB},[i.b.PreloadSQLite]:{toConsole:!0,toFile:!0,fileInterval:r.FLUSH_INTERVAL},[i.b.UProcessSQLite]:{toConsole:!1,toFile:!0,fileInterval:r.FLUSH_INTERVAL}}},WlON:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClassProvider=void 0,t.isClassProvider=function(e){return!!e.useClass}},X34b:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("CDI/"),i=n("xM06");let o=null;function s(){if(null===o){const e=n("EXGp").sqlite3();o=e}return o}const a=async(e,t)=>{const n=s(),o=await new Promise(((t,r)=>{const o=i.r.OPEN_READWRITE|i.r.OPEN_CREATE|i.r.OPEN_WAL|i.r.OPEN_PRIVATE_CACHE,s=new n.Database(e,o,(e=>{e?r(e):t(s)}))})),a=[r.g("WAL"),r.h(536870912),r.d(500),r.c(400),r.j("NORMAL"),r.i("NORMAL"),r.f("OFF"),r.e(5e3)].join(";");return await new Promise(((e,t)=>{o.exec(a,(function(n){n?t(n):e()}))})),o}},XB6V:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlogger-factory")},XMvv:function(e,t,n){"use strict";e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},XdWb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instance=t.typeInfo=void 0;const r=n("bqdI"),i=n("ZS7o"),o=n("JB9/"),s=n("Negr"),a=n("g74s"),c=n("moCT"),u=n("rlKW"),l=n("2xh+"),d=n("JJ8X");t.typeInfo=new Map;class f{constructor(e){this.parent=e,this._registry=new s.default,this.interceptors=new d.default}register(e,t,n={lifecycle:a.default.Transient}){let o;if(o=i.isProvider(t)?t:{useClass:t},r.isTokenProvider(o)){const t=[e];let n=o;for(;null!=n;){const e=n.useToken;if(t.includes(e))throw new Error(`Token registration cycle detected! ${[...t,e].join(" -> ")}`);t.push(e);const i=this._registry.get(e);n=i&&r.isTokenProvider(i.provider)?i.provider:null}}if((n.lifecycle===a.default.Singleton||n.lifecycle==a.default.ContainerScoped||n.lifecycle==a.default.ResolutionScoped)&&(r.isValueProvider(o)||r.isFactoryProvider(o)))throw new Error(`Cannot use lifecycle "${a.default[n.lifecycle]}" with ValueProviders or FactoryProviders`);return this._registry.set(e,{provider:o,options:n}),this}registerType(e,t){return r.isNormalToken(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})}registerInstance(e,t){return this.register(e,{useValue:t})}registerSingleton(e,t){if(r.isNormalToken(e)){if(r.isNormalToken(t))return this.register(e,{useToken:t},{lifecycle:a.default.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:a.default.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}let n=e;return t&&!r.isNormalToken(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:a.default.Singleton})}resolve(e,t=new c.default){const n=this.getRegistration(e);if(!n&&r.isNormalToken(e))throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`);if(this.executePreResolutionInterceptor(e,"Single"),n){const r=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}if(o.isConstructorToken(e)){const n=this.construct(e,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")}executePreResolutionInterceptor(e,t){if(this.interceptors.preResolution.has(e)){const n=[];for(const r of this.interceptors.preResolution.getAll(e))"Once"!=r.options.frequency&&n.push(r),r.callback(e,t);this.interceptors.preResolution.setAll(e,n)}}executePostResolutionInterceptor(e,t,n){if(this.interceptors.postResolution.has(e)){const r=[];for(const i of this.interceptors.postResolution.getAll(e))"Once"!=i.options.frequency&&r.push(i),i.callback(e,t,n);this.interceptors.postResolution.setAll(e,r)}}resolveRegistration(e,t){if(e.options.lifecycle===a.default.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);const n=e.options.lifecycle===a.default.Singleton,i=e.options.lifecycle===a.default.ContainerScoped,o=n||i;let s;return s=r.isValueProvider(e.provider)?e.provider.useValue:r.isTokenProvider(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):r.isClassProvider(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):r.isFactoryProvider(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===a.default.ResolutionScoped&&t.scopedResolutions.set(e,s),s}resolveAll(e,t=new c.default){const n=this.getAllRegistrations(e);if(!n&&r.isNormalToken(e))throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`);if(this.executePreResolutionInterceptor(e,"All"),n){const r=n.map((e=>this.resolveRegistration(e,t)));return this.executePostResolutionInterceptor(e,r,"All"),r}const i=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,i,"All"),i}isRegistered(e,t=!1){return this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)}reset(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()}clearInstances(){for(const[e,t]of this._registry.entries())this._registry.setAll(e,t.filter((e=>!r.isValueProvider(e.provider))).map((e=>(e.instance=void 0,e))))}createChildContainer(){const e=new f(this);for(const[t,n]of this._registry.entries())n.some((({options:e})=>e.lifecycle===a.default.ContainerScoped))&&e._registry.setAll(t,n.map((e=>e.options.lifecycle===a.default.ContainerScoped?{provider:e.provider,options:e.options}:e)));return e}beforeResolution(e,t,n={frequency:"Always"}){this.interceptors.preResolution.set(e,{callback:t,options:n})}afterResolution(e,t,n={frequency:"Always"}){this.interceptors.postResolution.set(e,{callback:t,options:n})}getRegistration(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null}getAllRegistrations(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null}construct(e,n){if(e instanceof l.DelayedConstructor)return e.createProxy((e=>this.resolve(e,n)));const r=t.typeInfo.get(e);if(!r||0===r.length){if(0===e.length)return new e;throw new Error(`TypeInfo not known for "${e.name}"`)}return new e(...r.map(this.resolveParams(n,e)))}resolveParams(e,t){return(n,r)=>{try{return o.isTokenDescriptor(n)?o.isTransformDescriptor(n)?n.multiple?this.resolve(n.transform).transform(this.resolveAll(n.token),...n.transformArgs):this.resolve(n.transform).transform(this.resolve(n.token,e),...n.transformArgs):n.multiple?this.resolveAll(n.token):this.resolve(n.token,e):o.isTransformDescriptor(n)?this.resolve(n.transform,e).transform(this.resolve(n.token,e),...n.transformArgs):this.resolve(n,e)}catch(i){throw new Error(u.formatErrorCtor(t,r,i))}}}}t.instance=new f,t.default=t.instance},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),o=n("tMB7"),s=n("+6XX"),a=n("Z8oC");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},Xk0L:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},XuBa:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=n("NFKh");class i{static encrypt(e){return r.AES.encrypt(e,"5dbe084b7eedNWjRref04e2rDxs01lwH",{iv:"7eb5dbe084b7eedeef04e2622d46ba00",mode:r.mode.ECB,padding:r.pad.Pkcs7})+""}static decrypt(e){return r.AES.decrypt(e,"5dbe084b7eedNWjRref04e2rDxs01lwH",{keySize:16,iv:"7eb5dbe084b7eedeef04e2622d46ba00",mode:r.mode.ECB,padding:r.pad.Pkcs7}).toString(r.enc.Utf8)}}},XvhB:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+");class o{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){const e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),t={attrs:this._sessionAttrs,aggregates:e};return r.dropUndefinedKeys(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=i.getCurrentHub().getScope(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const n=new Date(t).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};const r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}t.SessionFlusher=o},Y41u:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));let r=function(e){return e.RegLogBucketStatus="RegLogBucketStatus",e.SentryLogBucketStatus="SentryLogBucketStatus",e.WriteSchedulerRequestFlush="WriteSchedulerRequestFlush",e.WriterStatus="WriterStatus",e.LogBucketRequestFlush="LogBucketRequestFlush",e}({});class i{constructor(e,t){this.type=e,this.payload=t}}class o{constructor(e){this.type=e}}class s{constructor(e,t){this.type=e,this.payload=t}}},Y58e:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("config")},YESw:function(e,t,n){var r=n("Cwc5")(Object,"create");e.exports=r},YEoC:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));let r=function(e){return e.NEXT="next",e.NEXT_UNIQUE="nextunique",e.PREV="prev",e.PREV_UNIQUE="prevunique",e}({}),i=function(e){return e.integer="integer",e.float="float",e.string="string",e.boolean="boolean",e.blob="blob",e.json="json",e}({}),o=function(e){return e.IMPACT_FULL="impact_full",e.IMPACT_PARTIAL="impact_partial",e}({}),s=function(e){return e.READONLY="readonly",e.READWRITE="readwrite",e}({}),a=function(e){return e[e.BLOCKING=0]="BLOCKING",e[e.NON_BLOCKING=50]="NON_BLOCKING",e[e.LOW=100]="LOW",e[e.IDLE=250]="IDLE",e[e.NEVER_TIMEOUT=1e3]="NEVER_TIMEOUT",e}({}),c=function(e){return e[e.IDB=0]="IDB",e[e.SQLite=1]="SQLite",e}({}),u=function(e){return e[e.BeginTransaction=0]="BeginTransaction",e[e.CommitTransaction=1]="CommitTransaction",e[e.Clear=2]="Clear",e[e.Get=3]="Get",e[e.GetAndUpdate=4]="GetAndUpdate",e[e.GetMulti=5]="GetMulti",e[e.GetAll=6]="GetAll",e[e.GetAllKey=7]="GetAllKey",e[e.Insert=8]="Insert",e[e.InsertMulti=9]="InsertMulti",e[e.Update=10]="Update",e[e.UpdateMulti=11]="UpdateMulti",e[e.Delete=12]="Delete",e[e.DeleteMulti=13]="DeleteMulti",e[e.FindAndDelete=14]="FindAndDelete",e[e.Count=15]="Count",e[e.CloseDB=16]="CloseDB",e[e.CloseAllDBs=17]="CloseAllDBs",e[e.DeleteDB=18]="DeleteDB",e[e.DeleteAllDBs=19]="DeleteAllDBs",e[e.GetMultiIfExists=20]="GetMultiIfExists",e}({}),l=function(e){return e[e.Unknown=0]="Unknown",e[e.Background=1]="Background",e[e.Host=2]="Host",e[e.Client=3]="Client",e[e.Worker=4]="Worker",e[e.Browser=5]="Browser",e}({})},YZti:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n("MWu7"),i=(n("0EaC"),n("DI/x")),o=n("YEoC");let s;var a;(a=s||(s={})).isVersionError=function(e){return e instanceof DOMException&&"VersionError"===e.name},a.getCurrentVersionFromVersionError=function(e){if(!s.isVersionError(e))return NaN;const t=[...e.message.matchAll(/\(\d+\)/g)];if(!t.length)return-1;const n=t[1][0];return+n.slice(1,n.length-1)},a.isInvalidStateError=function(e){return e instanceof DOMException&&("InvalidStateError"===e.name||11===e.code)},a.isOutOfMemError=function(e){if(!(e instanceof Error))return!1;const{name:t,message:n}=e;return"QuotaExceededError"===t||"AbortError"===t&&n.includes("Version change transaction was aborted in upgradeneeded event handler.")};const c="undefined"!=typeof window&&"Microsoft Internet Explorer"==(null===(u=window.navigator)||void 0===u?void 0:u.appName);var u;let l;var d;let f;let p;var h;(d=l||(l={})).encrypt=function(e,t){let n=0,r=[];if(c){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")},d.decrypt=function(e,t){let n=0,r=[];if(c){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i,n=i-n;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")},(f||(f={})).getTypeName=function(e){switch(e){case o.e.BeginTransaction:return"begin-transaction";case o.e.CommitTransaction:return"commit-transaction";case o.e.Clear:return"clear";case o.e.Get:return"get";case o.e.GetAndUpdate:return"get-and-update";case o.e.GetMulti:return"get-multi";case o.e.GetMultiIfExists:return"get-multi-if-exists";case o.e.GetAll:return"get-all";case o.e.GetAllKey:return"get-all-key";case o.e.Insert:return"insert";case o.e.InsertMulti:return"insert-multi";case o.e.Update:return"update";case o.e.UpdateMulti:return"update-multi";case o.e.Delete:return"delete";case o.e.DeleteMulti:return"delete-multi";case o.e.FindAndDelete:return"find-and-delete";case o.e.Count:return"count";case o.e.CloseDB:return"close-db";case o.e.CloseAllDBs:return"close-all-dbs";case o.e.DeleteDB:return"delete-db";case o.e.DeleteAllDBs:return"delete-all-dbs"}},(h=p||(p={})).isMissingTableError=function(e){return e instanceof i.b&&e.code===i.g},h.isInvalidVersionError=function(e){return e instanceof i.b&&e.code===i.e},h.isFailedToOpenConnectionError=function(e){return e instanceof i.b&&e.code===i.d},h.isOutOfMemError=function(e){return s.isOutOfMemError(e)||r.a.isOutOfMemError(e)}},YdM9:function(e,t,n){"use strict";const r=n("qd5i");e.exports=class extends r{next(){const e=super.next();return e.value&&(e.value=e.value.data),e}}},Yl80:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("HD3z");let i=function(e){return e.Binary="zlog",e.Text="log",e}({});const o={[i.Binary]:{logExt:r.a?".calf":".zlog",metaExt:".meta",moduleExt:".module"},[i.Text]:{logExt:r.a?".txt":".log",metaExt:".dmeta",moduleExt:".module"}}},Ym2y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa");t.default=function(e,t,...n){return r.defineInjectionTokenMetadata(e,{transformToken:t,args:n})}},YrRS:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("jDHv"),i=n("PLj1"),o=n("KRcn"),s=n("5l/R"),a=n("XB6V");function c(){const e=Object(o.a)();if(i.a.includes(e))return;r.ModuleContainer.resolve(s.a).setupWriters();l(r.ModuleContainer.resolve(a.a).createZLogger("zconsole",["zlogger"]))}const u=function(){};function l(e,t=!1){const n=["_applyFilter","_getLevel","_transport"],r=Object.getOwnPropertyNames(e).filter((t=>"function"==typeof e[t]&&!n.includes(t)));if(globalThis.zconsole)for(const i of r)globalThis.zconsole[i]=t?u:e[i].bind(e)}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Yzye:function(e,t,n){"use strict";const r=n("MVkO"),i=n("RYQB");e.exports=class extends i{push(e){const t=r.createNode(e);e.promise.catch(this._createTimeoutRejectionHandler(t)),this._list.insertEnd(t)}_createTimeoutRejectionHandler(e){return t=>{"TimeoutError"===t.name&&this._list.remove(e)}}}},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z8gs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="SCRIPT_UNIT/POST_MESSAGE"},Z8oC:function(e,t,n){var r=n("y1pI");e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},ZC5O:function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((t,n)=>{arguments[arguments.length]=(e,r)=>{if(e)return n(e);t(r)},arguments.length++,e.apply(this,arguments)}));e.apply(this,arguments)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},ZS7o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isProvider=void 0;const r=n("WlON"),i=n("TvSv"),o=n("I++M"),s=n("GwQQ");t.isProvider=function(e){return r.isClassProvider(e)||i.isValueProvider(e)||o.isTokenProvider(e)||s.isFactoryProvider(e)}},ZU8H:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n("jDHv"),i=n("iIBh"),o=n("0Grr"),s=n("mw/K"),a=n("oyvS"),c=n.n(a),u=n("T+bx"),l=n("Mgpg"),d=n("5Mby");let f=null;const p=()=>{if(null===f){const e=r.ModuleContainer.resolve(l.ZLoggerFactory);f=e.createZLogger("sqlite",["back-up"])}return f};class h{constructor(){this.logQueue=new u.a(u.b),this.receivedNewLogListeners=[],d.e&&this.handleEmptyLogQueue()}static getInstance(){return null===this.instance&&(this.instance=new h),this.instance}handleEmptyLogQueue(){this.onReceivedNewLog((()=>{this.writeNextLog()}))}onReceivedNewLog(e){this.receivedNewLogListeners.push(e)}triggerReceivedNewLogEvent(){for(const e of this.receivedNewLogListeners)e();this.receivedNewLogListeners=[]}async writeNextLog(){const e=this.logQueue.dequeue();if(null===e)this.handleEmptyLogQueue();else{const n=await async function(){if(null===y){const e=r.ModuleContainer.resolve(o.b),t=await e.getMainBackupRoot();y=c.a.join(t,"bu.log"),await Object(i.c)(y)}return y}();try{await s.promises.appendFile(n,e)}catch(t){p().zsymb(18,"bK3oho","Failed to write backup log:",t)}this.writeNextLog()}}write(e,t=[]){if(!d.e)return;let n=[e,...t].join(" ");n=n.endsWith("\n")?n:n+"\n";n=`${(new Date).toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",second:"2-digit",hour12:!1,fractionalSecondDigits:3}).replace(", ","-")} ${n}`,this.logQueue.append(n),this.triggerReceivedNewLogEvent()}}h.instance=null;let y=null},ZWtO:function(e,t,n){var r=n("4uTw"),i=n("9Nap");e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},a7gF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF"),i=n("qAY7"),o=n("QS11"),s=n("qOX6"),a=n("mqPU"),c=n("spuD"),u=n("/LUv"),l=c.getGlobalObject(),d="__sentry_xhr_v2__",f={},p={};function h(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in l))return;i.CONSOLE_LEVELS.forEach((function(e){e in l.console&&o.fill(l.console,e,(function(t){return function(...n){y("console",{args:n,level:e}),t&&t.apply(l.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in l))return;const e=y.bind(null,"dom"),t=S(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=l[t]&&l[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(o.fill(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=S(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(o){}return t.call(this,n,r,i)}})),o.fill(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in l))return;const e=XMLHttpRequest.prototype;o.fill(e,"open",(function(e){return function(...t){const n=t[1],i=this[d]={method:r.isString(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};r.isString(n)&&"POST"===i.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[d];if(e&&4===this.readyState){try{e.status_code=this.status}catch(n){}y("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?o.fill(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),o.fill(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,i=this[d];return i&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),o.fill(e,"send",(function(e){return function(...t){const n=this[d];return n&&void 0!==t[0]&&(n.body=t[0]),y("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!a.supportsNativeFetch())return;o.fill(l,"fetch",(function(e){return function(...t){const{method:n,url:r}=_(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return y("fetch",{...i}),e.apply(l,t).then((e=>(y("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw y("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!u.supportsHistory())return;const e=l.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=v,t=String(n);v=t,y("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){const n=l.location.href,r=v;if(v=n,y("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(i){}},o.fill(l.history,"pushState",t),o.fill(l.history,"replaceState",t)}();break;case"error":T=l.onerror,l.onerror=function(e,t,n,r,i){return y("error",{column:r,error:i,line:n,msg:e,url:t}),!(!T||T.__SENTRY_LOADER__)&&T.apply(this,arguments)},l.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":I=l.onunhandledrejection,l.onunhandledrejection=function(e){return y("unhandledrejection",e),!(I&&!I.__SENTRY_LOADER__)||I.apply(this,arguments)},l.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("unknown instrumentation type:",e))}}function y(e,t){if(e&&f[e])for(const r of f[e]||[])try{r(t)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(r)}\nError:`,n)}}function m(e,t){return!!e&&"object"==typeof e&&!!e[t]}function g(e){return"string"==typeof e?e:e?m(e,"url")?e.url:e.toString?e.toString():"":""}function _(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:g(t),method:m(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:g(t),method:m(t,"method")?String(t.method).toUpperCase():"GET"}}let v;const b=1e3;let w,E;function S(e,t=!1){return n=>{if(!n||E===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(t){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===w||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(E,n))&&(e({event:n,name:r,global:t}),E=n),clearTimeout(w),w=l.setTimeout((()=>{w=void 0}),b)}}let T=null;let I=null;t.SENTRY_XHR_DATA_KEY=d,t.addInstrumentationHandler=function(e,t){f[e]=f[e]||[],f[e].push(t),h(e)},t.parseFetchArgs=_},aBYf:function(e,t,n){"use strict";var r=n("jDHv"),i=n("pYq5"),o=n("V8xY"),s=n("ebA4"),a=n("fsQs"),c=n("iD3V"),u=n("5FGm");const l=n("89t2").performance;class d extends o.a{constructor(){super(),this._flush=async()=>{const{appendTextLog:e,archiveFileLog:t,getFileSize:n}=this.getFileHandler();this.clearFlushTimer(),this.status="busy";try{const r=await this.getFilePath();let i=await n(r),o=0;const d=l.now(),f=new Uint8Array(a.MAX_BATCH_BYTELENGTH);let p=0;for(;o<a.MAX_BATCH_BYTELENGTH&&l.now()-d<this.MAX_FLUSH_DURATION&&this.size>0&&p<a.MAX_BATCH_SIZE||this._tryFlushAll===u.a.FlushNow&&this.size>0;){const e=this.queue.shift(),t=Object(s.d)(e);if(o+t.byteLength>a.MAX_BATCH_BYTELENGTH)break;p++,f.set(t,o),o+=t.byteLength}i+o>=a.FILE_CONFIG.file_lim&&(await t(r),i=0);const h=Object(c.a)(e,{min:a.FLUSH_FAIL_RETY.min,max:a.FLUSH_FAIL_RETY.max,retries:a.FLUSH_FAIL_RETY.maxRetries,shouldRetryOnError:async({error:e})=>{a.ZLOGGER_DEBUG_MODE&&zconsole.error(`ZLL: _flush: failed with error: ${e}`);return await this.isLogDirExists()||await this.createLogDir(),!0},afterRetry:async({success:e,shouldRetry:t,nTry:n,duration:r})=>{a.ZLOGGER_DEBUG_MODE&&(e?zconsole.info(`ZLL: _flush try ${n}: success after ${r}ms`):zconsole.error(`ZLL: _flush try ${n}: failed. Should retry: ${t} after ${r}ms`)),e||t||zconsole.error(`ZLL: _flush failed after ${n} tries`)}});await h(r,f.slice(0,o))}catch(r){zconsole.error("ZLOG: _flush throws error",r)}finally{this._scheduleNextFlush(this.flushTimeout)}},this.isWriterReady=!0}getFileHandler(){const{appendTextLog:e,archiveFileLog:t,getFileSize:r}=n("SGjP");return{appendTextLog:e,archiveFileLog:t,getFileSize:r}}}r.ModuleContainer.registerSingleton(i.a,d)},aDNc:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("ot/0").invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=n.mode;const l=n.fs||r;void 0===u&&(u=s&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),l.mkdir(t,u,(r=>{if(!r)return a(null,c=c||t);if("ENOENT"===r.code){if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,((r,i)=>{r?a(r,i):e(t,n,a,i)}))}else l.stat(t,((e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)}))}))}},"aMN+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("uS0h");function o(e,t){i.encodeUintValue(e,r.Type.tag.majorEncoded,t.value)}o.compareTokens=i.encodeUint.compareTokens,o.encodedSize=function(e){return i.encodeUintValue.encodedSize(e.value)},t.decodeTag16=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint16(e,t+1,o),3)},t.decodeTag32=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint32(e,t+1,o),5)},t.decodeTag64=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint64(e,t+1,o),9)},t.decodeTag8=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint8(e,t+1,o),2)},t.decodeTagCompact=function(e,t,n,i){return new r.Token(r.Type.tag,n,1)},t.encodeTag=o},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},ascj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa");t.default=function(e){const t={token:e,multiple:!0};return r.defineInjectionTokenMetadata(t)}},b3Jv:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv");const c={IdxQueue:new s.d({tableName:"idx_queue",name:"IdxQueue",fields:{msgId:{name:"msgId",type:i.h.string},toUid:{name:"toUid",type:i.h.string},message:{name:"message",type:i.h.json},msgType:{name:"msgType",type:i.h.integer},ts:{name:"ts",type:i.h.string},fromUid:{name:"fromUid",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),StCont:new s.d({tableName:"stcont",name:"StCont",fields:{msgId:{name:"msgId",type:i.h.string},convId:{name:"convId",type:i.h.string},msgType:{name:"msgType",type:i.h.integer},index:{name:"index",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},msgId:{name:"msgId",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),StIdx:new s.d({tableName:"stidx",name:"StIdx",fields:{keywordId:{name:"keywordId",type:i.h.integer},contentId:{name:"contentId",type:i.h.integer},freq:{name:"freq",type:i.h.integer},index:{name:"index",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},keywordId:{name:"keywordId",fields:[{type:"raw",field:"keywordId"}],unique:!1}}}),StKeyword:new s.d({tableName:"stkw",name:"StKeyword",fields:{keyword:{name:"keyword",type:i.h.string},index:{name:"index",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},keyword:{name:"keyword",fields:[{type:"raw",field:"keyword"}],unique:!0}}})},u={name:"Search",session:!0},l={partitionNamingStrategy:[o.a.byUser(),o.a.const("Search")],partitionsMap:Object(a.a)(c)},d={partitionNamingStrategy:[o.a.const("sidx"),o.a.byUser()],partitionsMap:Object(a.a)(c)},f=Object(r.a)(Object(r.a)(Object(r.a)({},u),l),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_PARTIAL}),p=Object(r.a)(Object(r.a)(Object(r.a)({},u),d),{},{version:2,milestoneVersion:2,type:i.a.IDB});let h=null,y=null;t.a={baseConfig:u,schema:c,get useSqlite(){return null===h&&(h=new s.a(f)),h},get useIdb(){return null===y&&(y=new s.a(p)),y}}},bAum:function(e,t,n){"use strict";var r=process.argv,i=r.indexOf("--"),o=function(e){e="--"+e;var t=r.indexOf(e);return-1!==t&&(-1===i||t<i)};e.exports=!(!("FORCE_COLOR"in process.env)&&(o("no-color")||o("no-colors")||o("color=false")||!(o("color")||o("colors")||o("color=true")||o("color=always"))&&(process.stdout&&!process.stdout.isTTY||"win32"!==process.platform&&!("COLORTERM"in process.env)&&("dumb"===process.env.TERM||!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))))},bQjk:function(e,t,n){var r,i,o,s;e.exports=(s=n("Ib8C"),n("OLod"),i=(r=s).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},s.format.Hex)},bSii:function(e,t,n){"use strict";n("igA5"),n("YEoC")},bqdI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("WlON");Object.defineProperty(t,"isClassProvider",{enumerable:!0,get:function(){return r.isClassProvider}});var i=n("GwQQ");Object.defineProperty(t,"isFactoryProvider",{enumerable:!0,get:function(){return i.isFactoryProvider}});var o=n("JB9/");Object.defineProperty(t,"isNormalToken",{enumerable:!0,get:function(){return o.isNormalToken}});var s=n("I++M");Object.defineProperty(t,"isTokenProvider",{enumerable:!0,get:function(){return s.isTokenProvider}});var a=n("TvSv");Object.defineProperty(t,"isValueProvider",{enumerable:!0,get:function(){return a.isValueProvider}})},c0KM:function(e,t,n){"use strict";var r=n("jDHv"),i=n("TMLr"),o=n("kMf4"),s=n("6rD8"),a=n("7FSS"),c=n("XuBa"),u=n("75pU"),l=n.n(u),d=n("Rw5y"),f=n("5FGm");const p=n("mw/K"),h=n("oyvS");class y extends o.a{constructor(...e){super(...e),this.modules={size:0},this._computedMap=new Map,this._updateRequired=!0,this.get=l()((e=>{const t="object"==typeof e?JSON.stringify(e):e;if(this._computedMap.has(t))return this._computedMap.get(t);let n;const r=c.a.encrypt(t);return this.modules&&Object.prototype.hasOwnProperty.call(this.modules,r)?(n=this.modules[r],this._computedMap.set(t,n),n):(n=(null===(i=this.modules)||void 0===i?void 0:i.size)||0,n++,this.modules.size=n,this.modules[r]=n,this._computedMap.set(t,n),this._updateRequired=!0,n);var i}))}async init(){this.status=s.a.Init,await this.getLogDir(f.b),await this.loadData(),this.status=s.a.Idle}async flush(){if(this.status===s.a.Idle&&this._updateRequired){this.status=s.a.Busy;try{await this.writeDataAt(this.moduleName,JSON.stringify(this.modules),{startOffset:0,overwrite:!0}),this._updateRequired=!1}catch(e){a.a.error("failed to record module data",e)}this.status=s.a.Idle}}getPath(){return h.join(this.dir,this.zlogFilename)}async loadData(){try{let e;{const t=h.join(this.dir,this.moduleName);e=await d.a({fs:p,path:h},t)}const t=JSON.parse(e.toString());this.modules=t||{size:0}}catch{this.modules={size:0}}}}r.ModuleContainer.registerSingleton(i.a,y)},cFgT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=5e3;function o(e,t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.info(`[Offline]: ${e}`,t)}t.MIN_DELAY=100,t.START_DELAY=i,t.makeOfflineTransport=function(e){return t=>{const n=e(t),s=t.createStore?t.createStore(t):void 0;let a,c=i;function u(e){s&&(a&&clearTimeout(a),a=setTimeout((async()=>{a=void 0;const e=await s.pop();e&&(o("Attempting to send previously queued event"),d(e).catch((e=>{o("Failed to retry sending",e)})))}),e),"number"!=typeof a&&a.unref&&a.unref())}function l(){a||(u(c),c=Math.min(2*c,36e5))}async function d(e){try{const t=await n.send(e);let o=100;if(t)if(t.headers&&t.headers["retry-after"])o=r.parseRetryAfterHeader(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return u(o),c=i,t}catch(a){if(s&&await function(e,n,i){return!r.envelopeContainsItemType(e,["replay_event","replay_recording","client_report"])&&(!t.shouldStore||t.shouldStore(e,n,i))}(e,a,c))return await s.insert(e),l(),o("Error sending. Event queued",a),{};throw a}}return t.flushAtStartup&&l(),{send:d,flush:e=>n.flush(e)}}}},cIbA:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback;e.exports={copy:r(n("Qpln"))}},cZjg:function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("5l/R"),s=n("Y41u"),a=n("K8kB"),c=n("W8fB"),u=n("HD3z");let l=Object(i.injectable)()(r=function(e,t){return Object(i.inject)(a.a)(e,void 0,0)}(r=function(e,t){return Object(i.inject)(c.c)(e,void 0,1)}(r=function(e,t){return Object(i.inject)(c.b)(e,void 0,2)}(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===a.a?Object:a.a,void 0===c.c?Object:c.c,void 0===c.b?Object:c.b])(r=class{constructor(e,t,n){this._writeScheduler=e,this.zlogWriter=t,this.senWriter=n,this._handleFlushRequest=()=>{this.zlogWriter.flush()},this._handleWriterStatus=e=>{}}setupWriters(){u.a||(this.zlogWriter.init(),this._writeScheduler.start(),this._listenEvents())}_listenEvents(){this._writeScheduler.addEventListener(s.d.WriteSchedulerRequestFlush,this._handleFlushRequest),this.zlogWriter.addEventListener(s.d.WriterStatus,this._handleWriterStatus)}})||r)||r)||r)||r)||r)||r;i.ModuleContainer.registerSingleton(o.a,l)},cZzy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("r+D/"),i=n("Vxli"),o=n("QS11");function s(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function a(e,t){return(t||new TextEncoder).encode(e)}const c={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};t.addItemToEnvelope=function(e,t){const[n,r]=e;return[n,[...r,t]]},t.createAttachmentEnvelopeItem=function(e,t){const n="string"==typeof e.data?a(e.data,t):e.data;return[o.dropUndefinedKeys({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]},t.createEnvelope=function(e,t=[]){return[e,t]},t.createEventEnvelopeHeaders=function(e,t,n,i){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:r.dsnToString(i)},...s&&{trace:o.dropUndefinedKeys({...s})}}},t.envelopeContainsItemType=function(e,t){return s(e,((e,n)=>t.includes(n)))},t.envelopeItemTypeToDataCategory=function(e){return c[e]},t.forEachEnvelopeItem=s,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}},t.parseEnvelope=function(e,t,n){let r="string"==typeof e?t.encode(e):e;function i(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function o(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(i(e)))}const s=o(),a=[];for(;r.length;){const e=o(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?i(t):o()])}return[s,a]},t.serializeEnvelope=function(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(e){"string"==typeof o?o="string"==typeof e?o+e:[a(o,t),e]:o.push("string"==typeof e?a(e,t):e)}for(const a of r){const[e,t]=a;if(s(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)s(t);else{let e;try{e=JSON.stringify(t)}catch(c){e=JSON.stringify(i.normalize(t))}s(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}(o)}},cv67:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],p=e[t+2],h=e[t+3],y=e[t+4],m=e[t+5],g=e[t+6],_=e[t+7],v=e[t+8],b=e[t+9],w=e[t+10],E=e[t+11],S=e[t+12],T=e[t+13],I=e[t+14],O=e[t+15],C=o[0],P=o[1],A=o[2],k=o[3];C=u(C,P,A,k,s,7,a[0]),k=u(k,C,P,A,c,12,a[1]),A=u(A,k,C,P,p,17,a[2]),P=u(P,A,k,C,h,22,a[3]),C=u(C,P,A,k,y,7,a[4]),k=u(k,C,P,A,m,12,a[5]),A=u(A,k,C,P,g,17,a[6]),P=u(P,A,k,C,_,22,a[7]),C=u(C,P,A,k,v,7,a[8]),k=u(k,C,P,A,b,12,a[9]),A=u(A,k,C,P,w,17,a[10]),P=u(P,A,k,C,E,22,a[11]),C=u(C,P,A,k,S,7,a[12]),k=u(k,C,P,A,T,12,a[13]),A=u(A,k,C,P,I,17,a[14]),C=l(C,P=u(P,A,k,C,O,22,a[15]),A,k,c,5,a[16]),k=l(k,C,P,A,g,9,a[17]),A=l(A,k,C,P,E,14,a[18]),P=l(P,A,k,C,s,20,a[19]),C=l(C,P,A,k,m,5,a[20]),k=l(k,C,P,A,w,9,a[21]),A=l(A,k,C,P,O,14,a[22]),P=l(P,A,k,C,y,20,a[23]),C=l(C,P,A,k,b,5,a[24]),k=l(k,C,P,A,I,9,a[25]),A=l(A,k,C,P,h,14,a[26]),P=l(P,A,k,C,v,20,a[27]),C=l(C,P,A,k,T,5,a[28]),k=l(k,C,P,A,p,9,a[29]),A=l(A,k,C,P,_,14,a[30]),C=d(C,P=l(P,A,k,C,S,20,a[31]),A,k,m,4,a[32]),k=d(k,C,P,A,v,11,a[33]),A=d(A,k,C,P,E,16,a[34]),P=d(P,A,k,C,I,23,a[35]),C=d(C,P,A,k,c,4,a[36]),k=d(k,C,P,A,y,11,a[37]),A=d(A,k,C,P,_,16,a[38]),P=d(P,A,k,C,w,23,a[39]),C=d(C,P,A,k,T,4,a[40]),k=d(k,C,P,A,s,11,a[41]),A=d(A,k,C,P,h,16,a[42]),P=d(P,A,k,C,g,23,a[43]),C=d(C,P,A,k,b,4,a[44]),k=d(k,C,P,A,S,11,a[45]),A=d(A,k,C,P,O,16,a[46]),C=f(C,P=d(P,A,k,C,p,23,a[47]),A,k,s,6,a[48]),k=f(k,C,P,A,_,10,a[49]),A=f(A,k,C,P,I,15,a[50]),P=f(P,A,k,C,m,21,a[51]),C=f(C,P,A,k,S,6,a[52]),k=f(k,C,P,A,h,10,a[53]),A=f(A,k,C,P,w,15,a[54]),P=f(P,A,k,C,c,21,a[55]),C=f(C,P,A,k,v,6,a[56]),k=f(k,C,P,A,O,10,a[57]),A=f(A,k,C,P,g,15,a[58]),P=f(P,A,k,C,T,21,a[59]),C=f(C,P,A,k,y,6,a[60]),k=f(k,C,P,A,E,10,a[61]),A=f(A,k,C,P,p,15,a[62]),P=f(P,A,k,C,b,21,a[63]),o[0]=o[0]+C|0,o[1]=o[1]+P|0,o[2]=o[2]+A|0,o[3]=o[3]+k|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},d04y:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv");const c=new s.d({tableName:"actionlog",name:"Actionlog",fields:{type:i.h.string},indices:{},isNonFieldlikeEntity:!0}),u={Qoslogv2:new s.d({tableName:"qoslogv2",name:"Qoslogv2",fields:{record:{name:"record",type:i.h.string},ts:{name:"ts",type:i.h.integer},cmdId:{name:"cmdId",type:i.h.string},type:{name:"type",type:i.h.string},requestId:{name:"requestId",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"ts"},{type:"raw",field:"cmdId"},{type:"raw",field:"type"}],unique:!0},ts:{name:"ts",fields:[{type:"raw",field:"ts"}],unique:!1}}}),Actionlog:c},l={name:"Qos",session:!1},d={partitionNamingStrategy:[o.a.const("Qos")],partitionsMap:Object(a.a)(u)},f={partitionNamingStrategy:[o.a.const("zdb_qos")],partitionsMap:Object(a.a)(u)},p=Object(r.a)(Object(r.a)(Object(r.a)({},l),d),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_PARTIAL}),h=Object(r.a)(Object(r.a)(Object(r.a)({},l),f),{},{version:3,milestoneVersion:3,type:i.a.IDB});let y=null,m=null;t.a={baseConfig:l,schema:u,get useSqlite(){return null===y&&(y=new s.a(p)),y},get useIdb(){return null===m&&(m=new s.a(h)),m}}},db6u:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+70+"),i=n("sJ5P");t.TRACEPARENT_REGEXP=i.TRACEPARENT_REGEXP,t.extractTraceparentData=i.extractTraceparentData,t.stripUrlQueryAndFragment=i.stripUrlQueryAndFragment,t.getActiveTransaction=function(e){return(e||r.getCurrentHub()).getScope().getTransaction()}},dnEP:function(e,t,n){"use strict";var r=n("nu5z")();e.exports=function(e){return"string"==typeof e?e.replace(r,""):e}},dt0z:function(e,t,n){var r=n("zoYe");e.exports=function(e){return null==e?"":r(e)}},dtjM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("Mgpg"),i=n("jDHv"),o=n("AH6j");n("nnli");class s extends o.b{constructor(){super(),this.logger=void 0;const e=i.ModuleContainer.resolve(r.ZLoggerFactory);this.logger=e.createZLogger("zmsg-channel",["manager",__ZaBUNDLENAME__])}}const a=Object(i.define)("z-message-channel-manager")},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),o=n("JHgL"),s=n("pSRY"),a=n("H8j4");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},e7zE:function(e,t,n){var r,i,o,s,a,c,u,l,d;e.exports=(d=n("Ib8C"),n("3y9D"),n("WYAk"),i=(r=d).lib,o=i.Base,s=i.WordArray,a=r.algo,c=a.SHA1,u=a.HMAC,l=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=u.create(n.hasher,e),i=s.create(),o=s.create([1]),a=i.words,c=o.words,l=n.keySize,d=n.iterations;a.length<l;){var f=r.update(t).finalize(o);r.reset();for(var p=f.words,h=p.length,y=f,m=1;m<d;m++){y=r.finalize(y),r.reset();for(var g=y.words,_=0;_<h;_++)p[_]^=g[_]}i.concat(f),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},d.PBKDF2)},eBEg:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("UJDs");const i="z",o=["info","warn","debug","error","critical"],s=["","F","C","T","FT","CT"];function a(){let e=0;const t={},n={};return o.forEach((r=>{s.forEach((o=>{""===o?(t[e]=`${i}${r}A`,n[`${i}${r}A`]=e,e+=1):"T"===o?(t[e]=`${i}${r}AT`,n[`${i}${r}AT`]=e,e+=1):(t[e]=`${i}${r}${o}`,n[`${i}${r}${o}`]=e,e+=1)}))})),{EnumeratedLevels:t,ReversedEnumeratedLevels:n}}Object.freeze(s),Object.freeze(o);const c=a().EnumeratedLevels,u=a().ReversedEnumeratedLevels;Object.freeze(c),Object.freeze(u);var l=n("jDHv"),d=n("jGDt"),f=n("KRcn");const p={[r.b.info]:!0,[r.b.warn]:!0,[r.b.error]:!0,[r.b.critical]:!0,[r.b.debug]:!1};var h=n("Wc52");class y{constructor(e,t){this.tags=e,this.transporters=t,this.enabled=!0,this.Sentry=null,this.tempOffConfig={toConsole:!1,toFile:!1,toSentry:!1},this.zsentry=(...e)=>{this.Sentry&&this.Sentry.captureException(new Error(e.join(" ")))},this.zfatal=(...e)=>{},this.zcritical=(...e)=>{},this.zsymb=(e,t,...n)=>{if(!this.enabled)return;const r=c[e];let i=[];if(r.endsWith("T")&&(null==n?void 0:n.length)>0&&(i=n.shift()),r.includes("zcritical"))return void(this.Sentry&&this.Sentry.captureException(new Error(n.join(" "))));const o=this._getLevel(r);let s="None";r.endsWith("A")||r.endsWith("AT")?s="ConsoleFile":r.endsWith("C")||r.endsWith("CT")?s="toConsole":(r.endsWith("F")||r.endsWith("FT"))&&(s="toFile"),"None"!==s&&this._applyFilter({metadata:{tick:Date.now(),level:o,ln:t,template:i,targetTransporter:s,tags:this.tags},args:n})},this._applyFilter=e=>{if(!p[e.metadata.level])return;let t=e.metadata.targetTransporter;const n=l.ModuleContainer.resolve(d.a),r=Object(f.a)(),i=!!this.transporters.consoleTransporter&&h.a[r].toConsole&&n.isEnabledConsole(),o=!!this.transporters.fileTransporter&&h.a[r].toFile;"ConsoleFile"===t&&(i||(t="toFile"),o||(t="None")),"toConsole"!==t||i||(t="None"),"toFile"!==t||o||(t="None"),"None"!==t&&(e.metadata.targetTransporter=t,this._transport(e))},this._transport=e=>{const t=e.metadata.targetTransporter;var n,r;"toConsole"!==t&&"ConsoleFile"!==t||(null===(n=this.transporters.consoleTransporter)||void 0===n||n.transport(e));"toFile"!==t&&"ConsoleFile"!==t||(null===(r=this.transporters.fileTransporter)||void 0===r||r.transport(e))},this._getLevel=e=>{let t=e;e.endsWith("A")?t=e.replace("A",""):e.endsWith("AT")?t=e.replace("AT",""):e.endsWith("C")?t=e.replace("C",""):e.endsWith("CT")?t=e.replace("CT",""):e.endsWith("F")?t=e.replace("F",""):e.endsWith("FT")&&(t=e.replace("FT",""));let n=r.b.info;switch(t){case"zinfo":n=r.b.info;break;case"zwarn":n=r.b.warn;break;case"zerror":n=r.b.error;break;case"zdebug":n=r.b.debug}return n},this.zinfo=(...e)=>{zconsole.debug("[ZLL-ALERT]: zinfo is not recognized. Function cannot be used directly")},this.zinfoC=(...e)=>{zconsole.debug("[ZLL-ALERT]: zinfoC is not recognized. Function cannot be used directly")},this.zinfoF=(...e)=>{zconsole.debug("[ZLL-ALERT]: zinfoF is not recognized. Function cannot be used directly")},this.zwarn=(...e)=>{zconsole.debug("[ZLL-ALERT]: zwarn is not recognized. Function cannot be used directly")},this.zwarnC=(...e)=>{zconsole.debug("[ZLL-ALERT]: zwarnC is not recognized. Function cannot be used directly")},this.zwarnF=(...e)=>{zconsole.debug("[ZLL-ALERT]: zwarnF is not recognized. Function cannot be used directly")},this.zerror=(...e)=>{zconsole.debug("[ZLL-ALERT]: zerror is not recognized. Function cannot be used directly")},this.zerrorC=(...e)=>{zconsole.debug("[ZLL-ALERT]: zerrorC is not recognized. Function cannot be used directly")},this.zerrorF=(...e)=>{zconsole.debug("[ZLL-ALERT]: zerrorF is not recognized. Function cannot be used directly")},this.zdebug=(...e)=>{zconsole.debug("[ZLL-ALERT]: zdebug is not recognized. Function cannot be used directly")},this.zdebugC=(...e)=>{zconsole.debug("[ZLL-ALERT]: zdebugC is not recognized. Function cannot be used directly")},this.zdebugF=(...e)=>{zconsole.debug("[ZLL-ALERT]: zdebugF is not recognized. Function cannot be used directly")},this.Sentry=n("Bkv4")}disableFile(){this.tempOffConfig.toFile=!0}enableFile(){this.tempOffConfig.toFile=!1}disableConsole(){this.tempOffConfig.toConsole=!0}enableConsole(){this.tempOffConfig.toConsole=!1}static create(e,t){return new this(e,t)}pause(){this.enabled=!0}resume(){this.enabled=!1}}},eCJT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+70+");t.hasTracingEnabled=function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=r.getCurrentHub().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},ePA9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("/Id2"),i=n("lL4J");t.makePromiseBuffer=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return i.rejectedSyncPromise(new r.SentryError("Not adding Promise because buffer limit was reached."));const s=o();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new i.SyncPromise(((n,r)=>{let o=t.length;if(!o)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{i.resolvedSyncPromise(e).then((()=>{--o||(clearTimeout(s),n(!0))}),r)}))}))}}}},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},eVLP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("physical-meta-writer")},ebA4:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return _}));var r=n("VTBJ"),i=n("UJDs"),o=n("j6JD"),s=n("CDcE"),a=n("fsQs"),c=n("XuBa"),u=(n("7FSS"),n("Lrq5")),l=n("6xEa"),d=n.n(l);const f=new TextEncoder;function p(e,t={}){const{noTruncate:n=!1,noCompress:i=!1}=t;if(Object(s.c)(e)){0;let t=p(e.asset,{noTruncate:!0});return"string"!=typeof t&&(t=JSON.stringify(t)),Object(r.a)(Object(r.a)({},e),{},{asset:c.a.encrypt(t)})}if(Object(s.b)(e))return p(e.asset,{noTruncate:!0,noCompress:!1});let o=e;if(u.b(o))try{o=e()}catch(l){o="[Function]"}return u.e(o)&&(o=JSON.stringify(o,Object(s.a)())),u.f(o)&&(o=o.replace(/\r\n|\n|\t|\r/g,""),n||(o=o.slice(0,a.MAX_LITERAL_STRING_LENGTH)),i||(o=d.a.compressToBase64(o))),o}function h(e,t,n){const r=new DataView(n);for(let i=0;i<n.byteLength;i++)e.setUint8(t+i,r.getUint8(i));return t+n.byteLength}function y({metadata:e,args:t},n){const r=Object(o.a)(e.tick),s=e.tags.filter((e=>!!e)).join("|"),c=function(e,t){let n=t.map((e=>p(e,{noCompress:!0})));if(1===n.length&&1===t.length&&"function"==typeof t[0]&&Array.isArray(n[0])&&(n=[...n[0]]),!e)return n.join(" ");let r=e;const i=[];return n.forEach((e=>{-1!==r.search("{}")?r=r.replace("{}",e):i.push(e)})),r.concat(" ").concat(i.join(" "))}(e.template.length>0?e.template[0]:null,t),u="["+e.ln+"]",l=[`${r}`,i.a[e.level].toUpperCase(),s,c,u].join("\t");let d=f.encode(l.concat("\n"));return d.byteLength>a.FILE_CONFIG.line_hard_lim&&(d=f.encode(l.slice(0,a.FILE_CONFIG.line_hard_lim)+"[BIG OBJECT]\n")),d}function m(e){const t=new ArrayBuffer(8),n=new DataView(t),r=4294967295,i=~~(e/r),o=e%r-i;return n.setUint32(0,i),n.setUint32(4,o),t}function g(e){if(e.byteLength<8)throw"INVALID BIGUINT BUFFER. MUST BE AN 8-BYTE BUFFER";const t=new DataView(e),n=t.getUint32(0);return 4294967295*n+n+t.getUint32(4)}function _(e,t){return new DataView(e).getUint16(t)}},ebwN:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Map");e.exports=r},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},ez9R:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-bin-encoder")},ezdo:function(e,t,n){"use strict";var r,i,o=n("jDHv"),s=n("HPcM"),a=n("Y58e"),c=n("AH6j"),u=n("fsQs"),l=n("Y41u"),d=n("UJDs"),f=n("jGDt"),p=n("7FSS");const h=null===(r=n("89t2"))||void 0===r?void 0:r.performance;let y=Object(o.injectable)()(i=function(e,t){return Object(o.inject)(f.a)(e,void 0,0)}(i=Reflect.metadata("design:type",Function)(i=Reflect.metadata("design:paramtypes",[void 0===f.a?Object:f.a])(i=class extends c.b{constructor(e){super(),this._session=e,this._data=[],this._lastPing=0,this._isSessionLineReady=!1,this.add=e=>{this._data.length<5e4&&this._data.push(e),h.now()-this._lastPing>=u.SCHEDULER_CHECK_INTERVAL&&(this._lastPing=h.now(),this._broadcastEvent(l.d.LogBucketRequestFlush)),this._data.length>5e4&&p.a.error(`[ZLL]: bucket size high: ${this._data.length}`)},this.getElectronApi=()=>{let e=null;try{var t;e=null===(t=n("NLsH"))||void 0===t?void 0:t.app}catch(r){}return e},this._broadcastEvent=(e,t)=>{switch(e){case l.d.LogBucketRequestFlush:case l.d.RegLogBucketStatus:this.dispatchEvent(new l.c(e,t))}},this.recordSession()}get(e=u.MAX_LOGS_PER_FLUSH){return this._isSessionLineReady||p.a.error("[ZLL]: session line not ready. get() returns 0 untils it is ready"),this._isSessionLineReady?this._data.slice(0,e):[]}removeFirst(e=1){this._data.splice(0,e)}getAll(){return this._isSessionLineReady?this._data:[]}size(){return this._data.length}async recordSession(){const e=this._session.getSession();let t="";var n;if(t=null===(n=o.ModuleContainer.resolve(a.a))||void 0===n?void 0:n.get("about_version"),!t){const e=this.getElectronApi();e&&(t=e.getVersion())}const r=`zlgvers:${e.zlgv} ps:${e.process} build:${e.env}-${e.buildType} pversion:${e.pversion} avers:${t} bhash:${e.build}`,i={metadata:{tags:["Session".toUpperCase()],level:d.b.info,tick:this._session.getProcessStartTime(),ln:0,targetTransporter:"toFile",template:[]},args:[r]};this._data.unshift(i),this._isSessionLineReady=!0}})||i)||i)||i)||i;var m;o.ModuleContainer.registerSingleton(s.a,y);let g=Object(o.injectable)()(m=class extends c.b{constructor(...e){super(...e),this._data=[]}removeFirst(e=1){this._data.splice(0,e)}add(e){this._data.push(e),this._broadcastEvent(l.d.LogBucketRequestFlush)}get(e){const t=this._data.slice(0,e);return this._data=this._data.slice(e),t}getAll(){return this._data}size(){return this._data.length}_broadcastEvent(e,t){switch(e){case l.d.LogBucketRequestFlush:case l.d.SentryLogBucketStatus:this.dispatchEvent(new l.c(e,t))}}})||m;o.ModuleContainer.registerSingleton(s.b,g);const _=Object(o.define)("zsentry-log-trans"),v=Object(o.define)("zfile-log-trans"),b=Object(o.define)("zconsole-log-trans");var w,E,S,T=n("W8fB"),I=n("HD3z"),O=n("/n5c");let C=Object(o.injectable)()(w=function(e,t){return Object(o.inject)(s.b)(e,void 0,0)}(w=Reflect.metadata("design:type",Function)(w=Reflect.metadata("design:paramtypes",[void 0===s.b?Object:s.b])(w=class{constructor(e){this.sentryBucket=e}transport(e){throw new Error("Method not implemented.")}})||w)||w)||w)||w,P=Object(o.injectable)()(E=function(e,t){return Object(o.inject)(s.a)(e,void 0,0)}(E=Reflect.metadata("design:type",Function)(E=Reflect.metadata("design:paramtypes",[void 0===s.a?Object:s.a])(E=class{constructor(e){this.regularBucket=e}transport(e){I.a?o.ModuleContainer.resolve(O.ZLogFileWriter).write(e):this.regularBucket.add(e)}})||E)||E)||E)||E,A=Object(o.injectable)()(S=class{transport(e){o.ModuleContainer.resolve(T.a).write(e)}})||S;o.ModuleContainer.registerSingleton(v,P),o.ModuleContainer.registerSingleton(_,C),o.ModuleContainer.registerSingleton(b,A);var k,j=n("XB6V"),D=n("eBEg"),R=n("h0S/");let x=Object(o.injectable)()(k=function(e,t){return Object(o.inject)(v)(e,void 0,0)}(k=function(e,t){return Object(o.inject)(_)(e,void 0,1)}(k=function(e,t){return Object(o.inject)(b)(e,void 0,2)}(k=Reflect.metadata("design:type",Function)(k=Reflect.metadata("design:paramtypes",[void 0===v?Object:v,void 0===_?Object:_,void 0===b?Object:b])(k=class{constructor(e,t,n){this.fileTransporter=e,this.sentryTransporter=t,this.consoleTransporter=n}createZLogger(e,t=[]){const n=[];"string"==typeof e?n.push(e):Array.isArray(e)&&n.push(...e),n.push(...t);return D.a.create(n,{fileTransporter:this.fileTransporter,consoleTransporter:this.consoleTransporter,sentryTransporter:this.sentryTransporter})}createZLoggerStaging(e,t=[]){return t.push(R.ZLoggerNametags.staging),this.createZLogger(e,t)}})||k)||k)||k)||k)||k)||k;o.ModuleContainer.register(j.a,x);var N=n("yBqK"),M=n("ebA4");class L{constructor(){this._TextEncoder=new TextEncoder}encodeUi8(e,t,n){return e.setUint8(t,n),t+u.DTYPE_SIZE.ui8}encodeUi16(e,t,n){return e.setUint16(t,n),t+u.DTYPE_SIZE.ui16}encodeUi32(e,t,n){return e.setUint32(t,n),t+u.DTYPE_SIZE.ui32}encodeFloat32(e,t,n){return e.setFloat32(t,n),t+u.DTYPE_SIZE.float32}encodeFloat64(e,t,n){return e.setFloat64(t,n),t+u.DTYPE_SIZE.float64}encodeBigInt64(e,t,n){const r=Object(M.c)(n),i=new Uint8Array(r);for(let o=0;o<i.byteLength;o++)t=this.encodeUi8(e,t,i[o]);return t}encodeTotalSize(e,t,n){return this.encodeUi16(e,t,n)}encodeTotalSizeEnd(e,t){return this.encodeUi16(e,t,t+u.DTYPE_SIZE.ui16)}encodeTick(e,t,n){const r=Object(M.c)(n),i=new Uint8Array(r);return this.copyCache(e,t,i)}encodeVers(e,t,n){if(n>32767)throw new Error("[BinEncoder] error: encoding verion is TOO BIG!");return this.encodeUi16(e,t,n)}encodeEncoderVers(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding level is TOO BIG!");return this.encodeUi8(e,t,n)}encodeLevel(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding level is TOO BIG!");return this.encodeUi8(e,t,n)}encodeHeaderNum(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding numOfHeader is TOO BIG!");return this.encodeUi8(e,t,n)}encodeStringOnly(e,t,n){const r=this._TextEncoder.encode(n),i=r.byteLength;return t=this.encodeUi8(e,t,i),this.copyCache(e,t,r)}copyCache(e,t,n){for(let r=0;r<n.byteLength;r++)t=this.encodeUi8(e,t,n[r]);return t}}var B,F=n("6xEa"),U=n.n(F),z=n("Lrq5");let q=Object(o.injectable)()(B=Reflect.metadata("design:type",Function)(B=Reflect.metadata("design:paramtypes",[])(B=class extends L{constructor(){super(),this.MemoryLogBatch=void 0,this.dv=void 0,this._lastOffset=0,this._lastTs=0,this.encodeTags=e=>U.a.compress(e.join(".")),this.encodePayload=(e,t,n)=>{const{ln:r,tags:i,template:o,args:s}=n,a=[],c=this.encodeTags(i),l=o||"";let d=e+4+c.length+l.length;for(let h of s){const e=Object(M.f)(h);if(z.d(e)&&(d+=u.DTYPE_SIZE.ubig64),z.f(e)&&(d+=u.DTYPE_SIZE.ui16*e.length),(z.a(e)||z.g(e)||z.c(e))&&(d+=u.DTYPE_SIZE.ui8),d>u.FILE_CONFIG.line_malloc)break;a.push(e)}const f={$1:r,$2:c,$3:a,$4:l};a.length||delete f.$3,l.length||delete f.$4;const p=N.encode(f);return this.copyCache(t,e,p)},this.MemoryLogBatch=new ArrayBuffer(u.FILE_CONFIG.mem_batch_lim),this.dv=new DataView(this.MemoryLogBatch)}getLastBuffer(){return this.MemoryLogBatch.slice(0,this._lastOffset)}encode(e){try{var t;const{metadata:n,args:r}=e;let i=0;i+=u.DTYPE_SIZE.ui16;let o=n.tick;o<=this._lastTs&&(o=this._lastTs+1),this._lastTs=o,i=this.encodeTick(this.dv,i,o),i=this.encodeEncoderVers(this.dv,i,u.ZLOG_ENCODE_VERSION),i=this.encodeLevel(this.dv,i,n.level),i=this.encodeStringOnly(this.dv,i,"OTuxmB23"),i=this.encodePayload(i,this.dv,{ln:n.ln,tags:n.tags,template:null==n||null===(t=n.template)||void 0===t?void 0:t[1],args:r});const s=i+u.DTYPE_SIZE.ui16;return this.encodeTotalSize(this.dv,0,s),i=this.encodeTotalSize(this.dv,i,s),this._lastOffset=i,this.MemoryLogBatch.slice(0,s)}catch(n){throw p.a.error("BinEncoderImpl.encode error:",n),new Error("BinEncoderImpl.encode error")}}})||B)||B)||B;var G=n("ez9R");o.ModuleContainer.registerSingleton(G.a,q);var $=n("K8kB");var H,Q=class{constructor(e=[],t=!0){this.tasks=e,this.alive=t}do(...e){return this.add(...e)}add(...e){return this.tasks=this.tasks.concat(e),this}once(e=!1){return this.alive=!1,e&&(async e=>this.async())()||this.sync(),this}every(e){return this.add((()=>new Promise((t=>setTimeout(t,e))))),this.forever(!0)}forever(e=!1){return this.alive=!0,e&&(async e=>this.async())()||this.sync(),this}cancel(){return this.alive=!1,this}async async(){for(let e of this.tasks)await e();this.alive&&this.async()}sync(){for(let e of this.tasks)e();this.alive&&this.sync()}},K=n("PLj1"),Y=n("KRcn");let V=Object(o.injectable)()(H=function(e,t){return Object(o.inject)(s.a)(e,void 0,0)}(H=Reflect.metadata("design:type",Function)(H=Reflect.metadata("design:paramtypes",[void 0===s.a?Object:s.a])(H=class extends c.b{constructor(e){super(),this.bucket=e,this.task=void 0,this.start=()=>{var e;if(null!==(e=this.task)&&void 0!==e&&e.alive)return;this.task||(this.task=new Q);const t=K.c[Object(Y.a)()]||u.FLUSH_INTERVAL;this.task.add((()=>this._broadcastEvent(l.d.WriteSchedulerRequestFlush))).every(t),this._listenEvents()},this.stop=()=>{this.task&&this.task.cancel(),this.task=void 0},this._listenEvents=()=>{this.bucket.addEventListener(l.d.LogBucketRequestFlush,this._handleFlushRequestFromBucket)},this._handleFlushRequestFromBucket=()=>{var e;this.task&&this.task.alive||(u.SHOW_LOGGER_LOGS&&p.a.log("Oopsie! Scheduler is somehow not running. Restarting..."),null===(e=this.task)||void 0===e||e.cancel(),this.task=void 0,this.start())}}_broadcastEvent(e){if(e===l.d.WriteSchedulerRequestFlush)this.dispatchEvent(new l.a(e))}})||H)||H)||H)||H;o.ModuleContainer.registerSingleton($.a,V)},f3lG:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("DadK"),o=n("oyvS"),s=n("zyBB"),a=n("xQB0").pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,((o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,(o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);s.mkdirsSync(n),i.writeFileSync(e,...t)}}},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),o=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},fPcq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("uS0h"),o=n("rCOr");const s=BigInt(-1),a=BigInt(1);function c(e,t){const n=t.value,r="bigint"==typeof n?n*s-a:-1*n-1;i.encodeUintValue(e,t.type.majorEncoded,r)}c.encodedSize=function(e){const t=e.value,n="bigint"==typeof t?t*s-a:-1*t-1;return n<i.uintBoundaries[0]?1:n<i.uintBoundaries[1]?2:n<i.uintBoundaries[2]?3:n<i.uintBoundaries[3]?5:9},c.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},t.decodeNegint16=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint16(e,t+1,o),3)},t.decodeNegint32=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint32(e,t+1,o),5)},t.decodeNegint64=function(e,t,n,a){const c=i.readUint64(e,t+1,a);if("bigint"!=typeof c){const e=-1-c;if(e>=Number.MIN_SAFE_INTEGER)return new r.Token(r.Type.negint,e,9)}if(!0!==a.allowBigInt)throw new Error(`${o.decodeErrPrefix} integers outside of the safe integer range are not supported`);return new r.Token(r.Type.negint,s-BigInt(c),9)},t.decodeNegint8=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint8(e,t+1,o),2)},t.encodeNegint=c},fUQU:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.memoBuilder=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}},"fYZ/":function(e,t,n){"use strict";var r=n("nu5z"),i=new RegExp(r().source);e.exports=i.test.bind(i)},"fc/q":function(e,t,n){"use strict";n.r(t),n.d(t,"QoS",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("qos")},fsN4:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("jDHv"),i=n("+ExH"),o=n("1UUk");class s{static getInstance(){if(!this.instance){const e=r.ModuleContainer.resolve(o.b);this.instance=e.createQueryBuilder(i.a)}return this.instance}}s.instance=null},fsQs:function(e,t,n){"use strict";n.r(t),n.d(t,"KB",(function(){return r})),n.d(t,"MB",(function(){return i})),n.d(t,"GB",(function(){return o})),n.d(t,"FLUSH_INTERVAL_FAST",(function(){return s})),n.d(t,"FLUSH_INTERVAL_WEB",(function(){return a})),n.d(t,"FLUSH_INTERVAL",(function(){return c})),n.d(t,"MAX_LOGS_PER_FLUSH",(function(){return u})),n.d(t,"MAX_LOGS_PER_FLUSH_WEB",(function(){return l})),n.d(t,"SCHEDULER_CHECK_INTERVAL",(function(){return d})),n.d(t,"ZLOG_ENCODE_VERSION",(function(){return f})),n.d(t,"HEADER_SIZE",(function(){return p})),n.d(t,"AUTO_ROLL_META_SIZE",(function(){return h})),n.d(t,"AUTO_ROLL_META_SIZE_WEB",(function(){return y})),n.d(t,"SESSION_IDS",(function(){return m})),n.d(t,"PHYSICAL_FILE_CONFIG",(function(){return g})),n.d(t,"VIRTUAL_FILE_CONFIG",(function(){return _})),n.d(t,"FILE_CONFIG",(function(){return v})),n.d(t,"DTYPE_SIZE",(function(){return b})),n.d(t,"EncodeStatus",(function(){return w})),n.d(t,"SizeLimitExceededError",(function(){return E})),n.d(t,"SHOW_LOGGER_LOGS",(function(){return S})),n.d(t,"MAX_LITERAL_STRING_LENGTH",(function(){return T})),n.d(t,"MAX_BATCH_BYTELENGTH",(function(){return I})),n.d(t,"MAX_BATCH_SIZE",(function(){return O})),n.d(t,"UNIT_SEPARATOR",(function(){return C})),n.d(t,"FLUSH_FAIL_RETY",(function(){return P})),n.d(t,"ZLOGGER_DEBUG_MODE",(function(){return A})),n.d(t,"UNLOAD_ZLOG_CHANNEL",(function(){return k}));const r=1024,i=r*r,o=r*r*r,s=1e3,a=2e3,c=5e3,u=1e5,l=1e3,d=3e5,f=62,p=30,h=1e3,y=100,m={SESSION_MAX:32767,SESSION_LINE_MAX:4294967295},g={line_malloc:10*r,mem_batch_lim:500*r,line_hard_lim:p+50*r,line_soft_lim:p+4*r,file_lim:10*i,page_limit:10*i},_={line_malloc:10*r,mem_batch_lim:150*r,line_hard_lim:p+50*r,line_soft_lim:p+4*r,file_lim:5*i,page_limit:250*r},v=g,b={i8:1,ui8:1,i16:2,ui16:2,i32:4,ui32:4,float32:4,float64:4,big64:8,ubig64:8};let w=function(e){return e[e.OK=0]="OK",e[e.ENCODE_LATER=1]="ENCODE_LATER",e[e.REWIND=2]="REWIND",e[e.OVERSIZE_NEXTPAGE=3]="OVERSIZE_NEXTPAGE",e}({}),E=function(e){return e.TRUNCATED_ALL="SLEE0",e.ENCODE_BUFF_HARD_LIMIT="SLEE1",e.ENCODE_BUFF_SOFT_LIMIT="SLEE2",e.MAX_LOGSIZE="SLEE3",e.LINE_LIMIT_SOFT="SLEE4",e.LINE_LIMIT_HARD="SLEE5",e.LIME_LIMIT_HARD_NOTRUNC="SLEE6",e}({});const S=!1,T=2048,I=2*i,O=300,C=[17,127],P={min:200,max:500,maxRetries:5},A=!1,k="unload-zlog"},"g+8e":function(e,t,n){"use strict";e.exports=Object.assign({},n("7C8f"),n("2lSo"),n("cIbA"),n("mrdr"),n("KjYM"),n("CT8L"),n("zyBB"),n("TulE"),n("CMMN"),n("f3lG"),n("xQB0"),n("tB16"));const r=n("mw/K");Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>r.promises})},"g+yy":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("rCOr"),o=n("uS0h"),s=n("pMzR"),a=n("PvD+");function c(e,t,n,o,s){const c=n+o;i.assertEnoughData(e,t,c);const u=new r.Token(r.Type.string,a.toString(e,t+n,t+c),c);return!0===s.retainStringBytes&&(u.byteValue=a.slice(e,t+n,t+c)),u}const u=s.encodeBytes;t.decodeString16=function(e,t,n,r){return c(e,t,3,o.readUint16(e,t+1,r),r)},t.decodeString32=function(e,t,n,r){return c(e,t,5,o.readUint32(e,t+1,r),r)},t.decodeString64=function(e,t,n,r){const s=o.readUint64(e,t+1,r);if("bigint"==typeof s)throw new Error(`${i.decodeErrPrefix} 64-bit integer string lengths not supported`);return c(e,t,9,s,r)},t.decodeString8=function(e,t,n,r){return c(e,t,2,o.readUint8(e,t+1,r),r)},t.decodeStringCompact=function(e,t,n,r){return c(e,t,1,n,r)},t.encodeString=u},g55F:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="SETUP/APP_PATH_MANAGER"},g74s:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(r||(r={})),t.default=r},gSyM:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("2/Sm"),o=n("Ns3O"),s={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},a=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class c extends i.SpanRecorder{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:r.timestampInSeconds(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class u extends o.Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=a[4]}constructor(e,t,n=s.idleTimeout,i=s.finalTimeout,o=s.heartbeatInterval,c=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=c,u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),u.prototype.__init5.call(this),u.prototype.__init6.call(this),c&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=a[3],this.finish())}),this._finalTimeout)}finish(e=r.timestampInSeconds()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new c(t,n,this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=a[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=a[1],this.finish(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=r.timestampInSeconds();this._idleTimeoutCanceledPermanently?(this._finishReason=a[5],this.finish(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=a[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}t.IdleTransaction=u,t.IdleTransactionSpanRecorder=c,t.TRACING_DEFAULTS=s},"gb/T":function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),n("OLod"),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},"h0S/":function(e,t,n){"use strict";n.r(t),n.d(t,"ZLoggerNametags",(function(){return r})),n.d(t,"ZLoggerNametagsMap",(function(){return i})),n.d(t,"ZLogNametagsWhitelist",(function(){return o}));let r=function(e){return e.moduleA="moduleA",e.featA="featA",e.featPhoto="photo",e.featPhotoLoadCache="photoLoadCache",e.featPhotoDomCache="photoDomCache",e.featPhotoReduxAction="photoReduxAction",e.staging="staging",e.onlyAdminChatSettings="only-admin-chat-setting",e.contactTabV2="contact-tab-v2",e.conversationSetting="conversation-setting",e.appStatus="app-status",e.focusDetectorManager="focus-detector-manager",e.focusStatus="focus-status",e.syncDownload="sync-download",e.entriesTransferManager="entries-transfer-manager",e.e2eeNotifyMissingMsg="e2ee-notify-missing-msg",e.widget="widget",e.group="group",e.activeDeactive="active-deactive",e.signalProtocolManager="signal-protocol-manager",e.resendManager="resend-manager",e.iidManager="iid-manager",e.signalStore="signal-protocol-store",e.conversation="conversation",e.groupPollManager="group-poll-manager",e.uiBannerController="ui-banner-controller",e.uiBannerQueue="ui-banner-queue",e.liteIDB="liteIDB",e.msgSync="msg-sync",e.cbiCommandController="cbi-command-controller",e.cbiAnimationController="cbi-animation-controller",e.cbiController="cbi-controller",e.auditCBIFlagCoordinator="audit-cbi-flag-coordinator",e.imageLoader="image-loader",e.wss="wss",e.download="download",e.downloadValidate="download-validate",e.downloadSingle="download-single",e.downloadStaging="download-staging",e.localstorage="localstorage",e.uiHelper="ui-helper",e.lllLogger="lll-logger",e.controller="controller",e.service="service",e.stateMachine="state-machine",e.convList="conv-list",e.e2ee="e2ee",e.metricz="metricz",e.unread="unread",e.pollV3="pollV3",e.blobHelper="blob-helper",e.imgNormalizer="img-normalizer",e.pinTopic="pin-topic",e.tracking="tracking",e.userActivation="user-activation",e.zinstant="zns",e.autoRetry="auto-retry",e.mediaStatus="media-status",e.popupPortal="popup-portal",e.popupPV="popup-pv",e.previewMsgTime="preview-msg-time",e.animation="animation",e.photoMessageUploader="photoMessageUploader",e.diskChecker="disk-checker",e.forwardMessage="forward-message",e.common="common",e.syncMetrics="sync-metrics",e.cbiCommandMode="cbi-command-mode",e.manageCBIAnimation="manage-cbi-animation",e.controllCbi="controll-cbi",e.coordinateAuditCBIFlag="coordinate-audit-cbi-flag",e.fallbackTracker="fallback-tracker",e.messageReadinessChecker="message-readiness-checker",e.eventCollectorMessageReadiness="event-collector-message-readiness",e.lsRoller="roller",e.web="web",e.parser="parser",e.linkParser="link-parser",e.parseLinkBuilder="parse-link-builder",e.mediaSizeParser="media-size-parser",e.uploadThumbPreview="upload-thumb-preview",e.imageLoad="image-load",e.zCloudKey="key",e.zCloudQueue="queue",e.zCloudDownloadMultiSrc="multi-src-download",e.zCloudFetchMultiSrc="multi-src-fetch",e.zCloudShareWeb="share-media-web",e.zCloudShareWebE2ee="share-media-web-e2ee",e.zCloud="zalo-cloud",e.zCloudQuotaTool="zCloudQuotaTool",e.zCloudOnboarding="zCloudOnboarding",e.zCloudStatusController="status-controller",e.zCloudStatusEventsResolver="status-events-resolver",e.zCloudStatusRepository="status-repository",e.zCloudKeyServices="key-services",e.zCloudStatusServices="status-services",e.zCloudMediaExtInfoServices="media-ext-info-services",e.zCloudVerifyQueueServices="verify-queue-services",e.zCloudModel="zcloud-model",e.zCloudPerf="zcloud-perf",e.zCloudUitls="zcloud-utils",e.zCloudMyCloud="mycloud",e.zCloudOffload="zcloud-offload",e.zCloudOffloadController="offload-controller",e.mediaDiskFetcher="mediaDiskFetcher",e.community="community",e.reportV2="reportV2",e.autoFetchMsgCloud="auto-fetch-msg-cloud",e.message="message",e.messageCloudSegment="message-cloud-segment",e.messageCloud="message-cloud",e.messageLocal="message-local",e.messageUI="message-ui",e.inAppPayment="inapp-payment",e.mediaBlobFetcher="media-blob-fetcher",e.streamJXLDecoder="stream-jxl-decoder",e.sqlDataMigration="sql-migrate",e.sqlCorruption="sql-corruption",e.cloudMedia="cloud-media",e}({});const i={[r.moduleA]:!0,[r.featA]:!0,[r.featPhoto]:!0,[r.featPhotoLoadCache]:!0,[r.featPhotoDomCache]:!0,[r.featPhotoReduxAction]:!0,[r.staging]:!0,[r.onlyAdminChatSettings]:!0,[r.contactTabV2]:!0,[r.conversationSetting]:!0,[r.appStatus]:!0,[r.focusDetectorManager]:!0,[r.focusStatus]:!0,[r.syncDownload]:!0,[r.widget]:!0,[r.activeDeactive]:!0,[r.controller]:!0,[r.service]:!0,[r.stateMachine]:!0,[r.metricz]:!0,[r.blobHelper]:!0,[r.imgNormalizer]:!0,[r.pinTopic]:!0,[r.tracking]:!0,[r.autoRetry]:!0,[r.mediaStatus]:!0,[r.popupPortal]:!0,[r.popupPV]:!0,[r.entriesTransferManager]:!0,[r.e2eeNotifyMissingMsg]:!0,[r.uiBannerController]:!0,[r.uiBannerQueue]:!0,[r.previewMsgTime]:!0,[r.animation]:!0,[r.photoMessageUploader]:!0,[r.diskChecker]:!0,[r.forwardMessage]:!0,[r.parser]:!0,[r.linkParser]:!0,[r.mediaSizeParser]:!0,[r.imageLoader]:!0,[r.imageLoad]:!0,[r.zCloud]:!0,[r.zCloudOnboarding]:!0,[r.zCloudOffload]:!0,[r.mediaDiskFetcher]:!0,[r.mediaBlobFetcher]:!0,[r.streamJXLDecoder]:!0},o=[]},hCQT:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},hj6s:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("zyBB").mkdirsSync,s=n("mx6n").utimesMillisSync,a=Symbol("notExist"),c=Symbol("existsReg");function u(e,t,n,o){if(!o.filter||o.filter(t,n))return function(e,t,n,o){const s=o.dereference?r.statSync:r.lstatSync,u=s(t);if(u.isDirectory())return function(e,t,n,i,o){if(t===a){if(p(n,i))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${i}'.`);return function(e,t,n,i){return r.mkdirSync(n,e.mode),r.chmodSync(n,e.mode),f(t,n,i)}(e,n,i,o)}if(t===c){if(p(n,i))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${i}'.`);return function(e,t,n){if(!r.statSync(t).isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);return f(e,t,n)}(n,i,o)}return f(n,i,o)}(u,e,t,n,o);if(u.isFile()||u.isCharacterDevice()||u.isBlockDevice())return function(e,t,n,r,i){if(t===a)return d(e,n,r,i);if(t===c)return l(e,n,r,i);return l(e,n,r,i)}(u,e,t,n,o);if(u.isSymbolicLink())return function(e,t,n,o){let s=r.readlinkSync(t);o.dereference&&(s=i.resolve(process.cwd(),s));if(e===a||e===c)return r.symlinkSync(s,n);if(o.dereference&&(e=i.resolve(process.cwd(),e)),h(s,e))return;if(r.statSync(n).isDirectory()&&p(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}(e,t,n,o)}(e,t,n,o)}function l(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),d(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function d(e,t,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(t,i),r.chmodSync(i,e.mode),o.preserveTimestamps?s(i,e.atime,e.mtime):void 0):function(e,t,i,o){const s=65536,a=n("XMvv")(s),c=r.openSync(t,"r"),u=r.openSync(i,"w",e.mode);let l=0;for(;l<e.size;){const e=r.readSync(c,a,0,s,l);r.writeSync(u,a,0,e),l+=e}o.preserveTimestamps&&r.futimesSync(u,e.atime,e.mtime);r.closeSync(c),r.closeSync(u)}(e,t,i,o)}function f(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e);return u(y(o,s),o,s,r)}(r,e,t,n)))}function p(e,t){const n=i.resolve(e).split(i.sep),r=i.resolve(t).split(i.sep);return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function h(e,t){const n=process.platform,r=i.resolve(e),o=i.resolve(t);return"darwin"===n||"win32"===n?r.toLowerCase()===o.toLowerCase():r===o}function y(e,t){const n=function(e){let t;try{t=r.readlinkSync(e)}catch(n){if("ENOENT"===n.code)return a;if("EINVAL"===n.code||"UNKNOWN"===n.code)return c;throw n}return t}(t);if(n===a||n===c){if(h(e,t))throw new Error("Source and destination must not be the same.");return n}if(h(e,n))throw new Error("Source and destination must not be the same.");return n}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch;const s=y(e,t);if(n.filter&&!n.filter(e,t))return;const a=i.dirname(t);return r.existsSync(a)||o(a),u(s,e,t,n)}},hzFW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("app-path-manager-factory")},iD3V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r={MAX_RETRY:0,INVALID_CONFIG_JITTER:1,INVALID_CONFIG_MIN:2,TIMEOUT:3,RETRY_ON_ERROR_CONDITION_FAIL:4};class i extends Error{constructor(e){super(`ExpBackoff error:${e}`),this.code=e}}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function s({step:e,nTry:t,jitter:n,min:r,max:i}){let o=r*Math.pow(e,t);if(n){const e=Math.random(),t=Math.floor(e*n*o);o=1&Math.floor(10*e)?o+t:o-t}return 0|Math.min(o,i)}function a(e,t){return async function(...n){for await(const{sleep:c,duration:u,nTry:l}of function*(e){var t,n,a,c,u,l,d,f,p;const h=null!==(t=null==e?void 0:e.retries)&&void 0!==t?t:3,y=null!==(n=null==e?void 0:e.min)&&void 0!==n?n:100,m=null!==(a=null==e?void 0:e.max)&&void 0!==a?a:1e4,g=null!==(c=null==e?void 0:e.step)&&void 0!==c?c:2,_=null!==(u=null==e?void 0:e.jitter)&&void 0!==u?u:0,v="number"==typeof(null==e||null===(l=e.lastTryDelayTime)||void 0===l?void 0:l.min)?null==e||null===(d=e.lastTryDelayTime)||void 0===d?void 0:d.min:y,b={min:v,max:o(v,"number"==typeof(null==e||null===(f=e.lastTryDelayTime)||void 0===f?void 0:f.max)?null==e||null===(p=e.lastTryDelayTime)||void 0===p?void 0:p.max:m)};if(y<=0)throw new i(r.INVALID_CONFIG_MIN);if(_<0||_>1)throw new i(r.INVALID_CONFIG_JITTER);let w=0;for(;w<=h;){let e=y,t=m;w===h-1&&(e=b.min,t=b.max);const n=s({nTry:w,step:g,jitter:_,min:e,max:t});yield{nTry:w,duration:n,sleep:()=>new Promise((e=>{setTimeout(e,n)}))},w++}}(t))try{const r=await e(...n);return l>0&&null!=t&&t.afterRetry&&(null==t||t.afterRetry({nTry:l,duration:u,sleep:c,success:!0,shouldRetry:!1})),r}catch(a){const e=null!=t&&t.shouldRetryOnError?null==t?void 0:t.shouldRetryOnError:()=>Promise.resolve(!0),o=await e({error:a,currentState:{nTry:l,duration:u,sleep:c},input:n});if(null!=t&&t.afterRetry&&(null==t||t.afterRetry({nTry:l,duration:u,sleep:c,shouldRetry:o,success:!1})),!o)throw new i(r.RETRY_ON_ERROR_CONDITION_FAIL);await c()}throw new i(r.MAX_RETRY)}}},iIBh:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return g}));var r=n("mw/K"),i=n("g+8e"),o=n.n(i),s=n("oyvS"),a=n.n(s),c=n("jDHv"),u=n("Mgpg");let l=null;const d=()=>{if(null===l){const e=c.ModuleContainer.resolve(u.ZLoggerFactory);l=e.createZLogger("sqlite",["file-utils"])}return l};function f(e){return new Promise((t=>{r.promises.access(e).then((()=>t(!0))).catch((()=>t(!1)))}))}async function p(e){const t=a.a.parse(e).dir;await async function(e){return o.a.ensureDir(e)}(t)}const h="rndir",y={keepOriginal:!1};async function m(e,t,n=y){d();const{keepOriginal:i}=n,s=[],a=async()=>{try{for(let e=s.length-1;e>=0;e-=1){const t=s[e];await t()}}catch(e){}};let c=null;if(await f(t)){c=`${t}_${h}`;await f(c)&&await r.promises.rmdir(c,{recursive:!0}),await r.promises.rename(t,c),s.push((()=>r.promises.rename(c,t)))}try{i?(await new Promise(((n,r)=>{o.a.copy(e,t,(e=>{e?r(e):n()}))})),s.push((async()=>r.promises.rmdir(t,{recursive:!0})))):(await r.promises.rename(e,t),s.push((()=>r.promises.rename(t,e))))}catch(u){throw await a(),u}if(null!==c)try{await r.promises.rmdir(c,{recursive:!0})}catch(u){throw await a(),u}}async function g(e,t){d();const n=[],i=async()=>{try{for(let e=n.length-1;e>=0;e-=1){const t=n[e];await t()}}catch(e){}};let s=null;if(await f(t)){s=`${t}_${h}`;await f(s)&&await r.promises.rmdir(s,{recursive:!0}),await new Promise(((e,n)=>{o.a.copy(t,s,(t=>{t?n(t):e()}))})),n.push((()=>r.promises.rename(s,t)))}try{await new Promise(((n,r)=>{o.a.copy(e,t,(e=>{e?r(e):n()}))})),n.push((async()=>r.promises.rmdir(t,{recursive:!0})))}catch(a){throw await i(),a}if(null!==s)try{await r.promises.rmdir(s,{recursive:!0})}catch(a){throw await i(),a}}},ibl3:function(e,t){},igA5:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("8/YW"),i=n("jDHv"),o=n("wudS"),s=n("fsN4"),a=n("Mgpg");class c{constructor(){this.logger=void 0;const e=i.ModuleContainer.resolve(a.ZLoggerFactory);this.logger=e.createZLogger("localstorage",["cleaner"])}static getInstance(){return this.instance||(this.instance=new c),this.instance}cleanupLocalStorageMatchConditions(e=(e=>!1)){const t=Object.keys(window.localStorage);for(const n of t)e(n)&&window.localStorage.removeItem(n)}cleanupKeysOfLocalStorage(e=[]){for(const t of e)window.localStorage.removeItem(t)}clearLocalStorage(){window.localStorage.clear()}async cleanupAsyncLocalStorageMatchConditions(e=(e=>!1)){const t=s.default.getInstance(),n=[t.Storage.FriendBlocked,t.Storage.InfoCache,t.Storage.RetryCache,t.SecureLocalstorage.AsyncStore],r=[];for(const i of n){const t=await i.getAllKey();if(0===t.length)continue;if(Array.isArray(t[0])){this.logger.zsymb(9,"iJV-MH",['"{}" store has array-typed keys; then can\'t be matched for cleaning up',"yCXJR4"],i.name);continue}const n=[];for(const r of t)e(`${r}`)&&n.push(r);n.length&&r.push(i.deleteMulti(n))}r.length&&await Promise.all(r)}async clearAsyncLocalStorage(){const e=s.default.getInstance(),t=[e.Storage.FriendBlocked,e.Storage.InfoCache,e.Storage.RetryCache,e.SecureLocalstorage.AsyncStore];return Promise.all(t.map((e=>e.clear())))}}c.instance=null;const u="citk",l="citv",d="default_cache_map",f="z_ecrp",p="undefined"!=typeof window&&"Microsoft Internet Explorer"==(null===(h=window)||void 0===h||null===(y=h.navigator)||void 0===y?void 0:y.appName);var h,y;class m{static encrypt(e,t){if(!t)throw new Error("key is not set!");let n=0,r=[];if(p){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")}static decrypt(e,t){if(!t)throw new Error("key is not set!");let n=0,r=[];if(p){let n=0,i=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=i,n=i-n;for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e.charCodeAt((t+n)%i)))}else for(let i=0;i<e.length;i++)r.push(String.fromCharCode(e.charCodeAt(i)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return r.join("")}}var g,_;let v=Object(r.b)()(g=Reflect.metadata("design:type",Function)(g=Reflect.metadata("design:paramtypes",[])(((_=class e{constructor(){this.userScopedPrefix=void 0,this.secretKey=void 0,this._decryptFn=void 0,this._encryptFn=void 0,this._canModifyData=void 0,this._disableCipher=void 0,this.onItemPlainChangedHandlers=new Map,this.onItemChangedHandlers=new Map,this.onItemChangedForCurrentUserHandlers=new Map,this.onItemPlainChangedAsyncHandlers=new Map,this.onItemChangedAsyncHandlers=new Map,this.onItemChangedForCurrentUserAsyncHandlers=new Map,this._cacheMaps={},this._flushAndSaveToStorage=void 0,this._logger=void 0,this.userScopedPrefix=null,this.secretKey=null,this._decryptFn=m.decrypt,this._encryptFn=m.encrypt,this._canModifyData=!0,this._disableCipher=!1,this._flushAndSaveToStorage=((e,t)=>{let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}})(this._flushAndSaveToStorageReal.bind(this),500)}get logger(){if(!this._logger){const e=i.ModuleContainer.resolve(a.ZLoggerFactory);this._logger=e.createZLogger("localstorage",["secure"])}return this._logger}static getInstance(){return this.instance||(this.instance=new e),this.instance}onAuthenticating(t){const{userId:n,UIN:r}=t.getSession();e.getInstance().init(n,r)}setCanModifyDataFlag(e){this._canModifyData=e}isEncryptedValue(e){return e.startsWith(`${f}_`)}disableCipher(){this._disableCipher=!0}_warnIfKeyCannotBeModified(e){this._canModifyData}init(e,t){this.secretKey=t,this._initUserIDList(e);try{this._testCipher()}catch(n){}}resetSession(){this.secretKey=null,this.userScopedPrefix=null}hasAlreadyInitialized(){return null!==this.secretKey&&null!==this.userScopedPrefix}_initUserIDList(e){try{this._validateUserIDList(),this.userScopedPrefix=`${Object(o.a)(e)}`}catch(t){}}_validateUserIDList(){}_testCipher(){if(this.checkExistForCurrentUser(u)){if(this.getSecureItemForCurrentUser(u)!==l)throw new Error("SecureLocalStorage encryption and decryption produce incorrect results")}else this.setSecureItemForCurrentUser(u,l)}async _recoverCipher(){const e=["z_recentp","quest_cert","z_recentin","s_ph_if","z_listroom","z_c_d","zv_cu","auto-replies-state-v1","introduced-ttl","hide-fbadge","g_token","d_token","list_recent_search","list_recent_search_v2","ttl-v1","ttl-v1-saved","fas","feat-pro-count-auto-replies"],t=t=>!(!t.includes("list_recent_g_search")||!t.endsWith("v2"))||e.some((e=>t.includes(e))),n=c.getInstance();n.cleanupLocalStorageMatchConditions(t);await n.cleanupAsyncLocalStorageMatchConditions((e=>"string"==typeof e&&t(e))),this.setSecureItemForCurrentUser(u,l)}hasOwnProperty(e){const t=this.getKeyNameForSharedItem(e);let n=null;return this.hasAlreadyInitialized()&&(n=this.getKeyNameForCurrentUser(e)),Object.hasOwnProperty.call(this,e)||null!==globalThis.localStorage.getItem(t)||null!==n&&null!==globalThis.localStorage.getItem(n)||null!==globalThis.localStorage.getItem(e)}getKeyNameForSharedItem(e){return`sh_${e}`}getKeyNameForCurrentUser(e){if(null===this.userScopedPrefix)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return`${this.userScopedPrefix}_${e}`}getItemPlain(e){return globalThis.localStorage.getItem(e)}setItemPlain(e,t){this._warnIfKeyCannotBeModified(e),globalThis.localStorage.setItem(e,t),this.applyItemPlainChanged(e,t)}async getItemPlainAsync(e){const t=s.default.getInstance(),{val:n}=await t.SecureLocalstorage.AsyncStore.get(e)||{val:null};return n}async setItemPlainAsync(e,t){this._warnIfKeyCannotBeModified(e);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.insert({key:e,val:t},{replace:!0}),this.applyItemPlainChangedAsync(e,t)}getItem(e){const t=this.getKeyNameForSharedItem(e);return globalThis.localStorage.getItem(t)}setItem(e,t){const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(n),globalThis.localStorage.setItem(n,t),this.applyItemChanged(e,t)}async getItemAsync(e){const t=this.getKeyNameForSharedItem(e),n=s.default.getInstance(),{val:r}=await n.SecureLocalstorage.AsyncStore.get(t)||{val:null};return r}async setItemAsync(e,t){const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(n);const r=s.default.getInstance();await r.SecureLocalstorage.AsyncStore.insert({key:n,val:t},{replace:!0}),this.applyItemChangedAsync(e,t)}getItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return globalThis.localStorage.getItem(t)}setItemForCurrentUser(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n),globalThis.localStorage.setItem(n,t),this.applyItemChangedForCurrentUser(e,t)}async getItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e),n=s.default.getInstance(),{val:r}=await n.SecureLocalstorage.AsyncStore.get(t)||{val:null};return r}async setItemForCurrentUserAsync(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const r=s.default.getInstance();await r.SecureLocalstorage.AsyncStore.insert({key:n,val:t},{replace:!0}),this.applyItemChangedForCurrentUserAsync(e,t)}getSecureItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e),n=globalThis.localStorage.getItem(t);if(null===n)return null;return this._disableCipher&&!this.isEncryptedValue(n)?n:this.decryptValue(n)}setSecureItemForCurrentUser(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const r=t;if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");const i=this._disableCipher?r:this.encryptValue(r);globalThis.localStorage.setItem(n,i),this.applyItemChangedForCurrentUser(e,t)}async getSecureItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e),n=s.default.getInstance(),r=await n.SecureLocalstorage.AsyncStore.get(t);if(!r)return null;const{val:i}=r;return this._disableCipher&&!this.isEncryptedValue(i)?i:this.decryptValue(i)}async setSecureItemForCurrentUserAsync(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const r=t;if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");const i=this._disableCipher?r:this.encryptValue(r),o=s.default.getInstance();await o.SecureLocalstorage.AsyncStore.insert({key:n,val:i},{replace:!0}),this.applyItemChangedForCurrentUserAsync(e,t)}removeItemPlain(e){this._warnIfKeyCannotBeModified(e),globalThis.localStorage.removeItem(e),this.applyItemPlainChanged(e,null)}removeItem(e){const t=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(t),globalThis.localStorage.removeItem(t),this.applyItemChanged(e,null)}removeItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(t),globalThis.localStorage.removeItem(t),this.applyItemChangedForCurrentUser(e,null)}async removeItemPlainAsync(e){this._warnIfKeyCannotBeModified(e);const t=s.default.getInstance();await t.SecureLocalstorage.AsyncStore.delete(e),this.applyItemPlainChangedAsync(e,null)}async removeItemAsync(e){const t=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(t);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.delete(t),this.applyItemChangedAsync(e,null)}async removeItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(t);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.delete(t),this.applyItemChangedForCurrentUserAsync(e,null)}setItemForAllLoggedUsers(e,t){const n=Object(o.b)().length;if(0!==n){for(let r=0;r<n;r+=1){const n=`${r}_${e}`;globalThis.localStorage.setItem(n,t)}this.applyItemChangedForCurrentUser(e,t)}}static forTestingOnly_getNewInstance(){return new e}getInt(e,t={}){const n=void 0===t.defaultInt||isNaN(t.defaultInt)?-1:+t.defaultInt;try{const t=this.getKeyNameForSharedItem(e),n=globalThis.localStorage.getItem(t);if(null!=n){const e=+n;if(!isNaN(e))return e}}catch(r){}return n}getIntForCurrentUser(e,t={}){const n=void 0===t.defaultInt||isNaN(t.defaultInt)?-1:+t.defaultInt;try{const t=this.getKeyNameForCurrentUser(e);let n=globalThis.localStorage.getItem(t);if(null!=n){const e=+n;if(!isNaN(e))return e}}catch(r){}return n}setObject(e,t){try{const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(e);const r=JSON.stringify(t);globalThis.localStorage.setItem(n,r),this.applyItemChanged(e,r)}catch(n){}}setObjectForCurrentUser(e,t){try{const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const r=JSON.stringify(t);globalThis.localStorage.setItem(n,r),this.applyItemChangedForCurrentUser(e,r)}catch(n){}}getObject(e){const t=this.getKeyNameForSharedItem(e),n=globalThis.localStorage.getItem(t);if(null===n)return null;const r=JSON.parse(n);return r&&"object"==typeof r?r:null}getObjectForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);let n=globalThis.localStorage.getItem(t);return null===n?null:(n=JSON.parse(n),n&&"object"==typeof n?n:null)}getParsedItem(e){const t=this.getKeyNameForSharedItem(e);let n=globalThis.localStorage.getItem(t);if(n)try{const e=JSON.parse(n);null!=e&&(n=e)}catch(r){}return n}getParsedItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);let n=globalThis.localStorage.getItem(t);if(n)try{const e=JSON.parse(n);null!=e&&(n=e)}catch(r){}return n}forEachKeyName(e=((e,t)=>{})){Object.keys(globalThis.localStorage).forEach(e)}_getCacheMap(e){if(!this._cacheMaps[e]){let n=new Map,r=globalThis.localStorage.getItem(e);if(r)try{n=JSON.parse(r).reduce(((e,t)=>{const[n,r]=t;return e.set(n,r),e}),n)}catch(t){}this._cacheMaps[e]=n}return this._cacheMaps[e]}_flushAndSaveToStorageReal(e){const t=this._getCacheMap(e),n=[];t.forEach(((e,t)=>{n.push([t,e])}));const r=JSON.stringify(n);globalThis.localStorage.setItem(e,r),this.applyItemChangedForCurrentUser(e,r)}addEntryToCacheMap(e,t,n=d){const r=this.getKeyNameForSharedItem(n);this._getCacheMap(r).set(e,t),this._flushAndSaveToStorage(r)}addEntryToCacheMapForCurrentUser(e,t,n=d){const r=this.getKeyNameForCurrentUser(n);this._getCacheMap(r).set(e,t),this._flushAndSaveToStorage(r)}deleteEntryFromCacheMap(e,t=d){const n=this.getKeyNameForSharedItem(t);this._getCacheMap(n).delete(e),this._flushAndSaveToStorage(n)}deleteEntryFromCacheMapForCurrentUser(e,t=d){const n=this.getKeyNameForCurrentUser(t);this._getCacheMap(n).delete(e),this._flushAndSaveToStorage(n)}getEntryOfCacheMap(e,t=d){const n=this.getKeyNameForSharedItem(t);return this._getCacheMap(n).get(e)||null}getEntryOfCacheMapForCurrentUser(e,t=d){const n=this.getKeyNameForCurrentUser(t);return this._getCacheMap(n).get(e)||null}forEachEntryOfCacheMap(e,t=d){const n=this.getKeyNameForSharedItem(t);this._getCacheMap(n).forEach(e)}forEachEntryOfCacheMapForCurrentUser(e,t=d){const n=this.getKeyNameForCurrentUser(t);this._getCacheMap(n).forEach(e)}getCacheMapSize(e=d){const t=this.getKeyNameForSharedItem(e);return this._getCacheMap(t).size}getCacheMapSizeForCurrentUser(e=d){const t=this.getKeyNameForCurrentUser(e);return this._getCacheMap(t).size}hasCacheMap(e){const t=this.getKeyNameForSharedItem(e);return void 0!==this._cacheMaps[t]}hasCacheMapForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return void 0!==this._cacheMaps[t]}checkExist(e){const t=this.getKeyNameForSharedItem(e);return null!==globalThis.localStorage.getItem(t)}checkExistForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return null!==globalThis.localStorage.getItem(t)}isUserScopedKeyOfCurrentUser(e){return e.startsWith(`${this.userScopedPrefix}_`)}getKeySignatureOfUserScopedKeyOfCurrentUser(e){if(!this.isUserScopedKeyOfCurrentUser(e))throw new Error(`${e} doesn't belong to the current user`);const t=`^${this.userScopedPrefix}_`,n=new RegExp(t,"g");return e.replace(n,"")}encryptValue(e){if("string"!=typeof e)throw new Error("SecureLocalStorage cannot encrypt non string value");if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return`${f}_${this._encryptFn(e,this.secretKey)}`}decryptValue(e){if("string"!=typeof e)throw new Error("SecureLocalStorage cannot decrypt non string value");if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return e=e.slice(`${f}_`.length),this._decryptFn(e,this.secretKey)}onItemPlainChanged(e,t){this.onItemPlainChangedHandlers.has(e)||this.onItemPlainChangedHandlers.set(e,[]);const n=this.onItemPlainChangedHandlers.get(e);n.push(t),this.onItemPlainChangedHandlers.set(e,n)}onItemChanged(e,t){this.onItemChangedHandlers.has(e)||this.onItemChangedHandlers.set(e,[]);const n=this.onItemChangedHandlers.get(e);n.push(t),this.onItemChangedHandlers.set(e,n)}onItemChangedForCurrentUser(e,t){this.onItemChangedForCurrentUserHandlers.has(e)||this.onItemChangedForCurrentUserHandlers.set(e,[]);const n=this.onItemChangedForCurrentUserHandlers.get(e);n.push(t),this.onItemChangedForCurrentUserHandlers.set(e,n)}onItemPlainChangedAsync(e,t){this.onItemPlainChangedAsyncHandlers.has(e)||this.onItemPlainChangedAsyncHandlers.set(e,[]);const n=this.onItemPlainChangedAsyncHandlers.get(e);n.push(t),this.onItemPlainChangedAsyncHandlers.set(e,n)}onItemChangedAsync(e,t){this.onItemChangedAsyncHandlers.has(e)||this.onItemChangedAsyncHandlers.set(e,[]);const n=this.onItemChangedAsyncHandlers.get(e);n.push(t),this.onItemChangedAsyncHandlers.set(e,n)}onItemChangedForCurrentUserAsync(e,t){this.onItemChangedForCurrentUserAsyncHandlers.has(e)||this.onItemChangedForCurrentUserAsyncHandlers.set(e,[]);const n=this.onItemChangedForCurrentUserAsyncHandlers.get(e);n.push(t),this.onItemChangedForCurrentUserAsyncHandlers.set(e,n)}applyItemPlainChanged(e,t){if(this.onItemPlainChangedHandlers.has(e)){const n=this.onItemPlainChangedHandlers.get(e);for(const r of n)r(t,e)}}applyItemChanged(e,t){if(this.onItemChangedHandlers.has(e)){const n=this.onItemChangedHandlers.get(e);for(const r of n)r(t,e)}}applyItemChangedForCurrentUser(e,t){if(this.onItemChangedForCurrentUserHandlers.has(e)){const n=this.onItemChangedForCurrentUserHandlers.get(e);for(const r of n)r(t,e)}}applyItemPlainChangedAsync(e,t){if(this.onItemPlainChangedAsyncHandlers.has(e)){const n=this.onItemPlainChangedAsyncHandlers.get(e);for(const r of n)r(t,e)}}applyItemChangedAsync(e,t){if(this.onItemChangedAsyncHandlers.has(e)){const n=this.onItemChangedAsyncHandlers.get(e);for(const r of n)r(t,e)}}applyItemChangedForCurrentUserAsync(e,t){if(this.onItemChangedForCurrentUserAsyncHandlers.has(e)){const n=this.onItemChangedForCurrentUserAsyncHandlers.get(e);for(const r of n)r(t,e)}}}).instance=null,g=_))||g)||g)||g},"igW/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.snakeCase=void 0;var r=n("FQX0"),i=n("sgrp");t.snakeCase=function(e,t){return void 0===t&&(t={}),i.dotCase(e,r.__assign({delimiter:"_"},t))}},ijAY:function(e,t,n){"use strict";(function(e){Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return e.colors.grey=e.colors.gray,Object.keys(e).forEach((function(t){var n=e[t];Object.keys(n).forEach((function(t){var r=n[t];e[t]=n[t]={open:"["+r[0]+"m",close:"["+r[1]+"m"}})),Object.defineProperty(e,t,{value:n,enumerable:!1})})),e}})}).call(this,n("YuTi")(e))},iqfJ:function(e,t,n){"use strict";const r=n("9muz");e.exports=class{constructor(e){this.creationTime=Date.now(),this.lastReturnTime=null,this.lastBorrowTime=null,this.lastIdleTime=null,this.obj=e,this.state=r.IDLE}allocate(){this.lastBorrowTime=Date.now(),this.state=r.ALLOCATED}deallocate(){this.lastReturnTime=Date.now(),this.state=r.IDLE}invalidate(){this.state=r.INVALID}test(){this.state=r.VALIDATION}idle(){this.lastIdleTime=Date.now(),this.state=r.IDLE}returning(){this.state=r.RETURNING}}},j6JD:function(e,t,n){"use strict";function r(e,t){"string"==typeof e&&(e=parseInt(e));const n=new Date(e),r=n.getDate(),o=n.getMonth()+1,s=(n.getFullYear(),n.getHours()),a=n.getMinutes(),c=n.getSeconds();return null!=t&&t.dayOnly?`${r}.${o}`:null!=t&&t.timeOnly?`${i(s,2)}:${i(a,2)}:${i(c,2)}`:`${r}.${o} ${i(s,2)}:${i(a,2)}:${i(c,2)}`}function i(e,t){const n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}n.d(t,"a",(function(){return r}))},jDHv:function(e,t,n){"use strict";n.r(t),n.d(t,"define",(function(){return i})),n.d(t,"Container",(function(){return o})),n.d(t,"ModuleContainer",(function(){return s})),n.d(t,"autoInjectable",(function(){return a})),n.d(t,"injectable",(function(){return c})),n.d(t,"inject",(function(){return u})),n.d(t,"singleton",(function(){return l}));var r=n("G8qQ");n("rY0A");function i(e){return{service:e,token:e}}class o{constructor(){this.inject=e=>r.inject(e.token),this.injectToken=e=>r.inject(e),this.singleton=r.singleton,this.injectable=r.injectable,this.isRegistered=e=>r.container.isRegistered(e.token),this.register=(e,t)=>{r.container.register(e.token,{useClass:t}),this.hookAfferResolution(e)},this.registerValue=(e,t)=>{r.container.register(e.token,{useValue:t}),this.hookAfferResolution(e)},this.registerSingleton=(e,t)=>{r.container.registerSingleton(t),r.container.register(e.token,{useFactory:e=>e.resolve(t)}),this.hookAfferResolution(e)},this.registerFactory=(e,t)=>{r.container.register(e.token,{useFactory:t}),this.hookAfferResolution(e)},this.resolve=e=>r.container.resolve(e.token),this.resolveToken=e=>r.container.resolve(e),this.resolveAll=e=>r.container.resolveAll(e.token),this.resolveIfExist=e=>{try{return r.container.resolve(e.token)}catch(t){return}}}hookAfferResolution(e){}}const s=new o,a=r.autoInjectable,c=r.injectable,u=e=>r.inject(e.token);function l(e){return function(t){e?s.registerSingleton(e,t):s.singleton()(t)}}},jGDt:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-session")},jGO8:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("wxPg");e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},jK02:function(e,t){e.exports=require("util")},jO9C:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},jX2W:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+");t.addBreadcrumb=function(e){i.getCurrentHub().addBreadcrumb(e)},t.captureCheckIn=function(e,t){const n=i.getCurrentHub(),o=n.getScope(),s=n.getClient();if(s){if(s.captureCheckIn)return s.captureCheckIn(e,t,o);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Cannot capture check-in. No client defined.");return r.uuid4()},t.captureEvent=function(e,t){return i.getCurrentHub().captureEvent(e,t)},t.captureException=function(e,t){return i.getCurrentHub().captureException(e,{captureContext:t})},t.captureMessage=function(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return i.getCurrentHub().captureMessage(e,n,r)},t.configureScope=function(e){i.getCurrentHub().configureScope(e)},t.setContext=function(e,t){i.getCurrentHub().setContext(e,t)},t.setExtra=function(e,t){i.getCurrentHub().setExtra(e,t)},t.setExtras=function(e){i.getCurrentHub().setExtras(e)},t.setTag=function(e,t){i.getCurrentHub().setTag(e,t)},t.setTags=function(e){i.getCurrentHub().setTags(e)},t.setUser=function(e){i.getCurrentHub().setUser(e)},t.startTransaction=function(e,t){return i.getCurrentHub().startTransaction({...e},t)},t.withScope=function(e){i.getCurrentHub().withScope(e)}},"jle/":function(e,t){e.exports=require("os")},juUo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constantCase=void 0;var r=n("OO8C"),i=n("3yyI"),o=n("++DX");t.constantCase=function(e,t){return void 0===t&&(t={}),i.noCase(e,r.__assign({delimiter:"_",transform:o.upperCase},t))}},"k+1r":function(e,t,n){var r=n("QkVE");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},kFM4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r={RunMode:n("YEoC").f.Unknown};function i(e,t){r[e]=t}},kMf4:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("AH6j"),i=n("Y41u"),o=n("KRcn"),s=n("Yl80"),a=n("6rD8"),c=n("7FSS"),u=n("Rw5y"),l=n("IpzU");const d=n("oyvS"),f=n("mw/K"),p=n("g+8e");class h extends r.b{constructor(){super(),this._userDataDir=void 0,this._process=void 0,this._mode=void 0,this._logDir="",this._logFilename="",this._logModulename="",this._logMetaname="",this.status=void 0,this.status=a.a.Init,this._process=Object(o.a)(),this._mode=s.b.Binary,this._logFilename=this._process+s.a[this._mode].logExt,this._logModulename=this._process+s.a[this._mode].moduleExt,this._logMetaname=this._process+s.a[this._mode].metaExt}get dir(){return this._logDir}async getLogDir(e){return this._logDir||(this._userDataDir||(this._userDataDir=await Object(l.getuserDataDir)()),this._logDir=d.join(this._userDataDir,e),await this.ensureDir(this._logDir)),this._logDir}get zlogFilename(){return this._logFilename}get moduleName(){return this._logModulename}get metaName(){return this._logMetaname}async read(e){return e?(await this.ensureDir(this._logDir),u.a({fs:f,path:d},e)):(c.a.error(`[ZLL]: invalid filename:${e}`),Promise.reject(new Error("file path is empty")))}async writeDataAt(e,t,n){if(!e)return c.a.error(`[ZLL]: invalid filename:${e}`),Promise.reject(new Error("file path is empty"));await this.ensureDir(this._logDir);{const r=d.join(this._logDir,e);return u.c({fs:f,path:d},r,Buffer.from(t),n)}}async initFile(e){if(!e)return c.a.error(`[ZLL]: invalid filename:${e}`),Promise.reject(new Error("file path is empty"));{const t=d.join(this._logDir,e);return void(await u.c({fs:f,path:d},t,Buffer.alloc(0)))}}async writeBetween(e,t,n,r){if(!e)return c.a.error(`[ZLL]: invalid filename:${e}`),Promise.reject(new Error("file path is empty"));await this.ensureDir(this._logDir);let i=n;{const r=d.join(this._logDir,e);i=await u.d({fs:f,path:d},r,t,n)}r&&r(i)}truncateFileUpto(e){{const t=d.join(this._logDir,this._process+s.a[this._mode].logExt);return u.b({fs:f},t,e)}}broadcastEvent(e,t){if(e===i.d.WriterStatus)this.dispatchEvent(new i.b(e,t))}ensureDir(e){return new Promise(((t,n)=>{p.ensureDir(e,1533,(e=>{if(e)return n(e);t()}))}))}}},lL4J:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("+IkF");var i;!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(i||(i={}));class o{__init(){this._state=i.PENDING}__init2(){this._handlers=[]}constructor(e){o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),o.prototype.__init5.call(this),o.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new o(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(i){r(i)}else n(t)},e=>{if(t)try{n(t(e))}catch(i){r(i)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new o(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===i.PENDING&&(r.isThenable(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)}))}}}t.SyncPromise=o,t.rejectedSyncPromise=function(e){return new o(((t,n)=>{n(e)}))},t.resolvedSyncPromise=function(e){return new o((t=>{t(e)}))}},lPiR:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],d=n[6],f=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],y=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=y+u[p-7]+g+u[p-16]}var _=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&d)+c[p]+u[p];f=d,d=l,l=a,a=s+b|0,s=o,o=i,i=r,r=b+(v+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},lQ9Q:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.node=function(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{const i=r.match(n);if(i){let t,n,r,o,s;if(i[1]){r=i[1];let e=r.lastIndexOf(".");if("."===r[e-1]&&e--,e>0){t=r.slice(0,e),n=r.slice(e+1);const i=t.indexOf(".Module");i>0&&(r=r.slice(i+1),t=t.slice(0,i))}o=void 0}n&&(o=t,s=n),"<anonymous>"===n&&(s=void 0,r=void 0),void 0===r&&(s=s||"<anonymous>",r=o?`${o}.${s}`:s);let a=i[2]&&i[2].startsWith("file://")?i[2].slice(7):i[2];const c="native"===i[5];a||!i[5]||c||(a=i[5]);const u=!(c||a&&!a.startsWith("/")&&!a.includes(":\\")&&!a.startsWith(".")&&!a.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==a&&!a.includes("node_modules/");return{filename:a,module:e?e(a):void 0,function:r,lineno:parseInt(i[3],10)||void 0,colno:parseInt(i[4],10)||void 0,in_app:u}}if(r.match(t))return{filename:r}}}},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ");e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lehO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("jDHv"),i=n("dtjM");function o(){r.ModuleContainer.resolve(i.b).install()}},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},lsb7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P");t.createCheckInEnvelope=function(e,t,n,i,o){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),i&&o&&(s.dsn=r.dsnToString(o)),t&&(s.trace=r.dropUndefinedKeys(t));const a=function(e){return[{type:"check_in"},e]}(e);return r.createEnvelope(s,[a])}},mNvP:function(e,t){var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return re(Object.create(null))}:s?function(){return re({__proto__:null})}:function(){return re({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(N(n)){if(!$(e))throw new TypeError;if(!Q(t))throw new TypeError;return T(e,t)}if(!$(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!N(r)&&!M(r))throw new TypeError;return M(r)&&(r=void 0),I(e,t,n=G(n),r)}function y(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!N(r)&&!K(r))throw new TypeError;j(e,t,n,r)}return n}function m(e,t,n,r){if(!B(n))throw new TypeError;return N(r)||(r=G(r)),j(e,t,n,r)}function g(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),C(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),P(e,t,n)}function v(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),A(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),k(e,t,n)}function w(e,t){if(!B(e))throw new TypeError;return N(t)||(t=G(t)),D(e,t)}function E(e,t){if(!B(e))throw new TypeError;return N(t)||(t=G(t)),R(e,t)}function S(e,t,n){if(!B(t))throw new TypeError;N(n)||(n=G(n));var r=O(t,n,!1);if(N(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function T(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!N(r)&&!M(r)){if(!Q(r))throw new TypeError;t=r}}return t}function I(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!N(o)&&!M(o)){if(!B(o))throw new TypeError;r=o}}return r}function O(e,t,n){var r=p.get(e);if(N(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(N(i)){if(!n)return;i=new d,r.set(t,i)}return i}function C(e,t,n){if(P(e,t,n))return!0;var r=X(t);return!M(r)&&C(e,r,n)}function P(e,t,n){var r=O(t,n,!1);return!N(r)&&z(r.has(e))}function A(e,t,n){if(P(e,t,n))return k(e,t,n);var r=X(t);return M(r)?void 0:A(e,r,n)}function k(e,t,n){var r=O(t,n,!1);if(!N(r))return r.get(e)}function j(e,t,n,r){O(n,r,!0).set(e,t)}function D(e,t){var n=R(e,t),r=X(e);if(null===r)return n;var i=D(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new f,s=[],a=0,c=n;a<c.length;a++){var u=c[a];o.has(u)||(o.add(u),s.push(u))}for(var l=0,d=i;l<d.length;l++){u=d[l];o.has(u)||(o.add(u),s.push(u))}return s}function R(e,t){var n=[],r=O(e,t,!1);if(N(r))return n;for(var i=V(r.keys()),o=0;;){var s=Z(i);if(!s)return n.length=o,n;var a=W(s);try{n[o]=a}catch(c){try{J(i)}finally{throw c}}o++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function N(e){return void 0===e}function M(e){return null===e}function L(e){return"symbol"==typeof e}function B(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=Y(e,r);if(void 0!==i){var o=i.call(e,n);if(B(o))throw new TypeError;return o}return U(e,"default"===n?"number":n)}function U(e,t){if("string"===t){var n=e.toString;if(H(n))if(!B(i=n.call(e)))return i;if(H(r=e.valueOf))if(!B(i=r.call(e)))return i}else{var r;if(H(r=e.valueOf))if(!B(i=r.call(e)))return i;var i,o=e.toString;if(H(o))if(!B(i=o.call(e)))return i}throw new TypeError}function z(e){return!!e}function q(e){return""+e}function G(e){var t=F(e,3);return L(t)?t:q(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function Q(e){return"function"==typeof e}function K(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!H(n))throw new TypeError;return n}}function V(e){var t=Y(e,i);if(!H(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function W(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function X(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function u(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",y),e("defineMetadata",m),e("hasMetadata",g),e("hasOwnMetadata",_),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",S)}(r)}()}(n||(n={}))},mUMT:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("oyvS"),o=n("DadK"),s=n("zyBB"),a=n("xQB0").pathExists;e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((r,o)=>{if(!r&&o.isFile())return t();const c=i.dirname(e);a(c,((e,r)=>e?t(e):r?n():void s.mkdirs(c,(e=>{if(e)return t(e);n()}))))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(r){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},mdsp:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+"),o=n("Ngr4"),s=[];function a(e,t){t[e.name]=e,-1===s.indexOf(e.name)&&(e.setupOnce(o.addGlobalEventProcessor,i.getCurrentHub),s.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Integration installed: ${e.name}`))}t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;t.forEach((e=>{e.isDefaultInstance=!0})),i=Array.isArray(n)?[...t,...n]:"function"==typeof n?r.arrayify(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(i),s=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==s){const[e]=o.splice(s,1);o.push(e)}return o},t.installedIntegrations=s,t.setupIntegration=a,t.setupIntegrations=function(e){const t={};return e.forEach((e=>{e&&a(e,t)})),t}},ml0M:function(e,t,n){"use strict";const r=n("Yzye");e.exports=class{constructor(e){this._size=Math.max(0|+e,1),this._slots=[];for(let t=0;t<this._size;t++)this._slots.push(new r)}get length(){let e=0;for(let t=0,n=this._slots.length;t<n;t++)e+=this._slots[t].length;return e}enqueue(e,t){(t=t&&0|+t||0)&&(t<0||t>=this._size)&&(t=this._size-1),this._slots[t].push(e)}dequeue(){for(let e=0,t=this._slots.length;e<t;e+=1)if(this._slots[e].length)return this._slots[e].shift()}get head(){for(let e=0,t=this._slots.length;e<t;e+=1)if(this._slots[e].length>0)return this._slots[e].head}get tail(){for(let e=this._slots.length-1;e>=0;e--)if(this._slots[e].length>0)return this._slots[e].tail}}},moCT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.scopedResolutions=new Map}}},mpOJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let r=function(e){return e.ArrayBuffer="array-buffer",e.Blob="blob",e}({})},mqPU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("qAY7"),i=n("spuD").getGlobalObject();function o(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFetch=s,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},t.supportsFetch=o,t.supportsNativeFetch=function(){if(!o())return!1;if(s(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e},t.supportsReferrerPolicy=function(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in i}},mr5d:function(e,t,n){"use strict";class r{constructor(e){this._state=r.PENDING,this._resolve=void 0,this._reject=void 0,this._promise=new e(((e,t)=>{this._resolve=e,this._reject=t}))}get state(){return this._state}get promise(){return this._promise}reject(e){this._state===r.PENDING&&(this._state=r.REJECTED,this._reject(e))}resolve(e){this._state===r.PENDING&&(this._state=r.FULFILLED,this._resolve(e))}}r.PENDING="PENDING",r.FULFILLED="FULFILLED",r.REJECTED="REJECTED",e.exports=r},mrdr:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("mw/K"),o=n("oyvS"),s=n("zyBB"),a=n("tB16"),c=r((function(e,t){t=t||function(){},i.readdir(e,((n,r)=>{if(n)return s.mkdirs(e,t);r=r.map((t=>o.join(e,t))),function e(){const n=r.pop();if(!n)return t();a.remove(n,(n=>{if(n)return t(n);e()}))}()}))}));function u(e){let t;try{t=i.readdirSync(e)}catch(n){return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},msIP:function(e,t){e.exports=require("stream")},"mw/K":function(e,t){e.exports=require("fs")},mwIZ:function(e,t,n){var r=n("ZWtO");e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},mx6n:function(e,t,n){"use strict";const r=n("DadK"),i=n("jle/"),o=n("oyvS");e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(i=>{if(i)return e(i);r.open(t,"r+",((i,o)=>{if(i)return e(i);r.futimes(o,n,n,(n=>{if(n)return e(n);r.close(o,(n=>{if(n)return e(n);r.stat(t,((t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)}))}))}))}))}))},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",((e,o)=>{if(e)return i(e);r.futimes(o,t,n,(e=>{r.close(o,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},mxZZ:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));const r=1,i=4;class o extends Error{constructor(e,t,n=[]){super(t),this._code=void 0,this.adapterType=null,this.qosParams=void 0,this.qosParams=[t,...n],this._code=e}get code(){return this._code}get codeString(){return`0x20${this._code}`}setStack(e){const t=`${this.name}: ${this.message}`;this.stack=t+(e||"")}setAdaperType(e){this.adapterType=e}}class s extends o{constructor(e){super(r,"",e),this.name="RestoreBU_NotFoundError"}}class a extends o{constructor(e,t){super(2,e,t),this.name="RestoreBU_FailedError"}}class c extends o{constructor(e,t){super(3,e,t),this.name="CreateBU_FailedError"}}class u extends o{constructor(e){super(i,"",e),this.name="CreateBU_PendingTooLongError"}}class l extends o{constructor(e){super(5,"Creating backup is aborted!",e),this.name="AbortCreateBUError"}}},mzek:function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("W8fB");let s=Object(i.injectable)()(r=class{})||r;i.ModuleContainer.registerSingleton(o.b,s)},nAZb:function(e,t,n){"use strict";var r=n("jDHv"),i=n("eVLP"),o=n("fsQs"),s=n("j6JD"),a=n("7FSS"),c=n("kMf4"),u=n("5FGm");const l=n("oyvS"),d={current:0,ss:-1,ss_ln:-1,startups:[]};class f extends c.a{constructor(){super(),this._metas=void 0,this.startupTime=void 0,this.getSessionLineId=()=>{let e=this._metas.ss;const t=(this._metas.ss_ln+1)%o.SESSION_IDS.SESSION_LINE_MAX;return 0===t&&(e=(e+1)%o.SESSION_IDS.SESSION_MAX),this._metas.ss=e,this._metas.ss_ln=t,{ss:e,ss_ln:t}},this.startupTime=Object(s.a)(Date.now()),this._metas={current:d.current,ss:d.ss,ss_ln:d.ss_ln,startups:[this.startupTime,...d.startups]}}get metas(){return this._metas}async init(){return await this.getLogDir(u.b),this.loadMeta()}flush(){return this.write(this.metas)}async write(e){await this.writeDataAt(this.metaName,Buffer.from(JSON.stringify(e)),{overwrite:!0,startOffset:0})}getPath(){return l.join(this.dir,this.metaName)}_safeParse(e){let t={};try{t=JSON.parse(e)}catch{a.a.error("Failed to parse meta",this.getPath())}return t}async loadMeta(){let e=!1;try{var t;let r;try{r=await this.read(this.metaName)}catch(n){r={}}const i=this._safeParse(null===(t=r)||void 0===t?void 0:t.toString());i&&(i.startups||(i.startups=[]),i.startups.length>=o.AUTO_ROLL_META_SIZE&&i.startups.pop(),i.startups.unshift(this.startupTime),this.metas.startups=i.startups,this.metas.current=i.current||0,this.metas.ss=void 0!==(null==i?void 0:i.ss)?i.ss:-1,this.metas.ss_ln=-1),e=!0}catch(n){a.a.error("Failed to load meta => Writing new",n)}if(!e)try{await this.write(this.metas)}catch(r){a.a.error("Failed to write meta",r)}return this.metas}}r.ModuleContainer.registerSingleton(i.a,f)},nR7o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r=!0){let i,o;return s=>{const a=e(s);return r&&o===a||(i=(o=a)?s.resolve(t):s.resolve(n)),i}}},ngh0:function(e,t){e.exports=Object.freeze({zalo_app_version:3,enable_backup_old_zalo:1,appFolder:"ZaloData",appFolderOld:"ZaloApp"})},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},nnli:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("AH6j");let i=function(e){return e.ChannelDisconnected="channel-disconnected",e.ChannelTerminated="channel-terminated",e.ChannelReConnected="channel-reconnected",e}({});r.a;class o extends r.a{constructor(e){super(i.ChannelTerminated),this.nameOfTargetScript=e}}r.a},nu5z:function(e,t,n){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},"o+6O":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("g74s");Object.defineProperty(t,"Lifecycle",{enumerable:!0,get:function(){return r.default}})},oAAg:function(e,t,n){const r=n("HZV2"),i=n("RYQB"),o=n("ml0M"),s=n("tvG6");e.exports={Pool:r,Deque:i,PriorityQueue:o,DefaultEvictor:s,createPool:function(e,t){return new r(s,i,o,e,t)}}},oKM5:function(e,t,n){var r=n("CgVK"),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(c){}var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(c){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(c){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){d(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(c){if(!d(c))throw c}}:t}function o(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){d(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(c){if(!d(c))throw c}}:t}function u(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function l(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function d(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,d,f){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return n.__proto__=t,n}(e.read),e.readSync=(f=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return f.call(e,t,n,r,i,o)}catch(c){if("EAGAIN"===c.code&&s<10){s++;continue}throw c}});var f}},oRsZ:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq");const a=new s.d({tableName:"zcloud",name:"ZCloud",fields:{action:{name:"action",type:i.h.integer},noiseId:{name:"noiseId",type:i.h.string},actionType:{name:"actionType",type:i.h.integer},ts:{name:"ts",type:i.h.integer},cliTs:{name:"cliTs",type:i.h.integer},msgInfo:{name:"msgInfo",type:i.h.json},mediaInfo:{name:"mediaInfo",type:i.h.json},verified:{name:"verified",type:i.h.integer,nullable:!0},encryptInfo:{name:"encryptInfo",type:i.h.json,nullable:!0},zKey:{name:"zKey",type:i.h.string,nullable:!0},zDate:{name:"zDate",type:i.h.integer,nullable:!0},zSize:{name:"zSize",type:i.h.integer,nullable:!0},zConv:{name:"zConv",type:i.h.string,nullable:!0},zType:{name:"zType",type:i.h.string,nullable:!0},cloudInfo:{name:"cloudInfo",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"noiseId"}],unique:!0},zKey:{name:"zKey",fields:[{type:"raw",field:"zKey"}],unique:!1},zSize:{name:"zSize",fields:[{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zDate:{name:"zDate",fields:[{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0},zConv_zSize:{name:"zConv_zSize",fields:[{type:"raw",field:"zConv"},{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zConv_zDate:{name:"zConv_zDate",fields:[{type:"raw",field:"zConv"},{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0},zType_zSize:{name:"zType_zSize",fields:[{type:"raw",field:"zType"},{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zType_zDate:{name:"zType_zDate",fields:[{type:"raw",field:"zType"},{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0}}});a.setAdapterSpecificConfigs(i.a.IDB,{migrations:{58:{version:58,scripts:[{type:"create-table"}]},61:{version:61,scripts:[{type:"create-index",params:{indexName:"zKey"}}]},64:{version:64,scripts:[{type:"create-index",params:{indexName:"zSize"}},{type:"create-index",params:{indexName:"zDate"}},{type:"create-index",params:{indexName:"zConv_zSize"}},{type:"create-index",params:{indexName:"zConv_zDate"}},{type:"create-index",params:{indexName:"zType_zSize"}},{type:"create-index",params:{indexName:"zType_zDate"}}]}}});var c=n("C9Dv"),u=n("mpOJ"),l=n("yi2h");const d=new s.d({tableName:"avatar",name:"Avatar",fields:{userId:{name:"userId",type:i.h.string},url:{name:"url",type:i.h.string},blob:Object(l.a)({name:"blob"},u.a.Blob)},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),f=new s.d({tableName:"ava_history",name:"AvaHistory",fields:{submit_dttm:{name:"submit_dttm",type:i.h.integer},avaBlob:Object(l.a)({name:"avaBlob"},u.a.Blob),orient:{name:"orient",type:i.h.json},size:{name:"size",type:i.h.json},fileName:{name:"fileName",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"submit_dttm"}],unique:!0}}}),p=new s.d({tableName:"board_suggest",name:"BoardSuggest",fields:{groupId:{name:"groupId",type:i.h.string},actionId:{name:"actionId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"groupId"},{type:"raw",field:"actionId"}],unique:!0}}}),h=new s.d({tableName:"catalog_db",name:"CatalogDb",fields:{ownerId:{name:"ownerId",type:i.h.string},isDefault:{name:"isDefault",type:i.h.boolean,default:!1},created_time:{name:"created_time",type:i.h.integer,default:0},catalog_id:{name:"catalog_id",type:i.h.string},catalog_name:{name:"catalog_name",type:i.h.string},version_catalog:{name:"version_catalog",type:i.h.integer,default:0},catalog_photo:{name:"catalog_photo",type:i.h.string,default:""},totalProduct:{name:"totalProduct",type:i.h.integer,default:0},path:{name:"path",type:i.h.string,default:""}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"catalog_id"}],unique:!0}}}),y=new s.d({tableName:"cloud_segment",name:"CloudSegment",fields:{cloudFirstSmsLocalId:{name:"cloudFirstSmsLocalId",type:i.h.string,nullable:!0},cloudSegmentCheck:{name:"cloudSegmentCheck",type:i.h.json,default:[]},cloudSegmentCheckAutoFetch:{name:"cloudSegmentCheckAutoFetch",type:i.h.json,default:[]},conversationId:{name:"conversationId",type:i.h.string},hasMore:{name:"hasMore",type:i.h.integer,default:1},lastCloudVerifiedDttm:{name:"lastCloudVerifiedDttm",type:i.h.integer,nullable:!0},lastDeletedMsgID:{name:"lastDeletedMsgID",type:i.h.integer,nullable:!0},lastGetMaxRecentTs:{name:"lastGetMaxRecentTs",type:i.h.integer,nullable:!0},maxCloudMsgId:{name:"maxCloudMsgId",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}});var m=n("4W2c");const g=new s.d({tableName:"conversation",name:"Conversation",fields:{userId:{name:"userId",type:i.h.string},localType:{name:"localType",type:i.h.integer,nullable:!0},outside:{name:"outside",type:i.h.integer,nullable:!0},isGroup:{name:"isGroup",type:i.h.boolean,nullable:!0},firstSmsLocalId:{name:"firstSmsLocalId",type:i.h.string,nullable:!0},respondedByMe:{name:"respondedByMe",type:i.h.boolean,nullable:!0},numMsg:{name:"numMsg",type:i.h.integer,nullable:!0},infoCheckSearch:{name:"infoCheckSearch",type:i.h.json,nullable:!0},syncFromMobile:{name:"syncFromMobile",type:i.h.boolean,nullable:!0},lastActionId:{name:"lastActionId",type:i.h.string,nullable:!0},lastSmsLocalId:{name:"lastSmsLocalId",type:i.h.string,nullable:!0},topOut:{name:"topOut",type:i.h.string,nullable:!0},topOutImprTimeOut:{name:"topOutImprTimeOut",type:i.h.string,nullable:!0},topOutTimeOut:{name:"topOutTimeOut",type:i.h.string,nullable:!0},pinned:{name:"pinned",type:i.h.integer,nullable:!0},label:{name:"label",type:i.h.integer,nullable:!0},preLastSmsLocalId:{name:"preLastSmsLocalId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}},transforms:[new m.a(["previewMessage"])]});g.setAdapterSpecificConfigs(i.a.IDB,{}),g.setAdapterSpecificConfigs(i.a.SQLite,{});const _=new s.d({tableName:"download_retry",name:"DownloadRetry",fields:{url:{name:"url",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"url"}],unique:!0}}}),v=new s.d({tableName:"e2ee_group",name:"E2eeGroup",fields:{id:{name:"id",type:i.h.string},sessions:{name:"sessions",type:i.h.json,nullable:!0},sessionsInfo:{name:"sessionsInfo",type:i.h.json,nullable:!0},enabledGroups:{name:"enabledGroups",type:i.h.json,nullable:!0},refetchedUsers:{name:"refetchedUsers",type:i.h.json,nullable:!0},rqdReinitGroups:{name:"rqdReinitGroups",type:i.h.json,nullable:!0},rqdResetKey:{name:"rqdResetKey",type:i.h.json,nullable:!0},staleUsers:{name:"staleUsers",type:i.h.json,nullable:!0},ts:{name:"ts",type:i.h.integer,nullable:!0},cipherId:{name:"cipherId",type:i.h.string,nullable:!0},resetKeyAt:{name:"resetKeyAt",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});v.setAdapterSpecificConfigs(i.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"},{type:"add-column",params:{columns:["cipherId","rqdResetKey"]}}]},60:{version:60,scripts:[{type:"add-column",params:{columns:["resetKeyAt"]}}]}}});const b=new s.d({tableName:"e2ee_hash",name:"E2eeHash",fields:{sha256:{name:"sha256",type:i.h.string},ts:{name:"ts",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"sha256"}],unique:!0}}});b.setAdapterSpecificConfigs(i.a.IDB,{migrations:{53:{version:53,scripts:[{type:"create-table"}]}}});const w=new s.d({tableName:"e2ee_identity",name:"E2eeIdentity",fields:{keyId:{name:"keyId",type:i.h.string},keyPair:{name:"keyPair",type:i.h.json},ts:{name:"ts",type:i.h.integer,nullable:!0},regId:{name:"regId",type:i.h.integer,nullable:!0},version:{name:"version",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0}}});w.setAdapterSpecificConfigs(i.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"}]}}});const E=new s.d({tableName:"e2ee_meta",name:"E2eeMeta",fields:{identifier:{name:"identifier",type:i.h.string},devices:{name:"devices",type:i.h.json},errorInitAll:{name:"errorInitAll",type:i.h.boolean,nullable:!0},waiting:{name:"waiting",type:i.h.boolean,nullable:!0},upgrading:{name:"upgrading",type:i.h.boolean,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"identifier"}],unique:!0}}}),S=new s.d({tableName:"e2ee_prekey",name:"E2eePrekey",fields:{keyId:{name:"keyId",type:i.h.integer},keyPair:{name:"keyPair",type:i.h.json},ts:{name:"ts",type:i.h.integer,nullable:!0},regId:{name:"regId",type:i.h.integer,nullable:!0},version:{name:"version",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0},regId:{name:"regId",fields:[{type:"raw",field:"regId"}],unique:!1}}});S.setAdapterSpecificConfigs(i.a.IDB,{migrations:{55:{version:55,scripts:[{type:"add-column",params:{columns:["ts","regId","version"]}},{type:"create-index",params:{indexName:"regId"}}]}}});const T=new s.d({tableName:"e2ee_session",name:"E2eeSession",fields:{identifier:{name:"identifier",type:i.h.string},record:{name:"record",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"identifier"}],unique:!0}}}),I=new s.d({tableName:"e2ee_signed_prekey",name:"E2eeSignedPrekey",fields:{keyId:{name:"keyId",type:i.h.integer},keyPair:{name:"keyPair",type:i.h.json},ts:{name:"ts",type:i.h.integer,nullable:!0},regId:{name:"regId",type:i.h.integer,nullable:!0},version:{name:"version",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0}}});I.setAdapterSpecificConfigs(i.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"}]}}});const O=new s.d({tableName:"file",name:"File",fields:{msgId:{name:"msgId",type:i.h.string},userId:{name:"userId",type:i.h.string},message:{name:"message",type:i.h.json},sendDttm:{name:"sendDttm",type:i.h.integer},fromUid:{name:"fromUid",type:i.h.string,nullable:!0},type:{name:"type",type:i.h.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.string,nullable:!0},id:{name:"id",type:i.h.integer,nullable:!0},updateTime:{name:"updateTime",type:i.h.integer,nullable:!0},localPath:{name:"localPath",type:i.h.string,nullable:!0},downloadError:{name:"downloadError",type:i.h.boolean,nullable:!0},folderPath:{name:"folderPath",type:i.h.string,nullable:!0},dimension:{name:"dimension",type:i.h.json,nullable:!0},previewThumb:{name:"previewThumb",nullable:!0,type:i.h.string},ttl:{name:"ttl",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},sendDttm:{name:"sendDttm",fields:[{type:"raw",field:"sendDttm"}],unique:!1},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),C=new s.d({tableName:"friend",name:"Friend",fields:{userId:{name:"userId",type:i.h.string},username:{name:"username",type:i.h.string,nullable:!0},displayName:{name:"displayName",type:i.h.string},zaloName:{name:"zaloName",type:i.h.string},avatar:{name:"avatar",type:i.h.string},bgavatar:{name:"bgavatar",type:i.h.string,nullable:!0},cover:{name:"cover",type:i.h.string,nullable:!0},gender:{name:"gender",type:i.h.integer,nullable:!0},dob:{name:"dob",type:i.h.integer,default:0},sdob:{name:"sdob",type:i.h.string,default:""},status:{name:"status",type:i.h.string,nullable:!0},phoneNumber:{name:"phoneNumber",type:i.h.string,default:""},isFr:{name:"isFr",type:i.h.integer},isBlocked:{name:"isBlocked",type:i.h.integer,nullable:!0},lastActionTime:{name:"lastActionTime",type:i.h.integer,nullable:!0},lastUpdateTime:{name:"lastUpdateTime",type:i.h.integer,nullable:!0},isActive:{name:"isActive",type:i.h.integer,nullable:!0},key:{name:"key",type:i.h.integer,nullable:!0},type:{name:"type",type:i.h.integer},isActivePC:{name:"isActivePC",type:i.h.integer,nullable:!0},isActiveWeb:{name:"isActiveWeb",type:i.h.integer,nullable:!0},isValid:{name:"isValid",type:i.h.integer,nullable:!0},userKey:{name:"userKey",type:i.h.string,nullable:!0},accountStatus:{name:"accountStatus",type:i.h.integer,nullable:!0},oaInfo:{name:"oaInfo",type:i.h.json,nullable:!0},user_mode:{name:"user_mode",type:i.h.integer,nullable:!0},globalId:{name:"globalId",type:i.h.string,nullable:!0},createdTs:{name:"createdTs",type:i.h.integer,nullable:!0},lastOnlineTime:{name:"lastOnlineTime",type:i.h.integer,nullable:!0},_lastRequestTime:{name:"_lastRequestTime",type:i.h.integer,nullable:!0},bizInfo:{name:"bizInfo",type:i.h.json,nullable:!0},globalNoiseId:{name:"globalNoiseId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),P=new s.d({tableName:"friends_info",name:"FriendsInfo",fields:{userId:{name:"userId",type:i.h.string},username:{name:"username",type:i.h.string,nullable:!0},displayName:{name:"displayName",type:i.h.string},zaloName:{name:"zaloName",type:i.h.string},avatar:{name:"avatar",type:i.h.string},bgavatar:{name:"bgavatar",type:i.h.string,default:""},cover:{name:"cover",type:i.h.string,nullable:!0},gender:{name:"gender",type:i.h.integer,nullable:!0},dob:{name:"dob",type:i.h.integer,default:0},sdob:{name:"sdob",type:i.h.string,default:""},status:{name:"status",type:i.h.string,nullable:!0},phoneNumber:{name:"phoneNumber",type:i.h.string,default:""},isFr:{name:"isFr",type:i.h.integer,default:0},isBlocked:{name:"isBlocked",type:i.h.integer,nullable:!0},lastActionTime:{name:"lastActionTime",type:i.h.integer,nullable:!0},lastUpdateTime:{name:"lastUpdateTime",type:i.h.integer,nullable:!0},isActive:{name:"isActive",type:i.h.integer,nullable:!0},key:{name:"key",type:i.h.integer,nullable:!0},type:{name:"type",type:i.h.integer},isActivePC:{name:"isActivePC",type:i.h.integer,nullable:!0},isActiveWeb:{name:"isActiveWeb",type:i.h.integer,nullable:!0},isValid:{name:"isValid",type:i.h.integer,nullable:!0},userKey:{name:"userKey",type:i.h.string,nullable:!0},accountStatus:{name:"accountStatus",type:i.h.integer,nullable:!0},oaInfo:{name:"oaInfo",type:i.h.json,nullable:!0},user_mode:{name:"user_mode",type:i.h.integer,nullable:!0},globalId:{name:"globalId",type:i.h.string,nullable:!0},createdTs:{name:"createdTs",type:i.h.integer,nullable:!0},lastOnlineTime:{name:"lastOnlineTime",type:i.h.integer,nullable:!0},friendRequestFetchTime:{name:"friendRequestFetchTime",type:i.h.integer,nullable:!0},friendRequestRead:{name:"friendRequestRead",type:i.h.boolean,nullable:!0},_lastRequestTime:{name:"_lastRequestTime",type:i.h.integer,nullable:!0},friendRequestMsg:{name:"friendRequestMsg",type:i.h.string,nullable:!0},friendRequestSource:{name:"friendRequestSource",type:i.h.integer,nullable:!0},friendRequestType:{name:"friendRequestType",type:i.h.integer,nullable:!0},friendRequestSrc:{name:"friendRequestSrc",type:i.h.integer,nullable:!0},friendRequestSortOrder:{name:"friendRequestSortOrder",type:i.h.integer,nullable:!0},userRank:{name:"userRank",type:i.h.string,nullable:!0},bizPkg:{name:"bizPkg",type:i.h.json,nullable:!0},bizInfo:{name:"bizInfo",type:i.h.json,nullable:!0},globalNoiseId:{name:"globalNoiseId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),A=new s.d({tableName:"global_noiseid",name:"GlobalNoiseid",fields:{userId:{name:"userId",type:i.h.string},globalId:{name:"globalId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalId"}],unique:!0}}}),k=new s.d({tableName:"group",name:"Group",fields:{desc:{name:"desc",type:i.h.string},type:{name:"type",type:i.h.integer},creatorId:{name:"creatorId",type:i.h.string},totalMember:{name:"totalMember",type:i.h.integer},topMember:{name:"topMember",type:i.h.json},topic:{name:"topic",type:i.h.json,nullable:!0},visibility:{name:"visibility",type:i.h.integer},userId:{name:"userId",type:i.h.string},isGroup:{name:"isGroup",type:i.h.boolean},displayName:{name:"displayName",type:i.h.string},avatar:{name:"avatar",type:i.h.string},bgavatar:{name:"bgavatar",type:i.h.string},authorId:{name:"authorId",type:i.h.string,nullable:!0},lastUpdate:{name:"lastUpdate",type:i.h.integer,nullable:!0},defaultAvatar:{name:"defaultAvatar",type:i.h.boolean,nullable:!0},memberIds:{name:"memberIds",type:i.h.json,nullable:!0},e2ee:{name:"e2ee",type:i.h.integer,nullable:!0},version:{name:"version",type:i.h.string,nullable:!0},subType:{name:"subType",type:i.h.integer,nullable:!0},globalId:{name:"globalId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),j=new s.d({tableName:"group_info",name:"GroupInfo",fields:{memberIds:{name:"memberIds",type:i.h.json},maxMember:{name:"maxMember",type:i.h.integer},setting:{name:"setting",type:i.h.json},lastUpdate:{name:"lastUpdate",type:i.h.integer},topMember:{name:"topMember",type:i.h.json},pendingApproveHintShow:{name:"pendingApproveHintShow",type:i.h.integer,nullable:!0},pendingApproveUsers:{name:"pendingApproveUsers",type:i.h.json,nullable:!0},userId:{name:"userId",type:i.h.string},pendingApprove:{name:"pendingApprove",type:i.h.integer,nullable:!0},adminIds:{name:"adminIds",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),D=new s.d({tableName:"group_topics",name:"GroupTopics",fields:{conversationId:{name:"conversationId",type:i.h.string},topics:{name:"topics",type:i.h.json},boardVersion:{name:"boardVersion",type:i.h.integer},lastFetch:{name:"lastFetch",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}}),R=new s.d({tableName:"image",name:"Image",fields:{msgId:{name:"msgId",type:i.h.string},userId:{name:"userId",type:i.h.string},message:{name:"message",type:i.h.json},sendDttm:{name:"sendDttm",type:i.h.integer},fromUid:{name:"fromUid",type:i.h.string,nullable:!0},subType:{name:"subType",type:i.h.integer,nullable:!0},type:{name:"type",type:i.h.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.string,nullable:!0},localPath:{name:"localPath",type:i.h.string,nullable:!0},id:{name:"id",type:i.h.integer,nullable:!0},previewThumb:{name:"previewThumb",type:i.h.string,nullable:!0},updateTime:{name:"updateTime",type:i.h.integer,nullable:!0},ttl:{name:"ttl",type:i.h.integer},width:{name:"width",type:i.h.integer,nullable:!0},height:{name:"height",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),x=new s.d({tableName:"label",name:"Label",fields:{color:{name:"color",type:i.h.string},createTime:{name:"createTime",type:i.h.integer},emoji:{name:"emoji",type:i.h.string,nullable:!0},id:{name:"id",type:i.h.integer},conversations:{name:"conversations",type:i.h.json},offset:{name:"offset",type:i.h.integer},text:{name:"text",type:i.h.string},textKey:{name:"textKey",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),N=new s.d({tableName:"link",name:"Link",fields:{msgId:{name:"msgId",type:i.h.string},userId:{name:"userId",type:i.h.string},message:{name:"message",type:i.h.json},sendDttm:{name:"sendDttm",type:i.h.integer},fromUid:{name:"fromUid",type:i.h.string,nullable:!0},type:{name:"type",type:i.h.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.string,nullable:!0},id:{name:"id",type:i.h.integer,nullable:!0},updateTime:{name:"updateTime",type:i.h.integer,nullable:!0},ttl:{name:"ttl",type:i.h.integer},previewThumb:{name:"previewThumb",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),M=new s.d({tableName:"mention",name:"Mention",fields:{msgId:{name:"msgId",type:i.h.integer},userId:{name:"userId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}});const L=new s.d({tableName:"message",name:"Message",fields:{msgId:{name:"msgId",type:i.h.string},cliMsgId:{name:"cliMsgId",type:i.h.string},toUid:{name:"toUid",type:i.h.string,nullable:!0},msgType:{name:"msgType",type:i.h.integer},sendDttm:{name:"sendDttm",type:i.h.string},message:{name:"message",type:i.h.json},updateMemberIds:{name:"updateMemberIds",type:i.h.json,nullable:!0},act:{name:"act",type:i.h.string,nullable:!0},action:{name:"action",type:i.h.string,nullable:!0},eventInfo:{name:"eventInfo",type:i.h.json,nullable:!0},src:{name:"src",type:i.h.integer,nullable:!0},status:{name:"status",type:i.h.integer,nullable:!0},notify:{name:"notify",type:i.h.string,nullable:!0},mentions:{name:"mentions",type:i.h.json,nullable:!0},quote:{name:"quote",type:i.h.json,nullable:!0},serverTime:{name:"serverTime",type:i.h.string,nullable:!0},fromUid:{name:"fromUid",type:i.h.string,nullable:!0},dName:{name:"dName",type:i.h.string,nullable:!0},localDttm:{name:"localDttm",type:i.h.integer,nullable:!0},ttl:{name:"ttl",type:i.h.integer,nullable:!0},st:{name:"st",type:i.h.integer,nullable:!0},at:{name:"at",type:i.h.integer,nullable:!0},cmd:{name:"cmd",type:i.h.integer,nullable:!0},originMsgType:{name:"originMsgType",type:i.h.string,nullable:!0},subState:{name:"subState",type:i.h.integer,nullable:!0},e2eeStatus:{name:"e2eeStatus",type:i.h.integer,nullable:!0},sequenseId:{name:"sequenseId",type:i.h.integer,nullable:!0},isLocalMsgId:{name:"isLocalMsgId",type:i.h.boolean,nullable:!0},properties:{name:"properties",type:i.h.json,nullable:!0},originTs:{name:"originTs",type:i.h.string,nullable:!0},subType:{name:"subType",type:i.h.integer,nullable:!0},localPath:{name:"localPath",type:i.h.string,nullable:!0},folderPath:{name:"folderPath",type:i.h.string,nullable:!0},root:{name:"root",type:i.h.integer,nullable:!0},syncFromMobile:{name:"syncFromMobile",type:i.h.boolean,nullable:!0},topOut:{name:"topOut",type:i.h.string,nullable:!0},topOutTimeOut:{name:"topOutTimeOut",type:i.h.string,nullable:!0},topOutImprTimeOut:{name:"topOutImprTimeOut",type:i.h.string,nullable:!0},previewThumb:{name:"previewThumb",type:i.h.string,nullable:!0},refMessageId:{name:"refMessageId",type:i.h.string,nullable:!0},urgency:{name:"urgency",type:i.h.integer,nullable:!0},dimension:{name:"dimension",type:i.h.json,nullable:!0},extra:{name:"extra",type:i.h.json,nullable:!0},_friendRequestData:{name:"_friendRequestData",type:i.h.json,nullable:!0},content:{name:"content",type:i.h.string,nullable:!0},isErrorInfo:{name:"isErrorInfo",type:i.h.boolean,nullable:!0},hasReact:{name:"hasReact",type:i.h.boolean,nullable:!0},uidSenderDel:{name:"uidSenderDel",type:i.h.string,nullable:!0},footer:{name:"footer",type:i.h.json,nullable:!0},sendErrorCode:{name:"sendErrorCode",type:i.h.integer,nullable:!0},__isUpdateMessage:{name:"__isUpdateMessage",type:i.h.boolean,nullable:!0},__updateData:{name:"__updateData",type:i.h.json,nullable:!0},width:{name:"width",type:i.h.integer,nullable:!0},height:{name:"height",type:i.h.integer,nullable:!0},zipKey:{name:"zipKey",type:i.h.string,nullable:!0},resend:{name:"resend",type:i.h.json,nullable:!0},forwardFail:{name:"forwardFail",type:i.h.string,nullable:!0},cancelled:{name:"cancelled",type:i.h.boolean,nullable:!0},z_parsedTokens:{name:"z_parsedTokens",type:i.h.json,nullable:!0},isLastMsg:{name:"isLastMsg",type:i.h.boolean,nullable:!0},isSelected:{name:"isSelected",type:i.h.boolean,nullable:!0},textArguments:{name:"textArguments",type:i.h.json,nullable:!0},msgText:{name:"msgText",type:i.h.string,nullable:!0},actionText:{name:"actionText",type:i.h.string,nullable:!0},platformType:{name:"platformType",type:i.h.integer,nullable:!0},oldMsgId:{name:"oldMsgId",type:i.h.string,nullable:!0},vOrient:{name:"vOrient",type:i.h.integer,nullable:!0},fileSize:{name:"fileSize",type:i.h.integer,nullable:!0},upSrc:{name:"upSrc",type:i.h.integer,nullable:!0},reader:{name:"reader",type:i.h.integer,nullable:!0},sequenceId:{name:"sequenceId",type:i.h.integer,nullable:!0},staredDttm:{name:"staredDttm",type:i.h.integer,nullable:!0},reference:{name:"reference",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"msgId"}],unique:!0},cliMsgIdIndex:{name:"cliMsgIdIndex",table:!0,fields:[{type:"raw",field:"cliMsgId"}],unique:!1},status_sendDttm:{name:"status_sendDttm",table:!0,fields:[{type:"raw",field:"status"},{type:"raw",field:"sendDttm"}],unique:!1}},transforms:[new m.a(["message"])]});L.setAdapterSpecificConfigs(i.a.IDB,{}),L.setAdapterSpecificConfigs(i.a.SQLite,{partitionField:"toUid",corruptionImpact:i.b.IMPACT_PARTIAL});const B=new s.d({tableName:"notifications",name:"Notifications",fields:{type:{name:"type",type:i.h.integer},uid:{name:"uid",type:i.h.string},ts:{name:"ts",type:i.h.integer},toUid:{name:"toUid",type:i.h.string,nullable:!0},msgId:{name:"msgId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"ts"}],unique:!0}}}),F=new s.d({tableName:"poll",name:"Poll",fields:{group_id:{name:"group_id",type:i.h.string,nullable:!0},updater:{name:"updater",type:i.h.string,nullable:!0},creator:{name:"creator",type:i.h.string},question:{name:"question",type:i.h.string},options:{name:"options",type:i.h.json},joined:{name:"joined",type:i.h.boolean},closed:{name:"closed",type:i.h.boolean},poll_id:{name:"poll_id",type:i.h.integer},allow_multi_choices:{name:"allow_multi_choices",type:i.h.boolean},allow_add_new_option:{name:"allow_add_new_option",type:i.h.boolean},is_anonymous:{name:"is_anonymous",type:i.h.boolean},poll_type:{name:"poll_type",type:i.h.integer},created_time:{name:"created_time",type:i.h.integer},updated_time:{name:"updated_time",type:i.h.integer},expired_time:{name:"expired_time",type:i.h.integer},is_hide_vote_preview:{name:"is_hide_vote_preview",type:i.h.boolean,nullable:!0},poll_version:{name:"poll_version",type:i.h.integer,nullable:!0},msgId:{name:"msgId",type:i.h.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.string,nullable:!0},id:{name:"id",type:i.h.integer,nullable:!0},num_vote:{name:"num_vote",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"poll_id"}],unique:!0}}}),U=new s.d({tableName:"preview_message",name:"PreviewMsg",fields:{convId:{name:"convId",type:i.h.string},msgId:{name:"msgId",type:i.h.string},dName:{name:"dName",type:i.h.string},message:{name:"message",type:i.h.json},messageType:{name:"messageType",type:i.h.json},messageTime:{name:"messageTime",type:i.h.string},isGroup:{name:"isGroup",type:i.h.boolean},fromUid:{name:"fromUid",type:i.h.string,nullable:!0},toUid:{name:"toUid",type:i.h.string,nullable:!0},urgencyLevel:{name:"urgencyLevel",type:i.h.integer,nullable:!0},properties:{name:"properties",type:i.h.json,nullable:!0},mentions:{name:"mentions",type:i.h.json,nullable:!0},ttl:{name:"ttl",type:i.h.integer,nullable:!0},cliMsgId:{name:"cliMsgId",type:i.h.string,nullable:!0},status:{name:"status",type:i.h.integer},substate:{name:"substate",type:i.h.integer,nullable:!0},computedMessage:{name:"computedMessage",type:i.h.string,nullable:!0},computedIcon:{name:"computedIcon",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"}],unique:!0},userId_sendDttm_msgId:{name:"messageTime",fields:[{type:"raw",field:"messageTime"}],unique:!1}},transforms:[new m.a(["message"])]});U.setAdapterSpecificConfigs(i.a.IDB,{migrations:{52:{version:52,scripts:[{type:"create-table"}]}}}),U.setAdapterSpecificConfigs(i.a.SQLite,{});const z=new s.d({tableName:"product_db",name:"ProductDb",fields:{price:{name:"price",type:i.h.string},description:{name:"description",type:i.h.string},product_id:{name:"product_id",type:i.h.string},product_name:{name:"product_name",type:i.h.string},currency_unit:{name:"currency_unit",type:i.h.string},product_photos:{name:"product_photos",type:i.h.json},create_time:{name:"create_time",type:i.h.integer},catalog_id:{name:"catalog_id",type:i.h.string},owner_id:{name:"owner_id",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"product_id"}],unique:!0}}}),q=new s.d({tableName:"quick_message",name:"QuickMessage",fields:{id:{name:"id",type:i.h.integer},keyword:{name:"keyword",type:i.h.string},type:{name:"type",type:i.h.integer},createdTime:{name:"createdTime",type:i.h.integer},lastModified:{name:"lastModified",type:i.h.integer},message:{name:"message",type:i.h.json},media:{name:"media",type:i.h.json,nullable:!0},version:{name:"version",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}},transforms:[new m.a(["message","media"])]});q.setAdapterSpecificConfigs(i.a.IDB,{}),q.setAdapterSpecificConfigs(i.a.SQLite,{});const G=new s.d({tableName:"star_message",name:"StarMessage",fields:{msgId:{name:"msgId",type:i.h.string},userId:{name:"userId",type:i.h.string},staredDttm:{name:"staredDttm",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},staredDttm:{name:"staredDttm",fields:[{type:"raw",field:"staredDttm"}],unique:!1}}}),$=new s.d({tableName:"sticker",name:"Sticker",fields:{id:{name:"id",type:i.h.integer},cateId:{name:"cateId",type:i.h.integer},type:{name:"type",type:i.h.integer},text:{name:"text",type:i.h.string},uri:{name:"uri",type:i.h.string},fkey:{name:"fkey",type:i.h.integer},status:{name:"status",type:i.h.integer},stickerUrl:{name:"stickerUrl",type:i.h.string},stickerSpriteUrl:{name:"stickerSpriteUrl",type:i.h.string},stickerWebpUrl:{name:"stickerWebpUrl",type:i.h.string,nullable:!0},totalFrames:{name:"totalFrames",type:i.h.integer},duration:{name:"duration",type:i.h.integer},effectId:{name:"effectId",type:i.h.integer},checksum:{name:"checksum",type:i.h.string,nullable:!0},ext:{name:"ext",type:i.h.integer,nullable:!0},source:{name:"source",type:i.h.integer,nullable:!0},fss:{name:"fss",type:i.h.string,nullable:!0},fssInfo:{name:"fssInfo",type:i.h.string,nullable:!0},version:{name:"version",type:i.h.integer,nullable:!0},extInfo:{name:"extInfo",type:i.h.json,nullable:!0},fetchTs:{name:"fetchTs",type:i.h.integer},updateState:{name:"updateState",type:i.h.integer,nullable:!0},recentItemType:{name:"recentItemType",type:i.h.string,nullable:!0},recentItemId:{name:"recentItemId",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"cateId"},{type:"raw",field:"id"}],unique:!0}}}),H=new s.d({tableName:"todo",name:"Todo",fields:{id:{name:"id",type:i.h.string},creator:{name:"creator",type:i.h.string},updateTime:{name:"updateTime",type:i.h.integer},createTime:{name:"createTime",type:i.h.integer},assignees:{name:"assignees",type:i.h.json},dueDate:{name:"dueDate",type:i.h.integer},content:{name:"content",type:i.h.string},description:{name:"description",type:i.h.string},extra:{name:"extra",type:i.h.json},dateDefaultType:{name:"dateDefaultType",type:i.h.integer},status:{name:"status",type:i.h.integer},watchers:{name:"watchers",type:i.h.json},personalBoardType:{name:"personalBoardType",type:i.h.integer},dingTimes:{name:"dingTimes",type:i.h.integer,nullable:!0},schedule:{name:"schedule",type:i.h.json,nullable:!0},attach:{name:"attach",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),Q=new s.d({tableName:"topic_v2",name:"Topic",fields:{editorId:{name:"editorId",type:i.h.string,nullable:!0},emoji:{name:"emoji",type:i.h.string},color:{name:"color",type:i.h.integer},groupId:{name:"groupId",type:i.h.string},creatorId:{name:"creatorId",type:i.h.string,nullable:!0},editTime:{name:"editTime",type:i.h.integer},eventType:{name:"eventType",type:i.h.integer,nullable:!0},responseMem:{name:"responseMem",type:i.h.json,nullable:!0},params:{name:"params",type:i.h.json},type:{name:"type",type:i.h.integer},duration:{name:"duration",type:i.h.integer,nullable:!0},repeatData:{name:"repeatData",type:i.h.json,nullable:!0},createTime:{name:"createTime",type:i.h.integer},repeat:{name:"repeat",type:i.h.integer},startTime:{name:"startTime",type:i.h.integer},id:{name:"id",type:i.h.string},action:{name:"action",type:i.h.integer,nullable:!0},listRespMem:{name:"listRespMem",type:i.h.json,nullable:!0},creatorUid:{name:"creatorUid",type:i.h.string,nullable:!0},toUid:{name:"toUid",type:i.h.string,nullable:!0},editorUid:{name:"editorUid",type:i.h.string,nullable:!0},repeatInfo:{name:"repeatInfo",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"groupId"},{type:"raw",field:"id"}],unique:!0}}}),K=new s.d({tableName:"ttlmsg",name:"TTLMessage",fields:{globalDelMsgId:{name:"globalDelMsgId",type:i.h.string},ts:{name:"ts",type:i.h.string},expired:{name:"expired",type:i.h.integer},type:{name:"type",type:i.h.integer},conversationId:{name:"conversationId",type:i.h.string},clientDelMsgId:{name:"clientDelMsgId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalDelMsgId"}],unique:!0},expired:{name:"expired",fields:[{type:"raw",field:"expired"}],unique:!1}}}),Y=new s.d({tableName:"unread_conv",name:"UnreadConv",fields:{convId:{name:"convId",type:i.h.string},smsUnreadCount:{name:"smsUnreadCount",type:i.h.integer},smsUnreadNotCount:{name:"smsUnreadNotCount",type:i.h.integer},mentionUnreadCount:{name:"mentionUnreadCount",type:i.h.integer},strangerUnreadCount:{name:"strangerUnreadCount",type:i.h.integer},lastProcessMsgId:{name:"lastProcessMsgId",type:i.h.string},lastSeenReactId:{name:"lastSeenReactId",type:i.h.string},unreadMark:{name:"unreadMark",type:i.h.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"}],unique:!0},userId_sendDttm_msgId:{name:"lastProcessMsgId",fields:[{type:"raw",field:"lastProcessMsgId"}],unique:!1}}});Y.setAdapterSpecificConfigs(i.a.IDB,{migrations:{52:{version:52,scripts:[{type:"create-table"}]}}});const V=new s.d({tableName:"uploaded_file_thumb",name:"UploadFileThumb",fields:{checksum:{name:"checksum",type:i.h.string},url:{name:"url",type:i.h.string},dimension:{name:"dimension",type:i.h.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"checksum"}],unique:!0}}});new s.d({tableName:"zinstant_db",name:"ZInstant",fields:{data:{name:"data",type:i.h.string},modify_time:{name:"modify_time",type:i.h.integer},key:{name:"key",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}).setAdapterSpecificConfigs(i.a.IDB,{migrations:{60:{version:60,scripts:[{type:"create-table"}]}}});const W=new s.d({tableName:"e2ee_deciphered",name:"E2eeDeciphered",fields:{key:{name:"key",type:i.h.string},content:{name:"content",type:i.h.string},ts:{name:"ts",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}});W.setAdapterSpecificConfigs(i.a.IDB,{migrations:{63:{version:63,scripts:[{type:"create-table"}]}}});const Z=new s.d({tableName:"temp_blob",name:"TempBlob",fields:{clientId:{name:"clientId",type:i.h.integer},data:Object(l.a)({name:"data"},u.a.Blob)},indices:{primary:{name:"primary",fields:[{type:"raw",field:"clientId"}],unique:!0}}});Z.setAdapterSpecificConfigs(i.a.IDB,{migrations:{65:{version:65,scripts:[{type:"create-table"}]}}}),Z.setAdapterSpecificConfigs(i.a.SQLite,{});const J={Avatar:d,AvaHistory:f,BoardSuggest:p,CloudSegment:y,Conversation:g,DownloadRetry:_,File:O,Friend:C,FriendsInfo:P,Group:k,GroupInfo:j,GroupTopics:D,Image:R,Label:x,Link:N,Mention:M,Message:L,Notifications:B,Poll:F,StarMessage:G,Sticker:$,Todo:H,Topic:Q,TTLMessage:K,E2eeMeta:E,E2eePrekey:S,E2eeSession:T,E2eeIdentity:w,E2eeSignedPrekey:I,E2eeGroup:v,E2eeHash:b,E2eeDeciphered:W,QuickMessage:q,GlobalNoiseid:A,UploadFileThumb:V,ProductDb:z,CatalogDb:h,PreviewMsg:U,UnreadConv:Y,ZCloud:a};J.TempBlob=Z;const X={name:"Core",session:!0},ee={partitionNamingStrategy:[o.a.byUser(),o.a.const("Core")],partitionsMap:Object(c.a)(J)},te={partitionNamingStrategy:[o.a.const("zdb"),o.a.byUser()],partitionsMap:Object(c.a)(J)},ne=Object(r.a)(Object(r.a)(Object(r.a)({},X),ee),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_FULL}),re=Object(r.a)(Object(r.a)(Object(r.a)({},X),te),{},{version:65,milestoneVersion:51,type:i.a.IDB});let ie=null,oe=null;t.a={baseConfig:X,schema:J,get useSqlite(){return null===ie&&(ie=new s.a(ne)),ie},get useIdb(){return null===oe&&(oe=new s.a(re)),oe}}},oRuE:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},oXif:function(e,t,n){"use strict";const r=n("DadK"),i=n("oyvS"),o=n("ot/0").invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const u=n.fs||r;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=i.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(l){if("ENOENT"===l.code){if(i.dirname(t)===t)throw l;a=e(i.dirname(t),n,a),e(t,n,a)}else{let e;try{e=u.statSync(t)}catch(d){throw l}if(!e.isDirectory())throw l}}return a}},ohhZ:function(e,t,n){},okAK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;return n=>(null==t&&(t=e(n)),t)}},"ot/0":function(e,t,n){"use strict";const r=n("oyvS");function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),o.test(e)}}},oxjq:function(e,t,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},oyvS:function(e,t){e.exports=require("path")},pA7S:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=t[(a[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(a[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=u[c][((s^i[c])&l[c])>>>0];this._lBlock=s,this._rBlock=o^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(d);var h=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=d.createEncryptor(n.create(e.slice(0,2))),this._des2=d.createEncryptor(n.create(e.slice(2,4))),this._des3=d.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(h)}(),r.TripleDES)},pMzR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("rCOr"),o=n("uS0h"),s=n("PvD+");function a(e,t,n,o){i.assertEnoughData(e,t,n+o);const a=s.slice(e,t+n,t+n+o);return new r.Token(r.Type.bytes,a,n+o)}function c(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===r.Type.string?s.fromString(e.value):e.value),e.encodedBytes}function u(e,t){const n=c(t);o.encodeUintValue(e,t.type.majorEncoded,n.length),e.push(n)}function l(e,t){return e.length<t.length?-1:e.length>t.length?1:s.compare(e,t)}u.encodedSize=function(e){const t=c(e);return o.encodeUintValue.encodedSize(t.length)+t.length},u.compareTokens=function(e,t){return l(c(e),c(t))},t.compareBytes=l,t.decodeBytes16=function(e,t,n,r){return a(e,t,3,o.readUint16(e,t+1,r))},t.decodeBytes32=function(e,t,n,r){return a(e,t,5,o.readUint32(e,t+1,r))},t.decodeBytes64=function(e,t,n,r){const s=o.readUint64(e,t+1,r);if("bigint"==typeof s)throw new Error(`${i.decodeErrPrefix} 64-bit integer bytes lengths not supported`);return a(e,t,9,s)},t.decodeBytes8=function(e,t,n,r){return a(e,t,2,o.readUint8(e,t+1,r))},t.decodeBytesCompact=function(e,t,n,r){return a(e,t,1,n)},t.encodeBytes=u},pP8i:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv"),c=n("8/YW"),u=n("jDHv"),l=n("AH6j"),d=n("Mgpg"),f=n("Uzj0"),p=n("DI/x"),h=n("PmZf"),y=n("YZti"),m=n("Abbu");const g=Object(u.define)("database-transaction-manager");class _ extends l.b{constructor(){super(),this.logger=void 0;const e=u.ModuleContainer.resolve(d.ZLoggerFactory);this.logger=e.createZLogger("query-executor",[this.getExecutorName()])}validateKey(e,t,n){if(!e.getIndex(t).validateKey(n))throw new p.f("The query key is invalid!");return n}}var v;Object(c.c)()(v=Reflect.metadata("design:type",Function)(v=Reflect.metadata("design:paramtypes",[void 0===s.c?Object:s.c,String,void 0===g?Object:g,"undefined"==typeof T?Object:T,void 0===_?Object:_,Object,"undefined"==typeof DatabaseAdapterOptions?Object:DatabaseAdapterOptions])(v=class extends l.b{constructor(e,t,n,r,o,s,a){super(),this.partition=e,this.fullName=t,this.transactionManager=n,this.instance=r,this.queryExecutor=o,this.transactionExecutor=s,this.options=a,this.queryExecutorMap=void 0,this.active=!0,this.logger=void 0,this.removeListeners=()=>{},this.isCloseDBQueryContainer=null,this.isDeleteDBQueryContainer=null,this.queryExecutorMap={[i.e.Clear]:o.clear.bind(o),[i.e.Get]:o.get.bind(o),[i.e.GetAndUpdate]:o.getAndUpdate.bind(o),[i.e.GetMulti]:o.getMulti.bind(o),[i.e.GetMultiIfExists]:o.getMultiIfExists.bind(o),[i.e.GetAll]:o.getAll.bind(o),[i.e.GetAllKey]:o.getAllKey.bind(o),[i.e.Insert]:o.insert.bind(o),[i.e.InsertMulti]:o.insertMulti.bind(o),[i.e.Update]:o.update.bind(o),[i.e.UpdateMulti]:o.updateMulti.bind(o),[i.e.Delete]:o.delete.bind(o),[i.e.DeleteMulti]:o.deleteMulti.bind(o),[i.e.FindAndDelete]:o.findAndDelete.bind(o),[i.e.Count]:o.count.bind(o)};const c=u.ModuleContainer.resolve(d.ZLoggerFactory);this.logger=c.createZLogger("db",["adapter"]),this.registerListeners()}registerListeners(){const e=e=>{this.dispatchEvent(e)},t=[];t.push(this.instance.addEventListener(h.a.SuccessOpenDB,e)),t.push(this.instance.addEventListener(h.a.LongOpenDB,e)),t.push(this.instance.addEventListener(h.a.SchemaMigratedAbnormally,e)),t.push(this.queryExecutor.addEventListener(h.a.Warning,e)),this.removeListeners=()=>t.forEach((e=>e()))}onDispose(){this.removeListeners()}get type(){return this.partition.type}getFullName(){return this.fullName}execute(e){if(this.active||m.a.isCloseDBQuery(e)||m.a.isDeleteDBQuery(e)){if(e.meta.step=11,m.a.isBeginTransaction(e))this.transactionExecutor.beginTransaction(e);else if(!m.a.isCommitTransaction(e))return m.a.isCloseDBQuery(e)?(null===this.isCloseDBQueryContainer&&(this.isCloseDBQueryContainer=new f.b.Container,this.closeThisDatabase(e.params).then((()=>this.isCloseDBQueryContainer.resolve())).catch((e=>this.isCloseDBQueryContainer.reject(e)))),void this.isCloseDBQueryContainer.promise.then(e.deferrer.resolve).catch(e.deferrer.reject)):m.a.isDeleteDBQuery(e)?(null===this.isDeleteDBQueryContainer&&(this.isDeleteDBQueryContainer=new f.b.Container,this.deleteThisDatabase(e.params).then((()=>this.isDeleteDBQueryContainer.resolve())).catch((e=>this.isDeleteDBQueryContainer.reject(e)))),void this.isDeleteDBQueryContainer.promise.then(e.deferrer.resolve).catch(e.deferrer.reject)):void(m.a.isCloseAllDBsQuery(e)||m.a.isDeleteAllDBsQuery(e)?this.logger.zsymb(21,"JekFAV",["Unhandled query type: {}","aX3RNu"],e.type):this.executeByQueryExecutor(e))}else e.deferrer.reject(new p.a("Connection has already been closed"))}async closeThisDatabase(e){this.logger.zsymb(3,"Ga-m-d",["Close db: {}","nFGcDJ"],this.getFullName()),this.active=!1}async deleteThisDatabase(e){this.logger.zsymb(3,"1q6cae",["Delete db: {}","4K6IsA"],this.getFullName()),this.active=!1}executeByQueryExecutor(e){e.timing.handled=Date.now();const t=t=>{const n={adapter:this.partition.type,database:e.database,table:e.table,trans:e.transaction};this.logger.zsymb(18,"1wI_9p",(()=>[y.b.getTypeName(e.type),{logInfo:n,error:t}])),e.deferrer.reject(t)};try{if(e.transaction){const t=this.transactionManager.get(e.transaction),n=performance.now();t.execute((()=>this.queryExecutorMap[e.type](e))).then((t=>{const r=performance.now()-n;this.checkTimeConsumingQuery(e,r),e.deferrer.resolve(t)})).catch(e.deferrer.reject)}else{const t=performance.now();this.queryExecutorMap[e.type](e).then((n=>{const r=performance.now()-t;this.checkTimeConsumingQuery(e,r),e.deferrer.resolve(n)})).catch(e.deferrer.reject)}}catch(n){t(n)}}checkTimeConsumingQuery(e,t){if(t>=5e3){const n={adapter:this.partition.type,database:e.database,table:e.table,trans:e.transaction,type:y.b.getTypeName(e.type)};this.logger.zsymb(18,"Q2b-3K","Time consuming query:",n,"- Total time: ",t),this.dispatchEvent(new h.d(n,t))}}})||v)||v);const b=`database-adapter-${i.a.IDB}`,w=`database-adapter-${i.a.SQLite}`;Object(u.define)(b),Object(u.define)(w);l.b;Object(u.define)("database-adapter-manager");n("UK4g");Object(u.define)("schema-version");l.b;l.b;Object(u.define)("database-engine");n("MRjZ");n("PhBv");Object(u.define)("database-settings-manager");const E=new s.d({tableName:"metas",name:"Metas",fields:{id:{name:"id",type:i.h.integer},current:{name:"current",type:i.h.integer,default:0},startups:{name:"startups",type:i.h.json,default:[],nullable:!0},currentPage:{name:"currentPage",type:i.h.integer,default:0},ss:{name:"ss",type:i.h.integer,default:-1},ss_ln:{name:"ss_ln",type:i.h.integer,default:-1}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});var S=n("fsQs");const I=new s.d({tableName:"modules",name:"Modules",fields:{id:{name:"id",type:i.h.integer},hash:{name:"hash",type:i.h.string},encver:{name:"encver",type:i.h.integer,default:S.ZLOG_ENCODE_VERSION}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"hash"}],unique:!0}}});var O=n("mpOJ"),C=n("yi2h");const P={Pages:new s.d({tableName:"pages",name:"Pages",fields:{id:{name:"id",type:i.h.integer},mtime:{name:"mtime",type:i.h.integer},data:Object(C.a)({name:"data",nullable:!0},O.a.Blob),curoffs:{name:"curoffs",type:i.h.integer,default:0},max:{name:"max",type:i.h.integer,default:250*S.KB}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),Metas:E,Modules:I},A={name:"ZLog",session:!1},k={partitionNamingStrategy:[o.a.const("ZLog")],partitionsMap:Object(a.a)(P)},j={partitionNamingStrategy:[o.a.const("zdb_log")],partitionsMap:Object(a.a)(P)},D=Object(r.a)(Object(r.a)(Object(r.a)({},A),k),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_PARTIAL}),R=Object(r.a)(Object(r.a)(Object(r.a)({},A),j),{},{version:1,milestoneVersion:1,type:i.a.IDB});let x=null,N=null;t.a={baseConfig:A,schema:P,get useSqlite(){return null===x&&(x=new s.a(D)),x},get useIdb(){return null===N&&(N=new s.a(R)),N}}},pRxM:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv"),c=n("mpOJ"),u=n("yi2h");const l={EffectRes:new s.d({tableName:"effect_res",name:"EffectRes",fields:{icon:{name:"icon",type:i.h.string},iconBlob:Object(u.a)({name:"iconBlob"},c.a.Blob),genDate:{name:"genDate",type:i.h.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"icon"}],unique:!0}}}),LiveEmoji:new s.d({tableName:"live_emoji",name:"LiveEmoji",fields:{rType:{name:"rType",type:i.h.integer},rIcon:{name:"rIcon",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"rType"}],unique:!0}}}),Reaction:new s.d({tableName:"reaction",name:"Reaction",fields:{idTo:{name:"idTo",type:i.h.string},msgType:{name:"msgType",type:i.h.string},rClientMsgId:{name:"rClientMsgId",type:i.h.integer},rMsgId:{name:"rMsgId",type:i.h.string},rMsgType:{name:"rMsgType",type:i.h.integer,nullable:!0},currentIcon:{name:"currentIcon",type:i.h.integer},reactions:{name:"reactions",type:i.h.json,nullable:!0},lastSender:{name:"lastSender",type:i.h.string,nullable:!0},lastUpdate:{name:"lastUpdate",type:i.h.integer,nullable:!0},lastReceiveReactId:{name:"lastReceiveReactId",type:i.h.integer,nullable:!0},lastReactIcon:{name:"lastReactIcon",type:i.h.integer,nullable:!0},ts:{name:"ts",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"rMsgId"}],unique:!0}}}),UnreadReact:new s.d({tableName:"unread_react",name:"UnreadReact",fields:{userId:{name:"userId",type:i.h.string},conversationId:{name:"conversationId",type:i.h.string},msgId:{name:"msgId",type:i.h.string},reactIcon:{name:"reactIcon",type:i.h.string},reactionId:{name:"reactionId",type:i.h.string},reactionCliId:{name:"reactionCliId",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}})},d={name:"Reaction",session:!0},f={partitionNamingStrategy:[o.a.byUser(),o.a.const("Reaction")],partitionsMap:Object(a.a)(l)},p={partitionNamingStrategy:[o.a.const("r_db"),o.a.byUser()],partitionsMap:Object(a.a)(l)},h=Object(r.a)(Object(r.a)(Object(r.a)({},d),f),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_FULL}),y=Object(r.a)(Object(r.a)(Object(r.a)({},d),p),{},{version:4,milestoneVersion:4,type:i.a.IDB});let m=null,g=null;t.a={baseConfig:d,schema:l,get useSqlite(){return null===m&&(m=new s.a(h)),m},get useIdb(){return null===g&&(g=new s.a(y)),g}}},pS9Y:function(e,t,n){"use strict";var r=n("mwIZ"),i=n.n(r),o=n("jDHv"),s=n("Y58e");o.ModuleContainer.registerSingleton(s.a,class{get(e){const t=n("ngh0").default;return i()(t,e)}})},pSRY:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).has(e)}},pYq5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jDHv");const i=Object(r.define)("zlog-text-file-system")},pjif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa"),i=n("XdWb"),o=n("JB9/"),s=n("rlKW");t.default=function(){return function(e){const t=r.getParamInfo(e);return class extends e{constructor(...n){super(...n.concat(t.slice(n.length).map(((t,r)=>{try{return o.isTokenDescriptor(t)?o.isTransformDescriptor(t)?t.multiple?i.instance.resolve(t.transform).transform(i.instance.resolveAll(t.token),...t.transformArgs):i.instance.resolve(t.transform).transform(i.instance.resolve(t.token),...t.transformArgs):t.multiple?i.instance.resolveAll(t.token):i.instance.resolve(t.token):o.isTransformDescriptor(t)?i.instance.resolve(t.transform).transform(i.instance.resolve(t.token),...t.transformArgs):i.instance.resolve(t)}catch(a){const t=r+n.length;throw new Error(s.formatErrorCtor(e,t,a))}}))))}}}}},qAY7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("spuD"),i=["debug","info","warn","error","log","assert","trace"];function o(e){if(!("console"in r.GLOBAL_OBJ))return e();const t=r.GLOBAL_OBJ.console,n={};i.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function s(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?i.forEach((n=>{t[n]=(...t)=>{e&&o((()=>{r.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}t.logger=void 0,"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?t.logger=r.getGlobalSingleton("logger",s):t.logger=s(),t.CONSOLE_LEVELS=i,t.consoleSandbox=o},qBft:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},qEvd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("HNyo"),o=n("Lc6M"),s=n("mdsp"),a=n("/JRK"),c=n("0LLG"),u=n("yJ/d"),l="Not capturing exception because it's already been captured.";class d{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(d.prototype.__init.call(this),d.prototype.__init2.call(this),d.prototype.__init3.call(this),d.prototype.__init4.call(this),d.prototype.__init5.call(this),this._options=e,e.dsn?this._dsn=r.makeDsn(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("No DSN provided, client will not do anything."),this._dsn){const t=i.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(r.checkOrSetAlreadyCaught(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(l));let i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{i=e}))),i}captureMessage(e,t,n,i){let o=n&&n.event_id;const s=r.isPrimitive(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,i))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&r.checkOrSetAlreadyCaught(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(l));let i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{i=e}))),i}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),a.updateSession(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):r.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=s.setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){s.setupIntegration(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=o.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=r.addItemToEnvelope(n,r.createAttachmentEnvelopeItem(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(n);i&&i.then((t=>this.emit("afterSendEvent",e,t)),null)}}sendSession(e){if(this._dsn){const t=o.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(a.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new r.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),u.prepareEvent(r,e,t,n).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:i,parentSpanId:o,dsc:s}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:o},...e.contexts};const a=s||c.getDynamicSamplingContextFromClient(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?r.logger.log(t.message):r.logger.warn(t)}}))}_processEvent(e,t,n){const i=this.getOptions(),{sampleRate:o}=i;if(!this._isEnabled())return r.rejectedSyncPromise(new r.SentryError("SDK not enabled, will not capture event.","log"));const s=p(e),a=f(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),r.rejectedSyncPromise(new r.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new r.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;if(f(t)&&r)return r(t,n);if(p(t)&&i)return i(t,n);return t}(i,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(r.isThenable(e))return e.then((e=>{if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}),(e=>{throw new r.SentryError(`${t} rejected with ${e}`)}));if(!r.isPlainObject(e)&&null!==e)throw new r.SentryError(n);return e}(o,u)})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",l,e),new r.SentryError(`${u} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!s&&o&&this._updateSessionFromEvent(o,i);const a=i.transaction_info;if(s&&a&&i.transaction!==e.transaction){const e="custom";i.transaction_info={...a,source:e}}return this.sendEvent(i,t),i})).then(null,(e=>{if(e instanceof r.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new r.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function f(e){return void 0===e.type}function p(e){return"transaction"===e.type}t.BaseClient=d},qM6L:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},qOX6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("lQ9Q"),i=50,o=/\(error: (.*)\)/;function s(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],s=e.split("\n");for(let a=n;a<s.length;a++){const e=s[a];if(e.length>1024)continue;const n=o.test(e)?e.replace(o,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){r.push(t);break}}if(r.length>=i)break}}return a(r)}}function a(e){if(!e.length)return[];const t=e.slice(0,i),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();const r=t[t.length-1].function;return r&&/captureMessage|captureException/.test(r)&&t.pop(),t.map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}const c="<anonymous>";t.createStackParser=s,t.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||c}catch(t){return c}},t.nodeStackLineParser=function(e){return[90,r.node(e)]},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?s(...e):e},t.stripSentryFramesAndReverse=a},qd5i:function(e,t,n){"use strict";e.exports=class{constructor(e,t){this._list=e,this._direction=!0===t?"prev":"next",this._startPosition=!0===t?"tail":"head",this._started=!1,this._cursor=null,this._done=!1}_start(){this._cursor=this._list[this._startPosition],this._started=!0}_advanceCursor(){if(!1===this._started)return this._started=!0,void(this._cursor=this._list[this._startPosition]);this._cursor=this._cursor[this._direction]}reset(){this._done=!1,this._started=!1,this._cursor=null}remove(){if(!1===this._started||!0===this._done||this._isCursorDetached())return!1;this._list.remove(this._cursor)}next(){return!0===this._done?{done:!0}:(this._advanceCursor(),null===this._cursor||this._isCursorDetached()?(this._done=!0,{done:!0}):{value:this._cursor,done:!1})}_isCursorDetached(){return null===this._cursor.prev&&null===this._cursor.next&&this._list.tail!==this._cursor&&this._list.head!==this._cursor}}},qu8F:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),n(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<i;c++)e[t+c]^=a[c]}});return e.Decryptor=i,e}(),r.mode.CTRGladman)},"r+D/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("qAY7"),i=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(e){const t=i.exec(e);if(!t)return;const[n,r,o="",a,c="",u]=t.slice(1);let l="",d=u;const f=d.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),d=f.pop()),d){const e=d.match(/^\d+/);e&&(d=e[0])}return s({host:a,pass:o,path:l,projectId:d,port:c,protocol:n,publicKey:r})}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}t.dsnFromString=o,t.dsnToString=function(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`},t.makeDsn=function(e){const t="string"==typeof e?o(e):s(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;const{port:t,projectId:n,protocol:i}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(r.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?t&&isNaN(parseInt(t,10))&&(r.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(r.logger.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(r.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},rCOr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="CBOR decode error:",i=[];i[23]=1,i[24]=2,i[25]=3,i[26]=5,i[27]=9,t.assertEnoughData=function(e,t,n){if(e.length-t<n)throw new Error(`${r} not enough data for type`)},t.decodeErrPrefix=r,t.encodeErrPrefix="CBOR encode error:",t.uintMinorPrefixBytes=i},rY0A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4MXQ");r.__exportStar(n("V/gh"),t),r.__exportStar(n("6i1E"),t),r.__exportStar(n("juUo"),t),r.__exportStar(n("sgrp"),t),r.__exportStar(n("RnBS"),t),r.__exportStar(n("3yyI"),t),r.__exportStar(n("/CAh"),t),r.__exportStar(n("O2Of"),t),r.__exportStar(n("Gpy1"),t),r.__exportStar(n("LHp5"),t),r.__exportStar(n("igW/"),t)},"rdC+":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv");const c={AsyncStore:new s.d({tableName:"async-store",name:"AsyncStore",fields:{key:{name:"key",type:i.h.string},val:{name:"val",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}})},u={name:"SecureLocalstorage",session:!1},l={partitionNamingStrategy:[o.a.const("SecureLocalstorage")],partitionsMap:Object(a.a)(c)},d={partitionNamingStrategy:[o.a.const("zsecure-localstorage")],partitionsMap:Object(a.a)(c)},f=Object(r.a)(Object(r.a)(Object(r.a)({},u),l),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_PARTIAL}),p=Object(r.a)(Object(r.a)(Object(r.a)({},u),d),{},{version:2,milestoneVersion:1,type:i.a.IDB});let h=null,y=null;t.a={baseConfig:u,schema:c,get useSqlite(){return null===h&&(h=new s.a(f)),h},get useIdb(){return null===y&&(y=new s.a(p)),y}}},rlKW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatErrorCtor=void 0,t.formatErrorCtor=function(e,t,n){const[,r=null]=e.toString().match(/constructor\(([\w, ]+)\)/)||[];return function(e,t,n="    "){return[e,...t.message.split("\n").map((e=>n+e))].join("\n")}(`Cannot inject the dependency ${function(e,t){return null===e?`at position #${t}`:`"${e.split(",")[t].trim()}" at position #${t}`}(r,t)} of "${e.name}" constructor. Reason:`,n)}},sJ5P:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("2v94"),i=n("F8zz"),o=n("r+D/"),s=n("/Id2"),a=n("spuD"),c=n("a7gF"),u=n("+IkF"),l=n("qAY7"),d=n("fUQU"),f=n("9bYW"),p=n("Puk3"),h=n("Vxli"),y=n("QS11"),m=n("RI6O"),g=n("ePA9"),_=n("1ySu"),v=n("6LL1"),b=n("qOX6"),w=n("QB2e"),E=n("mqPU"),S=n("lL4J"),T=n("68O6"),I=n("7ES9"),O=n("hCQT"),C=n("cZzy"),P=n("THES"),A=n("65M3"),k=n("+2Bm"),j=n("FoAr"),D=n("WQ9x"),R=n("NPLm"),x=n("EHIF"),N=n("/LUv");t.applyAggregateErrorsToEvent=r.applyAggregateErrorsToEvent,t.getDomElement=i.getDomElement,t.getLocationHref=i.getLocationHref,t.htmlTreeAsString=i.htmlTreeAsString,t.dsnFromString=o.dsnFromString,t.dsnToString=o.dsnToString,t.makeDsn=o.makeDsn,t.SentryError=s.SentryError,t.GLOBAL_OBJ=a.GLOBAL_OBJ,t.getGlobalObject=a.getGlobalObject,t.getGlobalSingleton=a.getGlobalSingleton,t.SENTRY_XHR_DATA_KEY=c.SENTRY_XHR_DATA_KEY,t.addInstrumentationHandler=c.addInstrumentationHandler,t.parseFetchArgs=c.parseFetchArgs,t.isDOMError=u.isDOMError,t.isDOMException=u.isDOMException,t.isElement=u.isElement,t.isError=u.isError,t.isErrorEvent=u.isErrorEvent,t.isEvent=u.isEvent,t.isInstanceOf=u.isInstanceOf,t.isNaN=u.isNaN,t.isPlainObject=u.isPlainObject,t.isPrimitive=u.isPrimitive,t.isRegExp=u.isRegExp,t.isString=u.isString,t.isSyntheticEvent=u.isSyntheticEvent,t.isThenable=u.isThenable,t.CONSOLE_LEVELS=l.CONSOLE_LEVELS,t.consoleSandbox=l.consoleSandbox,Object.defineProperty(t,"logger",{enumerable:!0,get:()=>l.logger}),t.memoBuilder=d.memoBuilder,t.addContextToFrame=f.addContextToFrame,t.addExceptionMechanism=f.addExceptionMechanism,t.addExceptionTypeValue=f.addExceptionTypeValue,t.arrayify=f.arrayify,t.checkOrSetAlreadyCaught=f.checkOrSetAlreadyCaught,t.getEventDescription=f.getEventDescription,t.parseSemver=f.parseSemver,t.uuid4=f.uuid4,t.dynamicRequire=p.dynamicRequire,t.isNodeEnv=p.isNodeEnv,t.loadModule=p.loadModule,t.normalize=h.normalize,t.normalizeToSize=h.normalizeToSize,t.walk=h.walk,t.addNonEnumerableProperty=y.addNonEnumerableProperty,t.convertToPlainObject=y.convertToPlainObject,t.dropUndefinedKeys=y.dropUndefinedKeys,t.extractExceptionKeysForMessage=y.extractExceptionKeysForMessage,t.fill=y.fill,t.getOriginalFunction=y.getOriginalFunction,t.markFunctionWrapped=y.markFunctionWrapped,t.objectify=y.objectify,t.urlEncode=y.urlEncode,t.basename=m.basename,t.dirname=m.dirname,t.isAbsolute=m.isAbsolute,t.join=m.join,t.normalizePath=m.normalizePath,t.relative=m.relative,t.resolve=m.resolve,t.makePromiseBuffer=g.makePromiseBuffer,t.addRequestDataToEvent=_.addRequestDataToEvent,t.addRequestDataToTransaction=_.addRequestDataToTransaction,t.extractPathForTransaction=_.extractPathForTransaction,t.extractRequestData=_.extractRequestData,t.severityFromString=v.severityFromString,t.severityLevelFromString=v.severityLevelFromString,t.validSeverityLevels=v.validSeverityLevels,t.createStackParser=b.createStackParser,t.getFunctionName=b.getFunctionName,t.nodeStackLineParser=b.nodeStackLineParser,t.stackParserFromStackParserOptions=b.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=b.stripSentryFramesAndReverse,t.isMatchingPattern=w.isMatchingPattern,t.safeJoin=w.safeJoin,t.snipLine=w.snipLine,t.stringMatchesSomePattern=w.stringMatchesSomePattern,t.truncate=w.truncate,t.isNativeFetch=E.isNativeFetch,t.supportsDOMError=E.supportsDOMError,t.supportsDOMException=E.supportsDOMException,t.supportsErrorEvent=E.supportsErrorEvent,t.supportsFetch=E.supportsFetch,t.supportsNativeFetch=E.supportsNativeFetch,t.supportsReferrerPolicy=E.supportsReferrerPolicy,t.supportsReportingObserver=E.supportsReportingObserver,t.SyncPromise=S.SyncPromise,t.rejectedSyncPromise=S.rejectedSyncPromise,t.resolvedSyncPromise=S.resolvedSyncPromise,Object.defineProperty(t,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>T._browserPerformanceTimeOriginMode}),t.browserPerformanceTimeOrigin=T.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=T.dateTimestampInSeconds,t.timestampInSeconds=T.timestampInSeconds,t.timestampWithMs=T.timestampWithMs,t.usingPerformanceAPI=T.usingPerformanceAPI,t.TRACEPARENT_REGEXP=I.TRACEPARENT_REGEXP,t.extractTraceparentData=I.extractTraceparentData,t.generateSentryTraceHeader=I.generateSentryTraceHeader,t.tracingContextFromHeaders=I.tracingContextFromHeaders,t.getSDKSource=O.getSDKSource,t.isBrowserBundle=O.isBrowserBundle,t.addItemToEnvelope=C.addItemToEnvelope,t.createAttachmentEnvelopeItem=C.createAttachmentEnvelopeItem,t.createEnvelope=C.createEnvelope,t.createEventEnvelopeHeaders=C.createEventEnvelopeHeaders,t.envelopeContainsItemType=C.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=C.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=C.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=C.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=C.parseEnvelope,t.serializeEnvelope=C.serializeEnvelope,t.createClientReportEnvelope=P.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=A.DEFAULT_RETRY_AFTER,t.disabledUntil=A.disabledUntil,t.isRateLimited=A.isRateLimited,t.parseRetryAfterHeader=A.parseRetryAfterHeader,t.updateRateLimits=A.updateRateLimits,t.BAGGAGE_HEADER_NAME=k.BAGGAGE_HEADER_NAME,t.MAX_BAGGAGE_STRING_LENGTH=k.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=k.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=k.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=k.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=k.dynamicSamplingContextToSentryBaggageHeader,t.getNumberOfUrlSegments=j.getNumberOfUrlSegments,t.getSanitizedUrlString=j.getSanitizedUrlString,t.parseUrl=j.parseUrl,t.stripUrlQueryAndFragment=j.stripUrlQueryAndFragment,t.addOrUpdateIntegration=D.addOrUpdateIntegration,t.makeFifoCache=R.makeFifoCache,t.escapeStringForRegex=x.escapeStringForRegex,t.supportsHistory=N.supportsHistory},sgrp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dotCase=void 0;var r=n("FdZK"),i=n("3yyI");t.dotCase=function(e,t){return void 0===t&&(t={}),i.noCase(e,r.__assign({delimiter:"."},t))}},spuD:function(e,t){function n(e){return e&&e.Math==Math?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});const r="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof global&&n(global)||function(){return this}()||{};t.GLOBAL_OBJ=r,t.getGlobalObject=function(){return r},t.getGlobalSingleton=function(e,t,n){const i=n||r,o=i.__SENTRY__=i.__SENTRY__||{};return o[e]||(o[e]=t())}},ssGk:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("UXua"),i=n("+B3J");t.FunctionToString=r.FunctionToString,t.InboundFilters=i.InboundFilters},stHK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let r=function(e){return e.CREATE_BACKUP="create-backup",e.DESTROY_BACKUP="destroy-backup",e.ABORT_CREATING_BACKUP="abort-creating-backup",e.ENABLE_CREATING_BACKUP="enable-creating-backup",e.DISABLE_CREATING_BACKUP="disable-creating-backup",e.RESTART_AND_RESTORE_BACKUP="restart-and-restore-backup",e.RESTART_WITHOUT_RESTORING_BACKUP="restart-without-restoring-backup",e.REJECT_CURRENT_BACKUP="reject-current-backup",e.CHANGE_BU_INTERVAL="change-bu-interval",e.WRITE_LATEST_BACK_UP_LOG="write-latest-back-up-log",e}({})},tB16:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("+ypH");e.exports={remove:r(i),removeSync:i.sync}},tMB7:function(e,t,n){var r=n("y1pI");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},teaq:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n("VTBJ"),i=n("75pU"),o=n.n(i),s=n("jDHv"),a=n("UK4g"),c=n("YEoC"),u=n("DI/x"),l=n("xI/L");class d{constructor(e){this._config=e,this.name=void 0,this.nullable=void 0,this.escapedName=void 0,this.type=void 0,this.jsType=void 0,this.autoIncrement=void 0,this.defaultValue=void 0,this.name=e.name,this.nullable=!0===e.nullable,this.escapedName='"'+this.name+'"',this.type=e.type,this.jsType=this.getJsType(),this.autoIncrement=e.autoIncrement,this.defaultValue=e.default}getJsType(){switch(this._config.type){case c.h.blob:return"object";case c.h.boolean:return"boolean";case c.h.float:case c.h.integer:return"number";case c.h.json:return"object";case c.h.string:default:return"string"}}}class f extends d{constructor(e){super(e),this.jsBinaryType=void 0,this.jsBinaryType=e.jsBinaryType}static isBinaryFieldConfig(e){return void 0!==e.jsBinaryType}}class p{}class h extends p{constructor(e){super(),this.fieldConfigs=void 0,this.fieldConfigs=Object.values(e).map((e=>f.isBinaryFieldConfig(e)?new f(e):new d(e)))}getFieldType(e){for(const t of this.fieldConfigs)if(t.name===e)return t.type;return null}getFields(e){return e?this.fieldConfigs.filter((t=>t.type===e)):this.fieldConfigs}getFieldValues(e){return this.getFields().filter((e=>!e.autoIncrement)).map((t=>e[t.name]))}createValidator(e){const t=this.getFields().filter((e=>!e.autoIncrement)),n=e?t.filter((t=>e.includes(t.name))):t,r=JSON.stringify(t.map((e=>e.name))),i=n.map((e=>e.type===c.h.json?e.nullable||void 0!==e.defaultValue?"":`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return { ok: false, reason: 1, field: ${e.escapedName}, expected: "object - non-nullable", actual: v[${e.escapedName}] }`:e.nullable?["if (",`v[${e.escapedName}] !== null &&`,`v[${e.escapedName}] !== undefined &&`,`typeof v[${e.escapedName}] !== "${e.jsType}")`,`return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType} - nullable", actual: typeof v[${e.escapedName}] }`].join(""):[`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return ${void 0!==e.defaultValue?"{ ok: true }":`{ ok: false, reason: 1, field: ${e.escapedName}, expected: "non-nullable", actual: typeof v[${e.escapedName}] }`};`,`if (typeof v[${e.escapedName}] !== "${e.jsType}") return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType}", actual: typeof v[${e.escapedName}] }`].join(";")));i.push(`const vldFls = ${r}`,"const curFlds = Object.keys(v)","for (const field of curFlds) { if (!vldFls.includes(field)) return { ok: false, reason: 3, field }}");const o=i.join(";").concat(";return { ok: true };");return new Function("v",o)}createFullEntityValidator(e){const t=this.getFields().filter((e=>!e.autoIncrement)),n=e?t.filter((t=>e.includes(t.name))):t,r=JSON.stringify(t.map((e=>e.name)));return function(e){const t=[];n.forEach((n=>{if(n.type===c.h.json){if(n.nullable||void 0!==n.defaultValue)return;null!==e[n.name]&&void 0!==e[n.name]||t.push({ok:!1,reason:1,field:n.name,expected:"object - non-nullable",actual:typeof e[n.name]})}else n.nullable?null!==e[n.name]&&void 0!==e[n.name]&&typeof e[n.name]!==n.jsType&&t.push({ok:!1,reason:2,field:n.name,expected:`${n.jsType} - nullable`,actual:typeof e[n.name]}):null===e[n.name]||void 0===e[n.name]&&null==n.defaultValue?t.push({ok:!1,reason:1,field:n.name,expected:"non-nullable",actual:typeof e[n.name]}):typeof e[n.name]!==n.jsType&&t.push({ok:!1,reason:2,field:n.name,expected:n.jsType,actual:typeof e[n.name]})}));const i=r,o=Object.keys(e);for(const n of o)i.includes(n)||t.push({ok:!1,reason:3,field:n});return t.length||t.push({ok:!0}),t}}}class y extends p{getFieldType(e){throw new Error("Non-field like entity doesn't support get field type")}constructor(e){super(),this.fieldConfig=void 0,this.fieldConfig=new d(Object(r.a)({name:"data"},e))}getFieldValues(e){return[e]}createValidator(){const e=this.fieldConfig;let t=`const v = { ${e.escapedName}: x };`;return e.type===c.h.json?e.nullable||void 0!==e.defaultValue?t="":t+=`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return { ok: false, reason: 1, field: ${e.escapedName}, expected: "object - non-nullable", actual: v[${e.escapedName}] }`:e.nullable?t+=["if (",`v[${e.escapedName}] !== null &&`,`v[${e.escapedName}] !== undefined &&`,`typeof v[${e.escapedName}] !== "${e.jsType}")`,`return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType} - nullable", actual: typeof v[${e.escapedName}] }`].join(""):t+=[`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return ${void 0!==e.defaultValue?"{ ok: true }":`{ ok: false, reason: 1, field: ${e.escapedName}, expected: "non-nullable", actual: v[${e.escapedName}] }`};`,`if (typeof v[${e.escapedName}] !== "${e.jsType}") return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType}", actual: typeof v[${e.escapedName}] }`].join(";"),t=t.concat(";return { ok: true };"),new Function("x",t)}createFullEntityValidator(e){throw new Error("Method not implemented.")}getFields(e){return e?this.fieldConfig.type===e?[this.fieldConfig]:[]:[this.fieldConfig]}}class m{constructor(e){this._config=e}get name(){return this._config.name}get fields(){return this._config.fields}get unique(){return this._config.unique}get autoIncrement(){return this._config.autoIncrement}getRealFields(){return this._config.fields.filter((e=>"raw"===e.type)).map((e=>e.field))}createKey(e){return this.getRealFields().map((t=>e[t]))}getValue(e,t){if(Array.isArray(e)){return e[this._config.fields.findIndex((e=>e.field===t))]}if(1===this._config.fields.length&&this._config.fields[0].field===t)return e}validateKey(e){let t=!0;return t=Array.isArray(e)?this._config.fields.length===e.length:null!=e&&1===this._config.fields.length,t}}class g{constructor(e){this.commonConfig=e,this.entity=void 0,this.isNonFieldlikeEntity=void 0,this.fieldManager=void 0,this.indices=void 0,this.tableName=void 0,this.name=void 0,this.primaryIndex=void 0,this.mapNameToIndices=void 0,this.validators=void 0,this.fullEntityValidators=void 0,this.adapterSpecificConfigs=null,this.dbName=void 0,this.isNonFieldlikeEntity=e.isNonFieldlikeEntity||!1,this.indices=Object.values(e.indices).map((e=>new m(e)));let t=e.fields;if(!this.isNonFieldlikeEntity){const n=new Set;this.indices.forEach((e=>{if(e.autoIncrement){e.fields.forEach((({field:e})=>{n.add(e)}))}})),n.size&&(t=Object.entries(e.fields).reduce(((e,[t,i])=>{const o=Object(r.a)({},i);return n.has(o.name)&&(o.autoIncrement=!0),e[t]=o,e}),{}))}this.fieldManager=this.createConfigFieldManager(t),this.mapNameToIndices=new Map(this.indices.map((e=>[e.name,e]))),this.primaryIndex=this.getPrimaryIndex()||null,this.name=e.name,this.tableName=e.tableName,this.validators=new Map,this.fullEntityValidators=new Map,this.getIndexPartitionField=o()(this.getIndexPartitionField.bind(this)),this.getRawConfigByAdapterType=o()(this.getRawConfigByAdapterType.bind(this))}hasBlobField(){return!this.isNonFieldlikeEntity&&this.fieldManager.getFields().some((e=>e.type===c.h.blob))}getFieldType(e){return this.fieldManager.getFieldType(e)}doesUsePartitionTable(e){if(void 0!==this.commonConfig.partitionField||this.doesHavePartitionByField(e)){if(this.isNonFieldlikeEntity)return!1;const t=this.commonConfig.partitionField||this.getPartitionField(e);return-1===this.primaryIndex.fields.findIndex((e=>e.field===t))}return!1}doesHavePartitionByField(e){return!this.isNonFieldlikeEntity&&!!this.getRawConfigByAdapterType(e,"partitionField")}getTransformConfigs(e){return this.getRawConfigByAdapterType(e,"transforms")||[]}getPartitionField(e){var t;return null===(t=this.getRawConfigByAdapterType(e,"partitionField"))||void 0===t?void 0:t.toString()}getCorruptionImpact(e){var t;return null===(t=this.getRawConfigByAdapterType(e,"corruptionImpact"))||void 0===t?void 0:t.toString()}getMigrationInfos(e){return this.getRawConfigByAdapterType(e,"migrations")||{}}createConfigFieldManager(e){return this.isNonFieldlikeEntity?new y(e):new h(e)}getPrimaryIndex(){if(!this.mapNameToIndices.has("primary")&&!this.isNonFieldlikeEntity)throw new u.j("primary");return this.mapNameToIndices.get("primary")}getIndex(e){const t=this.mapNameToIndices.get(e);if(!t)throw new u.j(e);return t}getIndexPartitionField(e,t){return this.getIndex(t).getRealFields().indexOf(this.getPartitionField(e))}validateFields(e,t){if(a.b){return this.getValidator(t)(e)}return{ok:!0}}validate(e,t=!0){const n=t||this.isNonFieldlikeEntity?void 0:Object.keys(e).sort(),r=this.validateFields(e,n);let i=null;if(!1===r.ok)switch(r.reason){case 1:i=new u.f(`'${r.field}' field is missing!`);break;case 2:i=new u.f(`'${r.field}' field has invalid data type - Expected: ${r.expected} - Actual: ${r.actual}`);break;case 3:i=new u.f(`'${r.field}' field is unknown!`)}if(i)throw i}getValidator(e){const t=e?e.join("-"):"all_fields";if(!this.validators.get(t)){const n=this.fieldManager.createValidator(e);this.validators.set(t,n)}return this.validators.get(t)}validateFullEntity(e){return this.getFullEntityValidator()(e)}getFullEntityValidator(e){const t=e?e.join("-"):"all_fields";if(!this.fullEntityValidators.get(t)){const n=this.fieldManager.createFullEntityValidator(e);this.fullEntityValidators.set(t,n)}return this.fullEntityValidators.get(t)}getFieldValues(e){return this.fieldManager.getFieldValues(e)}getFields(){return this.fieldManager.getFields()}prepareValue(e,t,n){if(!t)return e;const i=this.getFields().filter((e=>void 0!==e.defaultValue));if(0===i.length)return e;if(n){if(void 0!==e)return e;const{defaultValue:t}=i[0];return"function"==typeof t?t():t}{const t=Object(r.a)({},e);return i.forEach((({name:e,defaultValue:n})=>{if(void 0===t[e]){const r="function"==typeof n?n():n;t[e]=r}})),t}}getRawConfigByAdapterType(e,t){if(null===this.adapterSpecificConfigs)return this.commonConfig[t];const n=this.adapterSpecificConfigs.get(e);if(void 0===n)return this.commonConfig[t];{let e=n[t];return void 0===e?this.commonConfig[t]:e}}setAdapterSpecificConfigs(e,t){null===this.adapterSpecificConfigs&&(this.adapterSpecificConfigs=new Map);const[n,r]=this.validateConfig(e,t);if(n)throw n;this.adapterSpecificConfigs.set(e,r)}validateConfig(e,t){return e===c.a.SQLite&&t.partitionField&&void 0===t.corruptionImpact?[new u.h(this.name),null]:[null,t]}}class _{constructor(e,t,n,r,i,o,s,a){this.database=e,this.type=t,this.name=n,this.sessional=r,this.version=i,this.milestoneVersion=o,this.cipherKey=s,this.tablesMap=void 0,this.tables=void 0,this.tablesMap=new Map(a.tables.map((e=>[e.name,e]))),this.tables=a.tables,this.tables.forEach((t=>{t.dbName=e}))}getTableConfig(e){return this.tablesMap.get(e)}}class v{get isSqlite(){return this.type===c.a.SQLite}get isIDB(){return this.type===c.a.IDB}get typeName(){return this.type===c.a.IDB?"idb":"sql"}constructor(e){this.partitionsConfigCache=void 0,this.name=void 0,this.version=void 0,this.milestoneVersion=void 0,this.session=void 0,this.available=void 0,this.type=void 0,this.tables=void 0,this.partitionsMap=void 0,this.partitionNamingStrategy=void 0,this.partitionStrategies=void 0,this.supportPartitionByField=void 0,this.corruptionImpact=void 0,this.partitionedTables=[],this.hasPartitionedTables=void 0;const[t,n]=this.validateConfig(e);if(t)throw t;this.name=n.name,this.session=n.session,this.version=n.version,this.milestoneVersion=n.milestoneVersion,this.type=n.type,this.partitionsMap=n.partitionsMap,this.partitionNamingStrategy=n.partitionNamingStrategy,this.partitionStrategies=n.partitionStrategies||[],this.supportPartitionByField=n.type===c.a.SQLite,this.corruptionImpact=n.corruptionImpact,this.available=!0,this.tables=Object.values(this.partitionsMap).map((e=>e.tables)).flat(),this.partitionsConfigCache=new Map,this.partitionedTables=this.tables.filter((e=>e.doesHavePartitionByField(this.type))),this.hasPartitionedTables=0!==this.partitionedTables.length,this.computeDatabaseName=o()(this.computeDatabaseName.bind(this)),this.computePartitionName=o()(this.computePartitionName.bind(this))}clearCache(){this.partitionsConfigCache.clear()}getPartition(e,t){const n=this.session&&(null==t?void 0:t.userId)||"",r=this.session&&(null==t?void 0:t.UIN)||"",i=this.computePartitionName(n,e);let o=this.partitionsConfigCache.get(i);return o||(o=this.createPartitionConfig(n,e,r),o&&this.partitionsConfigCache.set(i,o)),o}getCorruptionImpact(){return this.corruptionImpact}computeDatabaseName(e,t){const n=this.partitionNamingStrategy||[],r=Object(l.b)(this.type),i={session:e,table:t};return n.map((e=>i[e]||e)).join(r)}getPatitionsMapKey(e,t){const n=this.partitionStrategies;if(!n||0===n.length)return"default";const r={session:e,table:t};return n.map((e=>r[e]||e)).join("_")}computePartitionName(e,t){const n=this.getPatitionsMapKey(e,t);if(this.hasPartitionedTables){return`${n}_${-1!==this.partitionedTables.findIndex((e=>e.name===t))?t:"index"}`}return n}createPartitionConfig(e,t,n){const r=this.getPatitionsMapKey(e,t);let i=this.partitionsMap[r];const o=this.computePartitionName(e,t);if(this.hasPartitionedTables){if(-1!==this.partitionedTables.findIndex((e=>e.name===t)))i={tables:[...i.tables].filter((e=>e.name===t))};else{const e=this.partitionedTables.map((e=>e.name));i={tables:[...i.tables].filter((t=>!e.includes(t.name)))}}}return new _(this.name,this.type,o,this.session,this.version,this.milestoneVersion,n,i)}validateConfig(e){const t=e.name;return e.type===c.a.SQLite&&void 0===e.corruptionImpact?[new u.h(t),e]:[null,e]}}const b=Object(s.define)("database-config-manager")},tvG6:function(e,t,n){"use strict";e.exports=class{evict(e,t,n){const r=Date.now()-t.lastIdleTime;return e.softIdleTimeoutMillis>0&&e.softIdleTimeoutMillis<r&&e.min<n||e.idleTimeoutMillis<r}}},tw1F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Eisa");t.default=function(e,t,...n){const i={token:e,multiple:!0,transform:t,transformArgs:n};return r.defineInjectionTokenMetadata(i)}},u8Dt:function(e,t,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},uGsb:function(e,t,n){var r,i,o,s,a,c,u,l;e.exports=(l=n("Ib8C"),n("MlIO"),n("1uat"),i=(r=l).x64,o=i.Word,s=i.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},uGxW:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},uS0h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("F1Ur"),i=n("rCOr");const o=[24,256,65536,4294967296,BigInt("18446744073709551616")];function s(e,t,n){i.assertEnoughData(e,t,1);const r=e[t];if(!0===n.strict&&r<o[0])throw new Error(`${i.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return r}function a(e,t,n){i.assertEnoughData(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<o[1])throw new Error(`${i.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return r}function c(e,t,n){i.assertEnoughData(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<o[2])throw new Error(`${i.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return r}function u(e,t,n){i.assertEnoughData(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],s=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(r)<<BigInt(32))+BigInt(s);if(!0===n.strict&&a<o[3])throw new Error(`${i.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===n.allowBigInt)return a;throw new Error(`${i.decodeErrPrefix} integers outside of the safe integer range are not supported`)}function l(e,t){return d(e,0,t.value)}function d(e,t,n){if(n<o[0]){const r=Number(n);e.push([t|r])}else if(n<o[1]){const r=Number(n);e.push([24|t,r])}else if(n<o[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<o[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<o[4]))throw new Error(`${i.decodeErrPrefix} encountered BigInt larger than allowable range`);{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}l.encodedSize=function(e){return d.encodedSize(e.value)},d.encodedSize=function(e){return e<o[0]?1:e<o[1]?2:e<o[2]?3:e<o[3]?5:9},l.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0},t.decodeUint16=function(e,t,n,i){return new r.Token(r.Type.uint,a(e,t+1,i),3)},t.decodeUint32=function(e,t,n,i){return new r.Token(r.Type.uint,c(e,t+1,i),5)},t.decodeUint64=function(e,t,n,i){return new r.Token(r.Type.uint,u(e,t+1,i),9)},t.decodeUint8=function(e,t,n,i){return new r.Token(r.Type.uint,s(e,t+1,i),2)},t.encodeUint=l,t.encodeUintValue=d,t.readUint16=a,t.readUint32=c,t.readUint64=u,t.readUint8=s,t.uintBoundaries=o},"v/rv":function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("DWs9"),s=n("fsQs"),a=n("Y41u"),c=n("6rD8"),u=n("ebA4"),l=n("kMf4"),d=n("5FGm");const f=n("oyvS");let p=Object(i.injectable)()(r=class extends l.a{writer_status(){return this.status}getPath(){return f.join(this.dir,this.zlogFilename)}async init(e){this.status=c.a.Init,await this.getLogDir(d.b),await this.initFile(this.zlogFilename),this.status=c.a.Idle,this.broadcastEvent(a.d.WriterStatus,{type:c.b.PhysicalTextWriter,status:c.a.Idle})}async write(e,t,n){if(this.status!==c.a.Idle)return!1;if(0===e.length)return!0;let r=t.current;for(;e.length;){const[i,o]=this.encodeLogsFit(e,r,s.FILE_CONFIG.file_lim,n);if(i.length&&await this.writeLines(i,r,(e=>{r=e})),0===e.length)return r=(r+o)%s.FILE_CONFIG.file_lim,t.current=r,!0;r=(r+o)%s.FILE_CONFIG.file_lim,r<s.FILE_CONFIG.file_lim&&(await this.truncateFileUpto(r),r=0)}return t.current=r,!0}encodeLogsFit(e,t,n,r){const i=[];let o=0;const s=n-t;for(;e.length;){const t=r(),n=Object(u.d)(e[0],t);if(o+n.length>s)break;i.push(n),o+=n.length,e.shift()}return[i,o]}async writeLines(e,t,n){const r=e.reduce(((e,t)=>(e.push(...t),e)),[]);await this.writeBetween(this.zlogFilename,new Uint8Array(r).buffer,t,n)}})||r;i.ModuleContainer.registerSingleton(o.b,p)},vcpE:function(e,t,n){"use strict";const r=n("oyvS"),i=n("zyBB"),o=n("xQB0").pathExists,s=n("jGO8");e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);o(c,((r,o)=>r?a(r):o?s.writeJson(e,t,n,a):void i.mkdirs(c,(r=>{if(r)return a(r);s.writeJson(e,t,n,a)}))))}},w7YG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var s=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)},"wC+q":function(e,t,n){var r=n("msIP").Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},wH4e:function(e,t,n){"use strict";n("UK4g");var r=n("YEoC");n.d(t,"AdapterType",(function(){return r.a})),n.d(t,"ValidDataType",(function(){return r.h}));var i=n("DI/x");n.d(t,"SQLiteResolveCorruptError",(function(){return i.n}));n("PmZf"),n("bSii"),n("ibl3"),n("xI/L"),n("ohhZ"),n("4W2c"),n("YZti"),n("kFM4")},wZgz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],s=[],a=[],c=[],u=[],l=[],d=[],f=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,i[n]=h,o[h]=n;var y=e[n],m=e[y],g=e[m],_=257*e[h]^16843008*h;s[n]=_<<24|_>>>8,a[n]=_<<16|_>>>16,c[n]=_<<8|_>>>24,u[n]=_,_=16843009*g^65537*m^257*y^16843008*n,l[h]=_<<24|_>>>8,d[h]=_<<16|_>>>16,f[h]=_<<8|_>>>24,p[h]=_,n?(n=y^e[e[e[g^y]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)if(s<n)o[s]=t[s];else{var a=o[s-1];s%n?n>6&&s%n==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=h[s/n|0]<<24),o[s]=o[s-n]^a}for(var c=this._invKeySchedule=[],u=0;u<r;u++)s=r-u,a=u%4?o[s]:o[s-4],c[u]=u<4||s<=4?a:l[i[a>>>24]]^d[i[a>>>16&255]]^f[i[a>>>8&255]]^p[i[255&a]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,f,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],p=4,h=1;h<c;h++){var y=r[u>>>24]^i[l>>>16&255]^o[d>>>8&255]^s[255&f]^n[p++],m=r[l>>>24]^i[d>>>16&255]^o[f>>>8&255]^s[255&u]^n[p++],g=r[d>>>24]^i[f>>>16&255]^o[u>>>8&255]^s[255&l]^n[p++],_=r[f>>>24]^i[u>>>16&255]^o[l>>>8&255]^s[255&d]^n[p++];u=y,l=m,d=g,f=_}y=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^n[p++],m=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&u])^n[p++],g=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[p++],_=(a[f>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^n[p++],e[t]=y,e[t+1]=m,e[t+2]=g,e[t+3]=_},keySize:8});e.AES=t._createHelper(y)}(),r.AES)},wb9o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upperCaseFirst=void 0,t.upperCaseFirst=function(e){return e.charAt(0).toUpperCase()+e.substr(1)}},wudS:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r="sh_user_ids";function i(){const e=globalThis.localStorage.getItem(r);let t=[];try{e&&(t=JSON.parse(e))}catch(n){}return t}function o(e){let t=i(),n=t.indexOf(e);return-1===n&&(t.push(e),n=t.length-1,globalThis.localStorage.setItem(r,JSON.stringify(t))),n}},wxPg:function(e,t,n){var r;try{r=n("DadK")}catch(a){r=n("mw/K")}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,s=!0;"throws"in t&&(s=t.throws),i.readFile(e,t,(function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(c){return s?(c.message=e+": "+c.message,n(c)):n(null,null)}n(null,a)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(a){if(i)throw a.message=e+": "+a.message,a;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(c){return void(o&&o(c,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||r,s=i(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},"xI/L":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("UK4g"),i=n("YEoC");const o={const:e=>e,byUser:()=>"session",byTable:()=>"table"};function s(e){switch(e){case i.a.SQLite:return r.j;case i.a.IDB:return r.c;default:return""}}},xM06:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"o",(function(){return i})),n.d(t,"t",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return b})),n.d(t,"m",(function(){return w})),n.d(t,"q",(function(){return E}));const r=["SQLITE_DONE","SQLITE_ROW"],i=[".db",".db-shm",".db-wal"],o="SQL_STATEMENT",s="DAL_UTILITY",a="BACK_UP",c="DB_CORRUPTION",u="NEED-SCHEMA-MIGRATION",l="DAL_UTILITY/CLOSE_DB",d="DAL_UTILITY/DELETE_DB",f="DAL_UTILITY/GET_PARTITION_KEYS",p="DAL_UTILITY/CLEAR_SESSIONAL_POOLS_UTILITY_TYPE_ID",h="DAL_UTILITY/CLEAR_ALL_POOLS_UTILITY_TYPE_ID",y="BACK_UP_UTILITY/CREATE_BACK_UP_TYPE_ID",m="BACK_UP_UTILITY/ABORT_CREATE_BACK_UP_TYPE_ID",g="SIGNAL_CORRUPTION",_="ANALYZE_CORRUPTION";let v=function(e){return e[e.OPEN_READONLY=1]="OPEN_READONLY",e[e.OPEN_READWRITE=2]="OPEN_READWRITE",e[e.OPEN_CREATE=4]="OPEN_CREATE",e[e.OPEN_DELETE_ON_CLOSE=8]="OPEN_DELETE_ON_CLOSE",e[e.OPEN_EXCLUSIVE=16]="OPEN_EXCLUSIVE",e[e.OPEN_AUTO_PROXY=32]="OPEN_AUTO_PROXY",e[e.OPEN_URI=64]="OPEN_URI",e[e.OPEN_MEMORY=128]="OPEN_MEMORY",e[e.OPEN_MAIN_DB=256]="OPEN_MAIN_DB",e[e.OPEN_TEMP_DB=512]="OPEN_TEMP_DB",e[e.OPEN_TRANSIENT_DB=1024]="OPEN_TRANSIENT_DB",e[e.OPEN_MAIN_JOURNAL=2048]="OPEN_MAIN_JOURNAL",e[e.OPEN_TEMP_JOURNAL=4096]="OPEN_TEMP_JOURNAL",e[e.OPEN_SUB_JOURNAL=8192]="OPEN_SUB_JOURNAL",e[e.OPEN_SUPER_JOURNAL=16384]="OPEN_SUPER_JOURNAL",e[e.OPEN_NO_MUTEX=32768]="OPEN_NO_MUTEX",e[e.OPEN_FULL_MUTEX=65536]="OPEN_FULL_MUTEX",e[e.OPEN_SHARED_CACHE=131072]="OPEN_SHARED_CACHE",e[e.OPEN_PRIVATE_CACHE=262144]="OPEN_PRIVATE_CACHE",e[e.OPEN_WAL=524288]="OPEN_WAL",e[e.OPEN_NOFOLLOW=16777216]="OPEN_NOFOLLOW",e}({}),b=function(e){return e[e.ABORT=4]="ABORT",e[e.AUTH=23]="AUTH",e[e.BUSY=5]="BUSY",e[e.CANT_OPEN=14]="CANT_OPEN",e[e.CONSTRAINT=19]="CONSTRAINT",e[e.CORRUPT=11]="CORRUPT",e[e.DONE=101]="DONE",e[e.EMPTY=16]="EMPTY",e[e.ERROR=1]="ERROR",e[e.FORMAT=24]="FORMAT",e[e.FULL=13]="FULL",e[e.INTERNAL=2]="INTERNAL",e[e.INTERRUPT=9]="INTERRUPT",e[e.IO_ERR=10]="IO_ERR",e[e.LOCKED=6]="LOCKED",e[e.MISMATCH=20]="MISMATCH",e[e.MISUSE=21]="MISUSE",e[e.NO_LFS=22]="NO_LFS",e[e.NOMEM=7]="NOMEM",e[e.NOT_ADB=26]="NOT_ADB",e[e.NOTFOUND=12]="NOTFOUND",e[e.NOTICE=27]="NOTICE",e[e.OK=0]="OK",e[e.PERM=3]="PERM",e[e.PROTOCOL=15]="PROTOCOL",e[e.RANGE=25]="RANGE",e[e.READONLY=8]="READONLY",e[e.ROW=100]="ROW",e[e.SCHEMA=17]="SCHEMA",e[e.TOO_BIG=18]="TOO_BIG",e[e.WARNING=28]="WARNING",e[e.UNKNOWN=-1]="UNKNOWN",e}({});const w="lst_sc_bic",E=["SQLITE_CORRUPT","SQLITE_NOTADB"]},xOsE:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I,O,C;!function(n){var P="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function A(e,t){return e!==P&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};i=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(e){return this instanceof _?(this.v=e,this):new _(e)},v=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&C(t,e,r);return n(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",i),e("__assign",o),e("__rest",s),e("__decorate",a),e("__param",c),e("__metadata",u),e("__awaiter",l),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",p),e("__read",h),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",g),e("__await",_),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",S),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",O)}(A(P,A(e)))}.apply(t,[t]),void 0===r||(e.exports=r)}()},xQB0:function(e,t,n){"use strict";const r=n("ZC5O").fromPromise,i=n("7C8f");e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},"xS/Y":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("YEoC"),o=n("xI/L"),s=n("teaq"),a=n("C9Dv");const c=new s.d({tableName:"ref",name:"Ref",fields:{msgId:{name:"msgId",type:i.h.string},convId:{name:"convId",type:i.h.string},uid:{name:"uid",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},uid_msgId:{name:"uid_msgId",fields:[{type:"raw",field:"uid"},{type:"raw",field:"msgId"}],unique:!0},convId:{name:"convId",fields:[{type:"raw",field:"convId"}],unique:!1},uid:{name:"uid",fields:[{type:"raw",field:"uid"}],unique:!1}}}),u=new s.d({tableName:"res",name:"Res",fields:{uid:{name:"uid",type:i.h.string},size:{name:"size",type:i.h.integer},type:{name:"type",type:i.h.integer},atime:{name:"atime",type:i.h.integer},params:{name:"params",type:i.h.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"uid"}],unique:!0}}}),l=new s.d({tableName:"SyncDownload",name:"SyncDownload",fields:{fromId:{name:"fromId",type:i.h.string},convId:{name:"convId",type:i.h.string},actionId:{name:"actionId",type:i.h.string,nullable:!0},clientMsgId:{name:"clientMsgId",type:i.h.integer},globalMsgId:{name:"globalMsgId",type:i.h.string,nullable:!0},platform:{name:"platform",type:i.h.integer},deviceId:{name:"deviceId",type:i.h.string},actionSource:{name:"actionSource",type:i.h.integer},sendDttm:{name:"sendDttm",type:i.h.integer},status:{name:"status",type:i.h.integer},sendDate:{name:"sendDate",type:i.h.integer},submited:{name:"submited",type:i.h.boolean},mediaType:{name:"mediaType",type:i.h.string,nullable:!0},metaData:{name:"metaData",type:i.h.json,nullable:!0},errorName:{name:"errorName",type:i.h.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromId"},{type:"raw",field:"clientMsgId"}],unique:!0},sendDate_status:{name:"sendDate_status",fields:[{type:"raw",field:"sendDate"},{type:"raw",field:"status"}],unique:!1},actionSource_status_clientMsgId:{name:"actionSource_status_clientMsgId",fields:[{type:"raw",field:"actionSource"},{type:"raw",field:"status"},{type:"raw",field:"clientMsgId"}],unique:!1}}});l.setAdapterSpecificConfigs(i.a.IDB,{migrations:{2:{version:2,scripts:[{type:"create-table"}]},3:{version:3,scripts:[{type:"add-column",params:{columns:["errorName"]}}]}}});const d=new s.d({tableName:"meta",name:"Meta",fields:{id:{name:"id",type:i.h.string},expiredFlag:{name:"expiredFlag",type:i.h.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});d.setAdapterSpecificConfigs(i.a.IDB,{migrations:{3:{version:3,scripts:[{type:"create-table"}]}}});const f={Ref:c,Res:u,SyncDownload:l,Meta:d},p={name:"Res",session:!0},h={partitionNamingStrategy:[o.a.byUser(),o.a.const("Res")],partitionsMap:Object(a.a)(f)},y={partitionNamingStrategy:[o.a.const("zres"),o.a.byUser()],partitionsMap:Object(a.a)(f)},m=Object(r.a)(Object(r.a)(Object(r.a)({},p),h),{},{version:1,milestoneVersion:1,type:i.a.SQLite,corruptionImpact:i.b.IMPACT_FULL}),g=Object(r.a)(Object(r.a)(Object(r.a)({},p),y),{},{version:3,milestoneVersion:1,type:i.a.IDB});let _=null,v=null;t.a={baseConfig:p,schema:f,get useSqlite(){return null===_&&(_=new s.a(m)),_},get useIdb(){return null===v&&(v=new s.a(g)),v}}},y1pI:function(e,t,n){var r=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},y9p4:function(e,t,n){"use strict";n.r(t);n("mNvP"),n("QxEN"),n("pS9Y");var r=n("jDHv"),i=n("hzFW"),o=n("Uzj0");const s=e=>{process.parentPort.postMessage(e)},a=e=>(process.parentPort.addListener("message",e),()=>process.parentPort.removeListener("message",e));var c=n("g55F");class u{constructor(){this.container=new o.b.Container,this.cache=new Map,this.setup()}waitTillDoneSetup(){return this.container.promise}setup(){let e=()=>{};e=a((t=>{const{type:n,data:r}=t.data;if(n===c.a){const t=r;for(const[e,n]of Object.entries(t))this.cache.set(e,n);this.container.resolve(),e()}}))}getPathSync(e){if(this.cache.has(e))return this.cache.get(e);throw new Error(`Setup does not cover '${e}'`)}async getPath(e){if(await this.waitTillDoneSetup(),this.cache.has(e))return this.cache.get(e);throw new Error(`Setup does not cover '${e}'`)}async getAppPath(){if(await this.waitTillDoneSetup(),this.cache.has("app-path"))return this.cache.get("app-path");throw new Error("Setup does not cover 'app-path'")}getAppPathSync(){if(this.cache.has("app-path"))return this.cache.get("app-path");throw new Error("Setup does not cover 'app-path'")}}r.ModuleContainer.registerSingleton(i.a,class{constructor(){this.instance=new u}createAppPathManager(){return this.instance||(this.instance=new u),this.instance}});n("01iK"),n("ezdo");var l,d=n("W8fB"),f=n("UJDs"),p=n("/aOH");let h=Object(r.injectable)()(l=class{write(e){const t=Object(p.a)(e),n=globalThis.zconsole||console;switch(e.metadata.level){case f.b.info:n.info.apply(n,t);break;case f.b.warn:n.warn.apply(n,t);break;case f.b.debug:n.debug.apply(n,t);break;case f.b.error:n.error.apply(n,t);break;default:n.log.apply(n,t)}}})||l;r.ModuleContainer.registerSingleton(d.a,h);n("mzek"),n("aBYf"),n("zm+Q"),n("WSI5"),n("v/rv"),n("nAZb"),n("c0KM"),n("zheM"),n("CXIs"),n("cZjg");var y=n("YrRS");Object(y.b)();var m=n("fc/q");r.ModuleContainer.registerSingleton(m.QoS,class{log(e){}});var g=n("Mgpg");class _{constructor(){this.createdDttm=Date.now(),this.logger=void 0;const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger("script",["performer"])}}const v=Object(r.define)("script-performer");var b=n("KoSx"),w=n("IVHb");r.ModuleContainer.registerSingleton(v,class extends _{install(){this.logger.zsymb(0,"U-Uev7","installed");const e={type:w.a,data:{type:b.a.SCRIPT_CONNECTED,data:[__ZaBUNDLENAME__]}};s(e)}});var E=n("8/YW");const S="zmsg-port-msg-id",T="skip-handle-msg";let I=function(e){return e.INVOKE_MSG_REQUEST="invoke-msg-request",e.INVOKE_MSG_RESPONSE="invoke-msg-response",e}({});class O extends Error{constructor(e,t,n){super(n),this.code=e,this.name=t}}class C extends O{constructor(){super(1,"ChannelDisconnectedError","Channel has been disconnected!")}}class P extends O{constructor(){super(2,"ChannelTerminatedError","Channel has been terminated!")}}var A=n("nnli"),k=n("dtjM"),j=n("MPV0"),D=n("VTBJ");var R=class{constructor(){this.nameOfCurrentScript=void 0,this.nameOfTargetScript=void 0,this.channelID=void 0,this.channelSessionID=void 0}},x=n("PJMN"),N=n.n(x),M=n("T+bx");var L,B=class extends R{constructor(e,t,n,i,o){super(),this.rawPort=e,this.nameOfCurrentScript=t,this.nameOfTargetScript=n,this.channelID=i,this.channelSessionID=o,this.pending=!1,this.pendingQueue=[],this.started=!1,this.listeners={message:[],close:[]},this.invokeMessageResponseHandlers=new Map,this.invokeMessageQueue=new M.a("msgId"),this.hasRegisteredInvokedMessageHandlers=!1,this.unhandledInvokedMessages=[],this.logger=void 0;const s=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=s.createZLogger("zmsg-channel",["port-utility-process",i,t,n]);const a=e=>{const{data:t}=e,n=t[S];if(void 0!==n){const{type:i}=t;if(i===I.INVOKE_MSG_REQUEST&&!this.hasRegisteredInvokedMessageHandlers)return void this.unhandledInvokedMessages.push(e);if(i===I.INVOKE_MSG_RESPONSE){const e=this.invokeMessageResponseHandlers.get(n),{error:i,result:o,meta:s}=t;if(e)e(i,o),this.invokeMessageResponseHandlers.delete(n);else{const e=r.ModuleContainer.resolve(v),{createdDttm:t}=e,{createdDttm:n}=s;if(n<t)return;0}return}}};e.addListener("message",a),e.start(),this.listeners.message.push({listener:a,start:!0})}createMessageID(){const e=N.a.randomUUID();return`${this.nameOfCurrentScript}-${this.nameOfTargetScript}-${this.channelSessionID}-${this.channelID}-${e}`}close(){this.rawPort.close()}postMessage(e,t){const n=()=>{try{this.rawPort.postMessage(e,t||[])}catch(n){throw n}};if(this.pending)this.pendingQueue.push({execute:n});else{this.pendingQueue.length>0&&(this.pendingQueue.forEach((({execute:e})=>e())),this.pendingQueue=[]),n()}}start(){this.rawPort.start(),this.started=!0}addEventListener(e,t){this.rawPort.addListener(e,t),this.listeners[e].push({listener:t})}removeEventListener(e,t){this.rawPort.removeListener(e,t);const n=this.listeners[e].filter((({listener:e})=>e!==t));this.listeners[e]=n}pendingMessages(){this.pending=!0}resumeMessages(){this.pendingQueue.forEach((({execute:e})=>e())),this.pendingQueue=[],this.pending=!1}destroy(e){const t=new Error("Message was discard for unknown reason!"),n=e||t;this.pendingQueue.forEach((({callback:e})=>{e&&e(n,null)})),this.pendingQueue=[],this.resetInvokeMessageQueue(n);const r=e=>{const t=this.listeners[e];for(const{listener:n}of t)this.rawPort.removeListener(e,n)};r("message"),r("close"),this.close()}resetInvokeMessageQueue(e){this.invokeMessageQueue.clear();const t=this.invokeMessageResponseHandlers.values();let n=t.next();for(;!n.done;){(0,n.value)(e,null),n=t.next()}this.invokeMessageResponseHandlers.clear()}renewPort(e,t){this.channelSessionID=t;const n=this.rawPort;n.close(),this.rawPort=e;(e=>{const t=this.listeners[e];for(const{listener:r,start:i}of t)n.removeListener(e,r),this.rawPort.addListener(e,r),i&&this.rawPort.start()})("message"),this.started&&this.rawPort.start()}invokeMessage(e,t){return new Promise(((n,r)=>{const i=this.createMessageID(),o=Date.now(),s={[S]:i,type:I.INVOKE_MSG_REQUEST,data:e,meta:{createdDttm:o}},a=(e,t)=>{e?r(e):n(t),this.invokeMessageQueue.delete(i)},c=()=>{this.invokeMessageResponseHandlers.set(i,a),this.rawPort.postMessage(s,t||[])},u=()=>{this.rawPort.postMessage(s,t||[])};if(this.pending)this.pendingQueue.push({msgId:i,execute:c,callback:a});else{this.pendingQueue.length>0&&(this.pendingQueue.forEach((({execute:e})=>e())),this.pendingQueue=[]),c(),this.invokeMessageQueue.append(Object(D.a)({msgId:i,meta:{createdDttm:o,resentDttm:-1},reInvokeMessage:u},{}))}}))}handleMessage(e){const t=async t=>{const{data:n}=t,r=n[S];if(void 0!==r){const{data:t,type:o,meta:s}=n;if(o===I.INVOKE_MSG_REQUEST){const n=(e,t)=>{const n={[S]:r,type:I.INVOKE_MSG_RESPONSE,error:e,result:t,meta:Object(D.a)(Object(D.a)({},s),{},{handledDttm:Date.now()})};this.postMessage(n)};try{const r=await e(t);r!==T&&n(null,r)}catch(i){n(i,null)}}}};return this.addEventListener("message",t),this.hasRegisteredInvokedMessageHandlers||(this.hasRegisteredInvokedMessageHandlers=!0,this.unhandledInvokedMessages.forEach((e=>{t(e)})),this.unhandledInvokedMessages=[]),()=>{this.removeEventListener("message",t)}}getPendingMessage(){const e=[];return this.invokeMessageQueue.forEach((({msgId:t,meta:n,data:r})=>{const i=Object(D.a)({msgId:t,meta:n},{});e.push(i)})),e}},F=n("Z8gs"),U=n("Us5w");let z=Object(E.c)()(L=Reflect.metadata("design:type",Function)(L=Reflect.metadata("design:paramtypes",[])(L=class extends k.a{constructor(){super(),this.nameOfCurrentScript=__ZaBUNDLENAME__,this.portsMap=new Map,this.receiveOpenChannelRequestListeners=new Map,this.requestChannelCallbackMap=new Map,this.activatePortCallbacks=new Map,this.removeListenerFnList=[]}install(){this.logger.zsymb(0,"nk_FQ6","installed");const e=([e,t,n])=>{if(e!==this.nameOfCurrentScript)return;const r=this.activatePortCallbacks.get(t);if(!r)return void this.logger.zsymb(9,"vxJ1fC",["Skip activating port of a non-recorded or terminated channel - (id: '{}' - scripts: ['{}', '{}'])","5wp9XQ"],n,e,t);const i=r.get(n);if(i){for(const e of i)e(null,null);this.logger.zsymb(3,"BwcBoK",["Port is ready - (id: '{}' - scripts: ['{}', '{}'])","Vy8Re0"],n,e,t),r.delete(n)}else this.logger.zsymb(9,"sCfehy",["Skip activating port of a non-recorded or terminated channel -(id: '{}' - scripts: ['{}', '{}'])","sWrm5R"],n,e,t)},t=e=>{const t=this.portsMap.get(e);if(!t)return;const n=t.entries();let r=n.next();for(;!r.done;){const[t,i]=r.value;i.pendingMessages(),i.resetInvokeMessageQueue(new C),this.logger.zsymb(3,"PEXiQN",["Channel is disconnected ðŸ’€ - (id: '{}' - scripts: ['{}', '{}'])","SbAUZ2"],t,this.nameOfCurrentScript,e),r=n.next()}},n=e=>{const t=new P,n=this.portsMap.get(e);if(!n)return;const r=n.entries();let i=r.next();for(;!i.done;){const[n,o]=i.value;o.destroy(t),this.logger.zsymb(3,"0_2_py",["Channel is terminated ðŸ’€ - (id: '{}' - scripts: ['{}', '{}'])","kQDHTB"],n,this.nameOfCurrentScript,e),i=r.next()}n.clear(),this.portsMap.delete(e),this.rejectRequestChannelCallbackWithError(e,t),this.requestChannelCallbackMap.delete(e),this.rejectActivatePortCallbackWithError(e,t),this.activatePortCallbacks.delete(e),this.dispatchEvent(new A.a(e))},r=async(e,t)=>{const{nameOfCurrentScript:n,nameOfTargetScript:r,channelID:i,channelSessionID:o,isReconnect:s}=t;if(n!==this.nameOfCurrentScript)return void 0;const[a]=e.ports,c=async()=>{const e=this.addPort(r,i,o,a);await this.waitUntilPortIsReady(e,o);const t=this.getRequestChannelCallback(r,i);null!==t&&t(null,e),this.applyReceiveOpenChannelRequestListener(r,i,e)},u=async e=>{e.renewPort(a,o),await this.waitUntilPortIsReady(e,o),this.logger.zsymb(3,"dYjiW8",["Channel is re-connected âœ… - (id: '{}' - scripts: ['{}', '{}'])","NAQCRS"],i,n,r),e.resumeMessages()};if(s){const e=this.portsMap.get(r);if(e){const t=e.get(i);t?await u(t):this.logger.zsymb(21,"ZI25T4",["Opps! Our port map seems to malfunction ðŸ’€","C2FBcv"])}else await c()}else await c()};a((i=>{const{type:o,data:s}=i.data;if(o===F.a){const{channel:o,msg:a}=s;switch(o){case j.a.CHANNEL_ESTATBLISHED:e(a);break;case j.a.CHANNEL_DISCONNECTED:t(a);break;case j.a.CHANNEL_TERMINATED:n(a);break;case j.a.PORT_TRANSFERRED:r(i,a)}}}))}onDispose(){this.removeListenerFnList.forEach((e=>e()))}waitUntilPortIsReady(e,t){const{nameOfCurrentScript:n,nameOfTargetScript:r,channelID:i}=e;return new Promise(((e,o)=>{const a={type:U.a,data:{channel:j.a.PORT_DELIVERED,data:[n,r,i,t]}};s(a),this.addActivatePortCallback(r,i,((t,n)=>{t?o(t):e(n)}))}))}addActivatePortCallback(e,t,n){let r=this.activatePortCallbacks.get(e);r||(r=new Map,this.activatePortCallbacks.set(e,r));let i=r.get(t)||[];i.push(((e,i)=>{n(e,i),r.delete(t)})),r.set(t,i)}rejectActivatePortCallbackWithError(e,t){const n=this.activatePortCallbacks.get(e);n&&n.forEach((e=>{for(const n of e)n(t,null)}))}addRequestChannelCallback(e,t,n){let r=this.requestChannelCallbackMap.get(e);r||(r=new Map,this.requestChannelCallbackMap.set(e,r)),r.set(t,((e,i)=>{n(e,i),r.delete(t)}))}getRequestChannelCallback(e,t){const n=this.requestChannelCallbackMap.get(e);if(!n)return null;const r=n.get(t);return r||null}rejectRequestChannelCallbackWithError(e,t){const n=this.requestChannelCallbackMap.get(e);if(!n)return;const r=n.values();let i=r.next();for(;!i.done;){(0,i.value)(t,null),i=r.next()}}requestOpenChannelTo(e,t){return new Promise(((n,r)=>{const i=this.portsMap.get(e);if(i){const e=i.get(t);if(e)return void n(e)}this.logger.zsymb(3,"2T23ak",["Request a channel - (id: '{}' - scripts: ['{}', '{}'])","IujkOD"],t,this.nameOfCurrentScript,e),this.addRequestChannelCallback(e,t,((i,o)=>{i?r(i):(this.logger.zsymb(3,"yzSCTc",["Request channel successfully âœ… - (id: '{}' - scripts: ['{}', '{}'])","2-Ir1L"],t,this.nameOfCurrentScript,e),n(o))}));const o={type:U.a,data:{channel:j.a.OPEN_CHANNEL_TO,data:[this.nameOfCurrentScript,e,t]}};s(o)}))}addPort(e,t,n,r){let i=this.portsMap.get(e);i||(i=new Map,this.portsMap.set(e,i));if(i.has(t)){const r=i.get(t),{channelSessionID:o}=r;if(o>n)return this.logger.zsymb(9,"AkuqeH",["Received outdated port! Use the current port - (id: '{}' - scripts: ['{}', '{}'])","TiUXY8"],t,this.nameOfCurrentScript,e),r}const o=new B(r,this.nameOfCurrentScript,e,t,n);return i.set(t,o),o}addReceiveOpenChannelRequestListener(e,t,n){let r=this.receiveOpenChannelRequestListeners.get(e);r||(r=new Map,this.receiveOpenChannelRequestListeners.set(e,r)),r.set(t,n)}applyReceiveOpenChannelRequestListener(e,t,n){const r=this.receiveOpenChannelRequestListeners.get(e);if(!r)return;const i=r.get(t);i&&i(n)}onReceiveOpenChannelRequest(e,t,n){this.logger.zsymb(3,"4Ey9GT",["Wait for connection from channel - (id: '{}' - scripts: ['{}', '{}'])","1IwLPf"],t,e,this.nameOfCurrentScript),this.addReceiveOpenChannelRequestListener(e,t,(r=>{this.logger.zsymb(3,"D7JLiH",["Succesfully connect to requester via channel âœ… - (id: '{}' - scripts: ['{}', '{}'])","-d8u9a"],t,e,this.nameOfCurrentScript),n(r)}))}debug_logPendingMessage(){const e={},t=this.portsMap.entries();let n=t.next();for(;!n.done;){const[r,i]=n.value;e[r]={};const o=i.entries();let s=o.next();for(;!s.done;){const[t,n]=s.value;e[r][t]=n.getPendingMessage(),s=o.next()}n=t.next()}this.logger.zsymb(11,"SF6-J5",["Pending messages: {}","onnIYN"],e)}onOpenChannelTo(e,t,n){throw new Error("Method not implemented.")}onPortDelivered(e,t,n){throw new Error("Method not implemented.")}})||L)||L)||L;r.ModuleContainer.registerSingleton(k.b,z);var q=n("UK4g"),G=n("DI/x"),$=n("0Grr"),H=n("oyvS"),Q=n.n(H);class K extends $.a{getUserDataPath(){return r.ModuleContainer.resolve(i.a).createAppPathManager().getPath("userData")}async getDBRoot(){const e=await this.getUserDataPath();if(null===e)throw new G.l("Can't retrieve 'userData' path!");return Q.a.join(e,q.a,"_production")}async getMainBackupRoot(){const e=await this.getUserDataPath();if(null===e)throw new G.l("Can't retrieve 'userData' path!");let t="_production";return t+="_bu",Q.a.join(e,q.a,"_production_bu")}async getTempBackupRoot(){const e=await this.getUserDataPath();if(null===e)throw new G.l("Can't retrieve 'userData' path!");let t="_production";return t+="_temp_bu",Q.a.join(e,q.a,"_production_temp_bu")}async getRejectBackupRoot(){const e=await this.getUserDataPath();if(null===e)throw new G.l("Can't retrieve 'userData' path!");let t="_production";return t+="_rej_bu",Q.a.join(e,q.a,"_production_rej_bu")}}r.ModuleContainer.registerSingleton($.b,K);var Y=n("lehO");Object(Y.a)(),r.ModuleContainer.resolve(v).install();var V=n("CZFA"),W=n("stHK"),Z=n("PdSl");r.ModuleContainer.registerSingleton(V.a,class{writeLatestBackUpInfo(e,t=!1){const n={type:Z.a,data:{type:W.a.WRITE_LATEST_BACK_UP_LOG,data:{data:e,reset:t}}};s(n)}});var J=n("KS+g");setInterval((()=>{const e={type:J.b,data:{type:J.c,data:{}}};s(e)}),3e4);var X=n("xM06"),ee=n("YEoC");const te=null;let ne=function(e){return e[e.SQLITE_OK=0]="SQLITE_OK",e[e.SQLITE_ERROR=1]="SQLITE_ERROR",e[e.SQLITE_INTERNAL=2]="SQLITE_INTERNAL",e[e.SQLITE_PERM=3]="SQLITE_PERM",e[e.SQLITE_ABORT=4]="SQLITE_ABORT",e[e.SQLITE_BUSY=5]="SQLITE_BUSY",e[e.SQLITE_LOCKED=6]="SQLITE_LOCKED",e[e.SQLITE_NOMEM=7]="SQLITE_NOMEM",e[e.SQLITE_READONLY=8]="SQLITE_READONLY",e[e.SQLITE_INTERRUPT=9]="SQLITE_INTERRUPT",e[e.SQLITE_IOERR=10]="SQLITE_IOERR",e[e.SQLITE_CORRUPT=11]="SQLITE_CORRUPT",e[e.SQLITE_NOTFOUND=12]="SQLITE_NOTFOUND",e[e.SQLITE_FULL=13]="SQLITE_FULL",e[e.SQLITE_CANTOPEN=14]="SQLITE_CANTOPEN",e[e.SQLITE_PROTOCOL=15]="SQLITE_PROTOCOL",e[e.SQLITE_EMPTY=16]="SQLITE_EMPTY",e[e.SQLITE_SCHEMA=17]="SQLITE_SCHEMA",e[e.SQLITE_TOOBIG=18]="SQLITE_TOOBIG",e[e.SQLITE_CONSTRAINT=19]="SQLITE_CONSTRAINT",e[e.SQLITE_MISMATCH=20]="SQLITE_MISMATCH",e[e.SQLITE_MISUSE=21]="SQLITE_MISUSE",e[e.SQLITE_NOLFS=22]="SQLITE_NOLFS",e[e.SQLITE_AUTH=23]="SQLITE_AUTH",e[e.SQLITE_FORMAT=24]="SQLITE_FORMAT",e[e.SQLITE_RANGE=25]="SQLITE_RANGE",e[e.SQLITE_NOTADB=26]="SQLITE_NOTADB",e[e.SQLITE_NOTICE=27]="SQLITE_NOTICE",e[e.SQLITE_WARNING=28]="SQLITE_WARNING",e[e.SQLITE_ROW=100]="SQLITE_ROW",e[e.SQLITE_DONE=101]="SQLITE_DONE",e[e.SQLITE_BUSY_RECOVERY=261]="SQLITE_BUSY_RECOVERY",e}({});class re extends Error{constructor(...e){super(...e),this.name="BroadcastSQLiteCorruptError",this.message="BroadcastSQLiteCorruptError",this.code="SQLITE_CORRUPT",this.errno=ne.SQLITE_CORRUPT}}let ie=function(e){return e[e.INIT=0]="INIT",e[e.OPEN=1]="OPEN",e[e.SLEEP=2]="SLEEP",e[e.CLOSED=3]="CLOSED",e}({});class oe{constructor(){this.status=void 0,this.lastUsed=void 0,this.activeRequests=void 0,this.requestedName=void 0}}var se=n("CDI/"),ae=n("X34b");const ce=5e3;let ue=null;const le=()=>{if(null===ue){const e=r.ModuleContainer.resolve(g.ZLoggerFactory);ue=e.createZLogger("sql",["pool"])}return ue},de={isUsed:!1,openStartTime:-1,doneOpenTime:-1};class fe extends oe{constructor(){super(),this.instance=void 0,this.requestedVersion=0,this.requestedMode=ee.g.READWRITE,this.databaseFilePath="",this.cipherKey="",this.wakeLock=null,this.closeLock=null,this.logger=void 0,this.activeRequests=0,this.status=ie.INIT,this.lastUsed=0,this.requestedName="",this.connInfo=de;const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger(q.h,["connection"])}async open(e,t,n,i){try{this.requestedName=e,this.requestedMode=i,this.cipherKey=n;const o=r.ModuleContainer.resolve($.b);this.databaseFilePath=await o.getDBFilePath(e,{createParentDirIfNotExist:!0}),await this._doOpen(),this.status=ie.OPEN,t===te?this.getCurrentVersion().then((e=>{this.requestedVersion=e})):this.requestedVersion=t}catch(o){throw this.close(),o}return this}appendConnInfoToQueryResult(e){const{isUsed:t}=this.connInfo;if(t)return{result:e};const{openStartTime:n,doneOpenTime:r}=this.connInfo;return this.connInfo.isUsed=!0,{result:e,connInfo:{open:{startTime:n,endTime:r}}}}updateConnInfo(e){this.connInfo=Object(D.a)(Object(D.a)({},this.connInfo),e)}async _doOpen(e=!1){const t=Date.now();this.instance=await Object(ae.b)(this.databaseFilePath,this.cipherKey);const n=Date.now();this.updateConnInfo({openStartTime:t,doneOpenTime:n}),this.instance.addListener("error",(e=>{}))}async executeSQL(e){return"string"==typeof e?new Promise(((t,n)=>{this.instance.exec(e,(function(e){e?n(e):t()}))})):this.executeSQL(e.join(";"))}async sleep(){if(this.status===ie.OPEN)return this.status=ie.SLEEP,this._safeClose(3,!0)}async wake(){if(this.lastUsed=Date.now(),this.status===ie.SLEEP){var e;if(this.closeLock)await(null===(e=this.closeLock)||void 0===e?void 0:e.promise);if(null===this.wakeLock){const e=new o.b.Container;this.wakeLock=e,this._doOpen(!0).then((()=>{this.status=ie.OPEN,this.wakeLock=null,null==e||e.resolve()}))}return this.wakeLock.promise}}async close(){if(this.status!==ie.CLOSED)return this._safeClose().then((()=>{this.status=ie.CLOSED}))}async reopen(){this.status===ie.CLOSED&&await this.open(this.requestedName,this.requestedVersion,this.cipherKey,this.requestedMode)}async _safeClose(e=3,t=!1){this.closeLock||(this.closeLock=new o.b.Container);this.requestedName,this.requestedVersion,this.requestedMode;const n=t?"sleep":"close",r=async e=>{var t,i;const o=await this._close();var s;switch((s=o)?s.errno?s.errno:X.s.UNKNOWN:X.s.OK){case X.s.OK:0,null===(t=this.closeLock)||void 0===t||t.resolve(),this.closeLock=null;break;case X.s.BUSY:if(e>0){0,setTimeout((()=>{r(e-1)}),250);break}case X.s.MISUSE:if("SQLITE_MISUSE: Database is closed"===o.message){var a;null===(a=this.closeLock)||void 0===a||a.resolve(),this.closeLock=null;break}default:throw null===(i=this.closeLock)||void 0===i||i.resolve(),this.closeLock=null,new G.m(`Can't ${n} connection`)}};return r(e),this.closeLock.promise}async _close(){const e=this.instance;if(e)return new Promise((t=>{e.close((e=>{t(e)}))}))}setCurrentVersion(e){return this.executeSQL(`PRAGMA user_version = ${e};`)}async version(){return this.requestedVersion}async run(e,t=[]){const n=this.validateParams(t,e.params);await this.wake();const r=await new Promise(((t,r)=>{this.instance.run(e.query,n,(function(e){var n;e?-1==(null==e||null===(n=e.message)||void 0===n?void 0:n.indexOf("UNIQUE constraint failed"))?r(e):t({lastID:this.lastID,changes:this.changes}):t({lastID:this.lastID,changes:this.changes})}))}));return this.appendConnInfoToQueryResult(r)}async runs(e,t){const n=t.length;for(let o=0;o<n;o+=1)t[o]=this.validateParams(t[o],e.params);await this.wake();const r=this.instance,i=await new Promise((async(n,i)=>{const o=e=>{e&&i(e)};try{r.serialize((()=>{r.run(se.a.query,o);const s=this.instance.prepare(e.query);t.forEach((e=>{s.bind(e).run()})),s.finalize(),r.run(se.b.query,(e=>{e?i(e):n()}))}))}catch(s){i(s)}}));return this.appendConnInfoToQueryResult(i)}async all(e,t){const n=this.validateParams(t,e.params);await this.wake();const r=await new Promise((async(t,r)=>{try{this.instance.all(e.query,n,((e,n)=>{e?r(e):t(n)}))}catch(i){r(i)}}));return this.appendConnInfoToQueryResult(r)}async get(e,t){const n=this.validateParams(t,e.params);await this.wake();const r=await new Promise((async(t,r)=>{try{this.instance.get(e.query,n,((e,n)=>{e?r(e):t(n)}))}catch(i){r(i)}}));return this.appendConnInfoToQueryResult(r)}async serialize(e){const t=e.length;for(let r=0;r<t;r+=1){const{method:t,query:n,params:i}=e[r];switch(t){case"run":e[r].params=this.validateParams(i,n.params);break;case"runs":{const e=i,t=e.length;for(let r=0;r<t;r+=1)e[r]=this.validateParams(e[r],n.params);break}}}await this.wake();const n=await new Promise(((t,n)=>{const r=e=>{e&&n(e)},i=this.instance;i.serialize((()=>{i.exec(se.a.query,r);for(const{method:t,query:n,params:o}of e)switch(t){case"run":i.run(n.query,o,r);break;case"runs":for(const e of o)i.run(n.query,e,r)}i.exec(se.b.query,(e=>{e?n(e):t()}))}))}));return this.appendConnInfoToQueryResult(n)}async optimizedAll(e,t){await this.wake();const n=async e=>new Promise(((t,n)=>{this.instance.prepare(e,(function(e){e?n(e):t(this)}))})),r=async(e,t)=>new Promise(((n,r)=>{e.bind(t).all(((e,t)=>{e?r(e):n(t)}))})),i=async e=>new Promise(((t,n)=>{e.finalize((e=>{e?n(e):t()}))})),o=await new Promise((async(o,s)=>{try{const s=[];for(let o=0;o<e.length;o+=1){const a=e[o],c=await n(a.query);for(const e of t[o]){this.validateParams(e,a.params);const t=await r(c,e);s.push(...t)}await i(c)}o(s)}catch(a){s(a)}}));return this.appendConnInfoToQueryResult(o)}async getCurrentVersion(){await this.wake();const{result:e}=await this.get({query:"PRAGMA user_version;",params:0});return e.user_version}validateParams(e,t){if(0===t)return[];if(!e||e.length<t)throw new G.m("SQL statement bind params are not enough!");return e.length>t?e.slice(0,t):e}}var pe=new class{constructor(e){this._idleConnectionTTL=e,this.createdConnection=void 0,this.createdConnection=[],setInterval((()=>{this._putIdleConnectionsToSleep()}),1e4)}async connect(e,t,n,r){const i=new fe;return await i.open(e,t,n,r),this.createdConnection.push(i),i}async _putIdleConnectionsToSleep(){const e=Date.now(),t=this.createdConnection.filter((e=>e.status===ie.OPEN)).length-45;if(t<0)return;let n=this.createdConnection.filter((t=>(0===t.lastUsed&&(t.lastUsed=e),t.status===ie.OPEN&&0===t.activeRequests&&e-t.lastUsed>this._idleConnectionTTL))).sort(((e,t)=>e.lastUsed-t.lastUsed));n.length>t&&(n=n.slice(0,t)),await Promise.all(n.map((e=>e.sleep().catch((e=>{})))))}debug_connectionList(){const e={init:[],awake:[],sleep:[],closed:[]};return this.createdConnection.forEach((({status:t,requestedName:n,requestedMode:r})=>{const i=`[${r}] ${n}`;switch(t){case ie.INIT:e.init.push(i);break;case ie.OPEN:e.awake.push(i);break;case ie.SLEEP:e.sleep.push(i);break;case ie.CLOSED:e.awake.push(i)}})),e}}(15e3),he=n("oAAg");var ye=n("AH6j");let me;!function(e){class t extends ye.a{constructor(){super("corruption")}}e.CorruptionEvent=t}(me||(me={}));n("wH4e");var ge=n("g+8e"),_e=n.n(ge);function ve(e,t,n=1,r=1e4){if("function"!=typeof e)throw Error("Invalid params!");return new Promise(((i,o)=>{let s=0;const a=()=>{s++,e(s).then(i).catch((async e=>{if(s>=n||!(await t(e)))return o(e);setTimeout((()=>{a()}),r)}))};a()}))}ye.b;let be;!function(e){class t extends ye.a{constructor(e){super("result"),this.result=e}}e.ResultEvent=t;class n extends ye.a{constructor(e){super("error"),this.error=e}}e.ErrorEvent=n;class r extends ye.a{constructor(){super("finally")}}e.FinallyEvent=r}(be||(be={}));class we extends ye.b{constructor(e){super(),this.fn=void 0,this.retryCounter=0,this.on=this.addEventListener.bind(this),this.fn=e}execute(e){null!=e&&e.isRetry&&this.retryCounter++,this.fn().then((e=>{this.dispatchEvent(new be.ResultEvent(e))})).catch((e=>{this.dispatchEvent(new be.ErrorEvent(e))}))}end(){this.dispatchEvent(new be.FinallyEvent)}isReachMaxRetry(e){return this.retryCounter>=e}}var Ee=n("MRjZ");ye.a;class Se extends Error{}class Te extends Error{}class Ie{constructor(){this.portContainer=void 0,this.portContainer=new o.b.Container}install(e){e.promise.then((e=>this.portContainer.resolve(e))).catch((e=>this.portContainer.reject(e)))}static getInstance(){return null===Ie.instance&&(Ie.instance=new Ie),Ie.instance}async analyzeCorruption(e){const t={typeID:X.i,data:{type:X.b,data:{database:e}}},n=await this.getPort();return await n.invokeMessage(t)}async getPort(){return await this.portContainer.promise}}Ie.instance=null;class Oe{constructor(){this.portContainer=void 0,this.portContainer=new o.b.Container}static getInstance(){return null===Oe.instance&&(Oe.instance=new Oe),Oe.instance}install(e){e.promise.then((e=>this.portContainer.resolve(e))).catch((e=>this.portContainer.reject(e)))}async signalCorruption(e){const t={typeID:X.i,data:{type:X.p,data:{corruptionInfo:e}}},n=await this.getPort();await n.invokeMessage(t)}async getPort(){return await this.portContainer.promise}}Oe.instance=null;var Ce=n("h0S/");let Pe,Ae=function(e){return e.PARTIAL="PARTIAL",e.FULL="FULL",e}({});class ke{constructor(e,t,n){this.logger=void 0,this.databaseFullName=void 0,this.onCorruptionDetected=void 0,this.onCorruptionBroadcast=void 0,this.onBeforeResolveCorruption=void 0,this.onAfterResolveCorruption=void 0,this.onResolveCorruptionError=void 0,this.logger=n,this.databaseFullName=e,this.onCorruptionDetected=t}wrap(e,t){return async(...n)=>ve((()=>e(...n).catch((async e=>{const t=await this.handleError(e);if(t)throw t;throw new Se}))),(e=>e instanceof Se),(null==t?void 0:t.maxRetry)||2,0)}async invokeBeforeResolveCorruption(){if(this.onBeforeResolveCorruption){const e=new o.b.Container,t=t=>{t?e.reject(t):e.resolve()};return this.onBeforeResolveCorruption(t),e.promise}}async invokeAfterResolveCorruption(){if(this.onAfterResolveCorruption){const e=new o.b.Container,t=t=>{t?e.reject(t):e.resolve()};return this.onAfterResolveCorruption(t),e.promise}}async invokeCorruptionBroadcast(e){if(this.onCorruptionBroadcast){const t=new o.b.Container,n=e=>{e?t.reject(e):t.resolve()};return this.onCorruptionBroadcast(e,n),t.promise}}async invokeResolveCorruptionError(e){var t;return null===(t=this.onResolveCorruptionError)||void 0===t?void 0:t.call(this,e)}isCorruptionError(e){return ke.CORRUPTION_ERROR_CODE.includes(e.errno)}async handleError(e){if(this.isCorruptionError(e))try{return await this.onCorruptionDetected(this.databaseFullName),null}catch(t){return t instanceof Te?e:(this.invokeResolveCorruptionError(t),t)}return e}}var je;ke.CORRUPTION_ERROR_CODE=[ne.SQLITE_CORRUPT],(je=Pe||(Pe={})).remove=async e=>_e.a.remove(e),je.removeMulti=async e=>{await Promise.all(e.map((e=>_e.a.remove(e))))},je.isExist=async e=>_e.a.pathExists(e);class De{constructor(){this.logger=void 0,this.corruptionAnalyzeProducer=void 0,this.corruptionAnalyzeProducer=Ie.getInstance(),this.logger=r.ModuleContainer.resolve(g.ZLoggerFactory).createZLogger(Ce.ZLoggerNametags.sqlCorruption,["resolver"])}async analyzeCorruption(e){return this.corruptionAnalyzeProducer.analyzeCorruption(e)}async resolveCorruption(e){try{this.logger.zsymb(3,"GyyfRJ",["Start resolve corruption","7ERhs8"]);const t=await this.getAllDatabaseFilePaths([e.databaseCorrupt,...e.databaseImpacts]);this.logger.zsymb(3,"WlTwt6",["Will remove database files: {}","-fikVC"],JSON.stringify(t)),await Pe.removeMulti(t),this.logger.zsymb(3,"Khl931",["Resolve corruption success","gUVpaj"])}catch(t){throw this.logger.zsymb(21,"E3gbBT",["An error ocurred during resolve corruption. Error: {}","Cslg-5"],t),t}}async getAllDatabaseFilePaths(e){const t=r.ModuleContainer.resolve($.b),n=(await o.a.asyncMapParallel(e,(async e=>{const n=await t.getAllDBFilePaths(e);return[n.fullDBpath,n.fullShmPath,n.fullWalPath]}))).flat();return await o.a.asyncFilterParallel(n,(e=>Pe.isExist(e)))}}class Re{constructor(){this.logger=void 0,this.loggerInvoker=void 0,this.mapCorruptionInvokers=void 0,this.corruptionResolver=void 0,this.corruptionSignalProducer=void 0,this.onCorruptionDetected=async e=>{try{this.logger.zsymb(3,"cU4Ngq",["Corruption detected on database '{}'","FuWhJw"],e);const t=await this.corruptionResolver.analyzeCorruption(e);if(null===t)throw this.logger.zsymb(21,"gNgYVH",["Cannot analyze corruption for database '{}'","ew3D3y"],e),new Te;switch(this.logger.zsymb(21,"mzL-3B",["Analyze corruption for database '{}' success. {}","jbBEgj"],e,JSON.stringify(t)),t.type){case Ae.FULL:await this.handleCorruptionFullImpact(t),this.corruptionSignalProducer.signalCorruption(t);break;case Ae.PARTIAL:this.corruptionSignalProducer.signalCorruption(t),await this.handleCorruptionPartialImpact(t)}}catch(t){throw t}};const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger(Ce.ZLoggerNametags.sqlCorruption,[Ce.ZLoggerNametags.controller]),this.loggerInvoker=e.createZLogger(Ce.ZLoggerNametags.sqlCorruption,["invoker"]),this.mapCorruptionInvokers=new Map,this.corruptionResolver=new De,this.corruptionSignalProducer=Oe.getInstance()}static getInstance(){return null===Re.instance&&(Re.instance=new Re),Re.instance}createInvoker(e){let t=this.mapCorruptionInvokers.get(e);return t||(t=new ke(e,this.onCorruptionDetected,this.loggerInvoker),this.mapCorruptionInvokers.set(e,t),t)}async handleCorruptionFullImpact(e){const t=Array.from(this.mapCorruptionInvokers.values());try{await Promise.all(t.map((t=>t.invokeCorruptionBroadcast(e)))),await this.corruptionResolver.resolveCorruption(e)}catch(n){throw n}}async handleCorruptionPartialImpact(e){const t=this.mapCorruptionInvokers.get(e.databaseCorrupt);await t.invokeBeforeResolveCorruption(),await this.corruptionResolver.resolveCorruption(e),await t.invokeAfterResolveCorruption()}}Re.instance=null;class xe{constructor(){this.pauseCounter=0,this.lockContainer=null}pause(){var e;this.pauseCounter++,this.lockContainer=null!==(e=this.lockContainer)&&void 0!==e?e:new o.b.Container}resume(e){var t,n;(this.pauseCounter=Math.max(--this.pauseCounter,0),e)?null===(t=this.lockContainer)||void 0===t||t.reject(e):0===this.pauseCounter&&(null===(n=this.lockContainer)||void 0===n||n.resolve(),this.lockContainer=null)}async getLockPromise(){var e;await(null===(e=this.lockContainer)||void 0===e?void 0:e.promise)}}class Ne{get hasActiveConnection(){return!!this.readerConnections.length||!!this.writerConnection}constructor(e){this.createConnection=void 0,this.checkUpgradeNeeded=void 0,this.locker=void 0,this.maxRetry=void 0,this.writerQueue=void 0,this.readerQueue=void 0,this.availableToRead=!0,this.availableToWrite=!0,this.readerConnections=[],this.writerConnection=null,this.run=void 0,this.runs=void 0,this.all=void 0,this.get=void 0,this.serialize=void 0,this.optimizedAll=void 0,this.schemaMigrateContainer=null,this.onCorruptionBroadcast=async(e,t)=>{try{this.locker.pause();const e=[this.writerConnection,...this.readerConnections];await Promise.all(e.map((e=>null==e?void 0:e.close()))),t(),this.locker.resume(new re)}catch(n){t(n),this.locker.resume(n)}},this.onBeforeResolveCorruption=async e=>{try{this.locker.pause();const t=[this.writerConnection,...this.readerConnections];await Promise.all(t.map((e=>null==e?void 0:e.close()))),e()}catch(t){this.locker.resume(t),e(t)}},this.onAfterResolveCorruption=async e=>{try{const t=[this.writerConnection,...this.readerConnections];await Promise.all(null==t?void 0:t.map((e=>null==e?void 0:e.reopen())));null!==this.schemaMigrateContainer&&void 0!==this.schemaMigrateContainer.value&&await this.checkSchemaMigration(!0),e(),this.locker.resume()}catch(t){e(t),this.locker.resume(t)}};const{createConnection:t,checkUpgradeNeeded:n,databaseFullName:r,maxReaderConnection:i,maxRetry:o}=e,s=Re.getInstance().createInvoker(r);s.onCorruptionBroadcast=this.onCorruptionBroadcast,s.onBeforeResolveCorruption=this.onBeforeResolveCorruption,s.onAfterResolveCorruption=this.onAfterResolveCorruption,this.createConnection=s.wrap(t),this.checkUpgradeNeeded=n,this.locker=new xe,this.maxRetry=null!=o?o:1,this.writerQueue=this.createWritePool(),this.readerQueue=this.createReadPool(null!=i?i:0),this.run=this.queueWrap(s.wrap(this.rawRun.bind(this))),this.runs=this.queueWrap(s.wrap(this.rawRuns.bind(this))),this.all=this.queueWrap(s.wrap(this.rawAll.bind(this))),this.get=this.queueWrap(s.wrap(this.rawGet.bind(this))),this.serialize=this.queueWrap(s.wrap(this.rawSerialize.bind(this)),Le),this.optimizedAll=this.queueWrap(s.wrap(this.rawOptimizedAll.bind(this)))}async getWriterConnection(){var e;return this.writerConnection=null!==(e=this.writerConnection)&&void 0!==e?e:await this.createConnection(ee.g.READWRITE)}async checkSchemaMigration(e=!1){if(null!==this.schemaMigrateContainer)try{const t=await this.schemaMigrateContainer.promise;if(!e&&t)return null}catch(t){}this.schemaMigrateContainer=new o.b.Container;try{this.locker.pause();const e=await this.getWriterConnection(),t=await e.getCurrentVersion();return await this.attemptToUpdateUnexpectedInvalidSchema(e,t),await this.checkUpgradeNeeded(t),this.locker.resume(),this.schemaMigrateContainer.resolve(!0),null}catch(n){throw this.locker.resume(n),this.schemaMigrateContainer.resolve(!1),n}}async attemptToUpdateUnexpectedInvalidSchema(e,t){try{const n=async(t,n)=>(await e.all({query:`PRAGMA table_info(${t})`,params:0},[])).result.some((({name:e})=>e===n));if(1===t){const t=e.requestedName;if(t.includes("Core/Message")){if(!(await n("message","forwardFail"))){await e.run({query:"ALTER TABLE message ADD COLUMN forwardFail 'TEXT'",params:0},[]);le().zsymb(0,"cld9XV","Add column 'forwardFail' for 'message' table")}}else if(t.includes("Core/Index")){if(!(await n("catalog_db","catalog_photo"))){await e.run({query:"ALTER TABLE catalog_db ADD COLUMN catalog_photo 'TEXT' DEFAULT ''",params:0},[]),await e.run({query:"ALTER TABLE catalog_db ADD COLUMN totalProduct 'INTEGER' DEFAULT 0",params:0},[]),await e.run({query:"ALTER TABLE catalog_db ADD COLUMN path 'TEXT' DEFAULT ''",params:0},[]);le().zsymb(0,"k9bu-Q","Add column 'catalog_db', 'totalProduct, 'path' for 'catalog_db' table")}if(await n("label","totalImage")){await e.run({query:"ALTER TABLE label DROP COLUMN totalImage",params:0},[]);le().zsymb(0,"WwtLba","Drop column 'totalImage' of 'label' table")}}}}catch(n){le().zsymb(21,"lMpVTR",["Failed to update unexpected invalid schema: {}","yun6sz"],Object(Ee.b)(n))}}async rawRun(e,t,n=[],r){return e.run(t,n)}async rawRuns(e,t,n=[],r){return e.runs(t,n)}async rawGet(e,t,n=[],r){return e.get(t,n)}async rawAll(e,t,n=[],r){return e.all(t,n)}async rawSerialize(e,t,n){t.map((({query:e})=>e.query)).join("; ");return e.serialize(t)}async rawOptimizedAll(e,t,n,r){t.map((({query:e})=>e)).join("; ");return e.optimizedAll(t,n)}async sleep(){await this.readerQueue.clear(),await this.writerQueue.clear()}async close(){this.availableToWrite=!1,this.availableToRead=!1,await this.readerQueue.clear(),await this.writerQueue.clear()}use(e,t,n){const r=this.getAvailableQueue(e);if(null===r)throw new G.m("No connection in pool!");const i=e=>n=>{const r=new o.b.Container,{connection:i,error:s}=n;if(!i||s)return e.reject(s),r.reject(s),r.promise;const a=new we((async()=>t(i)));return a.on("result",(t=>{e.resolve(t.result),a.end()})),a.on("error",(t=>{const n=t.error;return(null==n?void 0:n.errno)!=ne.SQLITE_BUSY||a.isReachMaxRetry(this.maxRetry)?(e.reject(n),void a.end()):void setTimeout((()=>{a.execute({isRetry:!0})}),ce)})),a.on("finally",(()=>{i.activeRequests--,r.resolve()})),a.execute(),i.activeRequests++,r.promise},s=new o.b.Container;return this.locker.getLockPromise().then((()=>r.use(i(s)))).catch((e=>s.reject(e))),s.promise}getAvailableQueue(e){return e===ee.g.READONLY&&this.availableToRead?this.readerQueue:this.availableToWrite?this.writerQueue:null}queueWrap(e,t=Me){return async(...n)=>{var r;const[i]=null!==(r=n.slice(-1))&&void 0!==r?r:[{}];if(null!=i&&i.migrate){const t=await this.getWriterConnection();return e(t,...n)}return this.use(null==i?void 0:i.mode,(t=>e(t,...n)),t(...n))}}createWritePool(){return Object(he.createPool)({create:async()=>{try{await this.checkSchemaMigration();return{connection:await this.getWriterConnection(),error:null}}catch(e){return{connection:null,error:e}}},destroy:async e=>{var t;return this.writerConnection=null,null===(t=e.connection)||void 0===t?void 0:t.close()}},{min:0,max:1,autostart:!0})}createReadPool(e){return this.availableToRead=e>0,Object(he.createPool)({create:async()=>{try{await this.checkSchemaMigration();const e=await this.createConnection(ee.g.READONLY);return this.readerConnections.push(e),{connection:e,error:null}}catch(e){return{connection:null,error:e}}},destroy:async e=>{var t;this.readerConnections=this.readerConnections.filter((t=>t!==(null==e?void 0:e.connection))),await(null===(t=e.connection)||void 0===t?void 0:t.close())}},{min:0,max:e,autostart:!0})}}function Me(...e){const[t,n]=e;return{query:t,params:n}}function Le(...e){const[t]=e;return{query:{query:`[${t.map((({query:e})=>e.query)).join("; ")}]`,params:0},params:[]}}class Be{constructor(){this.poolMap=new Map,this.logger=void 0,this.areAllPoolsClosed=!1;const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger("sqlite",["pool-manager"]),process.on("uncaughtException",function(e){e.code&&!X.k.includes(e.code)&&this.closeAllPools()}.bind(this))}static getInstance(){return null===this.instance&&(this.instance=new Be),this.instance}async closeAllPools(){if(this.areAllPoolsClosed)return;this.areAllPoolsClosed=!0;const e=this.poolMap.values(),t=[];let n=e.next();for(;!n.done;){const{container:r}=n.value,i=r.value?Promise.resolve(r.value):r.promise;t.push(i.then((e=>e.close()))),n=e.next()}await Promise.all(t),this.poolMap.clear()}async getPool(e,t,n,r,i){if(this.areAllPoolsClosed)throw new Error("All pool are closed");const s=e;let a=this.poolMap.get(s);if(void 0===a){const c=async()=>new Ne({createConnection:(r=ee.g.READONLY)=>pe.connect(e,n,t,r),checkUpgradeNeeded:t=>{let r=n===te?t:n;return r=Math.max(r,1),i(e,t,r)},databaseFullName:e}),u=new o.b.Container;c().then(u.resolve).catch(u.reject),a={sessional:r,container:u},this.poolMap.set(s,a)}const{container:c}=a;return c.value||c.promise}async clearPool(e){const t=this.poolMap.get(e);if(void 0!==t){const n=await t.container.promise;await n.close(),this.poolMap.delete(e)}}async getPoolIfExists(e){const t=e;let n=this.poolMap.get(t);if(!n)return null;if(this.areAllPoolsClosed)throw new Error("All pool are closed");const{container:r}=n;return r.value||r.promise}async clearSessionalPools(){const e=this.poolMap.entries(),t=[];let n=e.next();for(;!n.done;){const[r,{sessional:i,container:o}]=n.value;if(i){const e=o.value?Promise.resolve(o.value):o.promise;t.push((async()=>{const t=await e;await t.close(),this.poolMap.delete(r)})())}n=e.next()}await Promise.all(t)}}Be.instance=null;var Fe=n("5Mby"),Ue=n("mxZZ"),ze=n("JnaT"),qe=n("ZU8H"),Ge=n("MWu7");class $e{canProcess(e){const{typeID:t}=e;return t===this.getRequestTypeID()}}let He=function(e){return e.NON_EXIST_DB="NON_EXIST_DB",e.NON_CHANGED_DB="NON_CHANGED_DB",e.SHOULD_BACK_UP="SHOULD_BACK_UP",e}({});class Qe extends AbortController{constructor(...e){super(...e),this.force=!1}isForcedAbort(){return this.force}setForceMode(e){this.force=e}}var Ke=n("igA5"),Ye=n("8Ja4"),Ve=n("iIBh"),We=n("mw/K"),Ze=n("wudS");const Je=async(e,t,n,i)=>{const o=Object(qe.b)(),s=r.ModuleContainer.resolve(V.a);try{const c=qe.a.getInstance(),u=r.ModuleContainer.resolve($.b),l=e=>!(!i||!i.signal.aborted)&&(s.writeLatestBackUpInfo({aborted:Date.now()}),e&&e(),!0);if(await Xe(),l((()=>{o.zsymb(6,"EHcxiL","Abort creating backup - done 1"),c.write(Fe.d.ABORTED,["done 1"])})))throw new Ue.a;const d=[],f=[],p=[],h=[];if(s.writeLatestBackUpInfo(Object(D.a)({dttm:Date.now()},t!==Fe.c?{usr:Object(Ze.a)(t.userId)}:{}),!0),l((()=>{o.zsymb(6,"mstWqD","Abort creating backup - before 2")})))throw new Ue.a;if(await Promise.all(n.map((async e=>{const{fullname:t}=e,n=await async function(e){const t=r.ModuleContainer.resolve($.b),n=await t.getDBFilePath(e);if(!(await Object(Ve.a)(n)))return{ok:!1,reason:He.NON_EXIST_DB};const i=await t.getMainBackupFilePath(e);if(await Object(Ve.a)(i)){if(!!0)return{ok:!1,reason:He.NON_CHANGED_DB}}return{ok:!0,reason:He.SHOULD_BACK_UP}}(t),{ok:i,reason:o}=n;i?f.push(e):(p.push(e),o===He.NON_EXIST_DB&&h.push(e))}))),0===f.length)return o.zsymb(0,"fPZK9z","No changed dbs -> Skip backup for all dbs"),void c.write(Fe.d.NO_NEED_TO_BACK_UP);if(0!==p.length){const e=p.map((({fullname:e})=>e));o.zsymb(3,"6F-58g",["Skip back up dbs: {}","vnBd5a"],e),c.write(Fe.d.SKIP_BACKING_UP_FOR_DBS,[JSON.stringify(e)])}else c.write(Fe.d.SKIP_BACKING_UP_FOR_DBS,["[]"]);const y=Date.now();c.write(Fe.d.START_CREATING_BACKUP);for(const{fullname:n,sessional:r}of f){let i="";if(r){if(t===Fe.c)throw new Error(`Session is required to create backup for this sessional db - '${n}'`);i=t.UIN}if(d.push((async()=>{const t=await e.getPool(n,i,te,r,(async(e,t,r)=>{t!==r&&o.zsymb(21,"IbFx-r",["Migrate during backup, this should not happen:  '{}' - From: {} to: {}","GR4xb5"],n,t,r)}));try{0;const e=await u.getTempBackupFilePath(n,{createParentDirIfNotExist:!0}),r={query:"VACUUM main INTO ?",params:1};await t.run(r,[e],{mode:ee.g.READWRITE})}catch(s){if(Ge.a.isCorruptError(s))throw s;0}})()),l((()=>{o.zsymb(6,"lMbFk7","Abort creating backup - in progress 3"),Xe(),c.write(Fe.d.ABORTED,["in progress 3"])})))throw new Ue.a}try{await Promise.all(d)}catch(a){o.zsymb(18,"xxfgU9","Failed to create backup",a);const e=(null==a?void 0:a.message)||"Unknown error";return c.write(Fe.d.FAILED_TO_CREATE_BACKUP,[e]),void s.writeLatestBackUpInfo({error:e})}const m=Date.now()-y;if(c.write(Fe.d.NEW_BACKUP_IS_CREATED,[`${m}`]),s.writeLatestBackUpInfo({duration:m}),o.zsymb(9,"y3ayAc",["Backup duration: {}","scEVjY"],m),l((()=>{o.zsymb(6,"aPRI4x","Abort creating backup - done 3"),Xe(),c.write(Fe.d.ABORTED,["done 3"])})))throw new Ue.a;const g=await Promise.all(f.map((async e=>{const{fullname:t}=e,n=await u.getTempBackupFilePath(t);return Object(D.a)(Object(D.a)({},e),{},{filePath:n})}))),_=await async function(e,t){const n=[],r=[];for(const{fullname:i,filePath:o,sessional:s}of e){let e="";if(s){if(t===Fe.c)throw new Error(`Session is required to validate the backup of this sessional db - '${i}'`);e=t.UIN}const r=s;await et(o,r?e:"")&&n.push(i)}await Promise.all(r);return{ok:0===n.length,corrupt:n}}(g,t);if(_){if(o.zsymb(0,"Hg4K4z","Valid backup -> Approved âœ…"),i)if(i.isForcedAbort()){if(l((()=>{o.zsymb(6,"qiBpYh","Abort creating backup - in progress 4"),Xe(),c.write(Fe.d.ABORTED,["in progress 4"])})))return}else i.signal.aborted&&o.zsymb(6,"T61RYm","Abort is skipped since 4 is running");s.writeLatestBackUpInfo({valid:!0}),async function(e,t){const n=qe.a.getInstance(),i=Object(qe.b)(),o=r.ModuleContainer.resolve($.b);try{const r=async()=>{const n=await o.getMainBackupRoot(),r=await o.getTempBackupRoot();await Object(Ve.a)(n)?(await Promise.all(e.map((async({fullname:e})=>{const t=await o.getTempBackupFilePath(e),n=await o.getMainBackupFilePath(e,{createParentDirIfNotExist:!0});return We.promises.rename(t,n)}))).catch((e=>{throw i.zsymb(18,"XtU32G","Failed to rename backup: ",e),e})),await Promise.all(t.map((async({fullname:e})=>{const t=await o.getMainBackupFilePath(e);if(await Object(Ve.a)(t))return We.promises.unlink(t)}))).catch((e=>{throw i.zsymb(18,"cm6r8u","Failed to mapping deleted dbs to backup: ",e),e})),await We.promises.rmdir(r,{recursive:!0})):await Object(Ve.d)(r,n)};let s=0;const a=(e,t)=>{i.zsymb(9,"8pb_1c",["Retry approving backup - Count: {} - Error: {}","VLJGL-"],t,e),s=t},c=Date.now();await Object(Ye.a)(r,3,a);const u=Date.now()-c;n.write(Fe.d.BACKUP_IS_APPROVED,[`${u}`,`${s}`])}catch(a){i.zsymb(18,"7Mj-CW","Failed to approve backup due to error: ",a);const t=r.ModuleContainer.resolve(V.a),o=a.message||JSON.stringify(a);n.write(Fe.d.FAILED_TO_APPROVE_BACKUP,[o]),t.writeLatestBackUpInfo({approvedError:o})}}(f,h).then((()=>{t!==Fe.c&&function(e,t){const n=Ke.a.getInstance(),r={dttm:Date.now(),usr:Object(Ze.a)(e),duration:t};n.setObject(X.m,r)}(t.userId,m),s.writeLatestBackUpInfo({approved:!0})}))}else o.zsymb(0,"k8kgRm","Invalid backup -> Delete âŒ"),async function(){const e=qe.a.getInstance(),t=Object(qe.b)(),n=r.ModuleContainer.resolve($.b),i=r.ModuleContainer.resolve(V.a);try{const r=async()=>{const e=await n.getTempBackupRoot();await _e.a.remove(e)};let o=0;const s=(e,n)=>{t.zsymb(9,"zhay7c",["Retry reject backup - Count: {} - Error: {}","oq1byu"],n,e),o=n},a=Date.now();await Object(Ye.a)(r,3,s);const c=Date.now()-a;e.write(Fe.d.BACK_UP_IS_DELETED,[`${c}`,`${o}`]),i.writeLatestBackUpInfo({deleted:!0})}catch(a){t.zsymb(18,"NCfAMe","Failed to delete backup due to error: ",a);const r=a.message||JSON.stringify(a);e.write(Fe.d.FAILED_TO_DELETE_BACKUP,[r]),i.writeLatestBackUpInfo({deletedError:r})}}().then((()=>{s.writeLatestBackUpInfo({deleted:!0})}))}catch(a){if(!(a instanceof Ue.a)){const e=(null==a?void 0:a.message)||"Unknown error";s.writeLatestBackUpInfo({error:e})}throw a}};async function Xe(){const e=Object(qe.b)(),t=r.ModuleContainer.resolve($.b);try{const e=await t.getTempBackupRoot();await Object(Ve.a)(e)&&await We.promises.rmdir(e,{recursive:!0})}catch(n){throw e.zsymb(18,"AAE5ni","Failed to clean unfinished work:",n),n}}async function et(e,t){const n=Object(qe.b)();if(!(await Object(Ve.a)(e)))throw new Error("Failed to check db corruption against non-existed db!");try{const i=await Object(ae.b)(e,t),o=(async()=>"ok"!==(await new Promise(((e,t)=>{i.all("PRAGMA main.integrity_check",((n,r)=>{n?t(n):e(r)}))})))[0].integrity_check)();try{await new Promise(((e,t)=>{i.close((n=>{n?t(n):e()}))}))}catch(r){n.zsymb(6,"G8P3R9","Error to close connection while checking db corruption",r)}return o}catch(r){throw n.zsymb(18,"FCS19e","Failed to check db corruption due to error:",r),r}}class tt extends $e{static getInstance(){return null===this.instance&&(this.instance=new tt),this.instance}constructor(){super(),this.poolManager=Be.getInstance(),this.suspendQueryProcessing=null,this.resumeQueryProcessing=null,this.backupQos=ze.a.getInstance(),this.createBackupTaskQueue=new M.a("key"),this.taskEnqueuedListeners=[],this.logger=Object(qe.b)(),this.handleEmptyTaskQueue()}install(e){const{suspendFn:t,resumeFn:n}=e;this.suspendQueryProcessing=t,this.resumeQueryProcessing=n}async abortCreateBackup(e,t=!1){const n=async e=>{const{abortController:n,container:r}=e;t&&n.setForceMode(!0),n.abort();try{await r.promise}catch(i){if(!(i instanceof Ue.a))throw i}};if(e===Fe.a){const e=[];return this.createBackupTaskQueue.forEach((t=>{e.push(n(t))})),Promise.all(e)}{const t=this.getCreateBackupTaskKey(e),r=this.createBackupTaskQueue.find(t);if(null!==r)return n(r);this.logger.zsymb(0,"Elk0rh","Skip aborting due to no backup is creating")}}handleEmptyTaskQueue(){this.onTaskEnqueued((()=>{this.runNextTask()}))}runNextTask(){const e=(e,t,n)=>new Promise((async(r,i)=>{try{const o=Date.now(),s=setTimeout((()=>{this.logger.zsymb(18,"MKWfnN","Failed to create backup due to long pending"),i(new Ue.e)}),5e3),a=Date.now();await this.suspendQueryProcessing();const c=Date.now();clearTimeout(s);const u=c-a;this.logger.zsymb(0,"6bDTHI",`Done pending sql statement after ${u} ms`),await Je(this.poolManager,e,t,n);const l=Date.now();r(l-o)}catch(o){const e=o instanceof Ue.a,t=Ge.a.isCorruptError(o);if(e||t)i(o);else{const e=(null==o?void 0:o.message)||"Unknown error",t=new Ue.d(e);i(t)}}finally{await this.resumeQueryProcessing()}})).then((e=>{this.backupQos.sendSuccessCreateBackUpQos(e)})).catch((e=>{throw e instanceof Ue.a||this.backupQos.sendFailedCreateBackUpQos(e),e}));let t=this.createBackupTaskQueue.peek();if(null!==t){const{session:n,data:r,abortController:i,container:o}=t;e(n,r,i).then(o.resolve).catch(o.reject).finally((()=>{this.createBackupTaskQueue.dequeue(),this.runNextTask()}))}else this.handleEmptyTaskQueue()}onTaskEnqueued(e){this.taskEnqueuedListeners.push(e)}triggerTaskEnqueuedEvent(){for(const e of this.taskEnqueuedListeners)e();this.taskEnqueuedListeners=[]}enqueueTask(e){const{session:t}=e,n=this.getCreateBackupTaskKey(t);null===this.createBackupTaskQueue.find(n)&&(this.createBackupTaskQueue.append(e),this.triggerTaskEnqueuedEvent())}createBackup(e,t){const n=this.getCreateBackupTaskKey(e),r=this.createBackupTaskQueue.find(n);if(r){const{container:e}=r;return e.promise}{const r=new o.b.Container,i={key:n,container:r,session:e,data:t,abortController:new Qe};return this.enqueueTask(i),r.promise}}getRequestTypeID(){return X.c}getCreateBackupTaskKey(e){return e===Fe.c?e:e.userId}async handle(e){const{type:t,data:n}=e;switch(t){case X.g:{const{session:e,data:t}=n;return this.createBackup(e,t)}case X.a:{const{session:e,force:t}=n;return this.abortCreateBackup(e,t)}default:return T}}}async function nt(e,t){return e.clearPool(t)}tt.instance=null;const rt=new Map;class it extends $e{static getInstance(){return null===this.instance&&(this.instance=new it),this.instance}constructor(){super(),this.poolManager=Be.getInstance()}install(){}getRequestTypeID(){return X.h}async handle(e){const{type:t,data:n}=e;switch(t){case X.f:{const{fullname:e}=n;return nt(this.poolManager,e)}case X.j:{const{fullname:e}=n;return async function(e,t){const n=r.ModuleContainer.resolve($.b),i=await n.getDBRoot(),o=Q.a.join(i,t),s=`${o}.db`;if(!(await Object(Ve.a)(s)))return;await nt(e,t);const a=X.o.map((e=>`${o}${e}`)),c=[];for(const r of a)c.push((async()=>{await Object(Ve.a)(r)&&await We.promises.unlink(r)})());await Promise.all(c).then((()=>Promise.resolve()))}(this.poolManager,e)}case X.l:{const{fullname:e}=n;return async function(e){let t=rt.get(e);if(void 0!==t){const[e,n]=t.value||await t.promise;if(null!==e)return n}t=new o.b.Container,rt.set(e,t);try{const n=r.ModuleContainer.resolve($.b),i=await n.getDBRoot(),o=Q.a.join(i,e),s=[],a=`${o}.db`;if(await Object(Ve.a)(a))s.push("");else{const e=o;if(await Object(Ve.a)(e)){const t=await We.promises.readdir(e);await Promise.all(t.map((async e=>{const t=Q.a.join(o,e),n=await We.promises.stat(t).catch((()=>null));if(null!==n&&n.isDirectory()){const e=(await We.promises.readdir(t).catch((()=>[]))).filter((e=>e.endsWith(X.o[0]))).map((e=>{const t=e.lastIndexOf(".");return e.slice(0,t)}));s.push(...e)}})))}}return t.resolve([null,s]),s}catch(n){throw t.resolve([n,null]),n}}(e)}case X.e:return this.poolManager.clearSessionalPools();case X.d:return function(e){return e.closeAllPools()}(this.poolManager);default:return T}}}it.instance=null;class ot extends $e{static getInstance(){return null===this.instance&&(this.instance=new ot),this.instance}get inProgressQueryCount(){return this._inProgressQueryCount}set inProgressQueryCount(e){this._inProgressQueryCount=e,0===e&&(this.onIdleCallbackList.forEach((e=>{e()})),this.onIdleCallbackList=[])}install(){}suspend(){return this.pending=!0,new Promise((e=>{0===this.inProgressQueryCount?e():this.onIdleCallbackList.push(e)}))}async resume(){this.pendingQueue.forEach((e=>e())),this.pending=!1}pendingIfNeeded(){return this.pending?new Promise((e=>{this.pendingQueue.push(e)})):Promise.resolve()}constructor(){super(),this.poolManager=Be.getInstance(),this.stuckQueryTrackingQueue=new Map,this.logger=void 0,this.pending=!1,this.pendingQueue=[],this.onIdleCallbackList=[],this._inProgressQueryCount=0;const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger("sqlite",["request-handler","statement"]);r.ModuleContainer.resolve(k.b).addEventListener(A.b.ChannelTerminated,(e=>{const{nameOfTargetScript:t}=e;this.clearStuckQueryTrackingOfScript(t)}))}getRequestTypeID(){return X.t}addStuckQueryTracking(e,t,n){!function(e,t=[],n=[],r=""){const i=Array.isArray(e)?e[0]:e;let o=i.query;for(let s=0;s<i.params;s++){const e=`${t[s]}`.replace("?","qmark");o=o.replace(/\?\d*/,e)}Array.isArray(e)&&n.push("serialize"),n.map((e=>`[${e}]`)).join("")}(t,n,["sqlite","receive",e]);let r=this.stuckQueryTrackingQueue.get(e);void 0===r&&(r=new Map,this.stuckQueryTrackingQueue.set(e,r));const i=setTimeout((()=>{}),2e3);return r.set(i,{query:t,params:n}),()=>{clearTimeout(i),r.delete(i)}}clearStuckQueryTrackingOfScript(e){const t=this.stuckQueryTrackingQueue.get(e);if(void 0===t)return;const n=t.entries();let r=n.next();for(;!r.done;){const[e,t]=r.value;clearTimeout(e),r=n.next()}this.stuckQueryTrackingQueue.delete(e)}async handle(e,t){const{connection:n,libMethod:r,statement:i}=e,{onCheckUpgradeNeeded:o}=t,{fullname:s,cipherKey:a,version:c,transactionMode:u,sessional:l}=n;await this.pendingIfNeeded();const d=await this.poolManager.getPool(s,a,c,l,o),f={mode:u},p=e=>{if(Ge.a.isRawSQLiteException(e))throw Ge.a.serializeSQLiteException(e);throw e};switch(r){case"run":{this.inProgressQueryCount+=1;const{query:e,params:t,migrate:n}=i;f.migrate=n;const r=()=>{};return d.run(e,t,f).catch(p).finally((()=>{r(),this.inProgressQueryCount-=1}))}case"runs":{this.inProgressQueryCount+=1;const{query:e,params:t,migrate:n}=i;f.migrate=n;const r=()=>{};return d.runs(e,t,f).catch(p).finally((()=>{r(),this.inProgressQueryCount-=1}))}case"all":{this.inProgressQueryCount+=1;const{query:e,params:t,migrate:n}=i;f.migrate=n;const r=()=>{};return d.all(e,t,f).catch(p).finally((()=>{r(),this.inProgressQueryCount-=1}))}case"get":{this.inProgressQueryCount+=1;const{query:e,params:t,migrate:n}=i;f.migrate=n;const r=()=>{};return d.get(e,t,f).catch(p).finally((()=>{r(),this.inProgressQueryCount-=1}))}case"optimized-all":{this.inProgressQueryCount+=1;const{queries:e,params:t}=i;return d.optimizedAll(e,t,f).catch(p).finally((()=>{this.inProgressQueryCount-=1}))}case"serialize":{this.inProgressQueryCount+=1;const{data:e,migrate:t}=i;f.migrate=t;const n=()=>{};return d.serialize(e,{migrate:t}).catch(p).finally((()=>{n(),this.inProgressQueryCount-=1}))}default:return T}}}ot.instance=null;class st extends $e{static getInstance(){return null===this.instance&&(this.instance=new st),this.instance}constructor(){super()}install({portContainer:e}){Oe.getInstance().install(e),Ie.getInstance().install(e)}getRequestTypeID(){return X.i}async handle(){}}st.instance=null;class at{static getInstance(){return this.instance||(this.instance=new at),this.instance}constructor(){this.logger=void 0,this.sqlStatementHandler=ot.getInstance(),this.dalUtilityHandler=it.getInstance(),this.backUpHandler=tt.getInstance(),this.corruptionHandler=st.getInstance(),this.renderPortAsyncContainer=new o.b.Container;const e=r.ModuleContainer.resolve(g.ZLoggerFactory);this.logger=e.createZLogger("dal",["request-handler-manager"])}install(){this.sqlStatementHandler.install(),this.dalUtilityHandler.install(),this.backUpHandler.install({suspendFn:this.sqlStatementHandler.suspend.bind(this.sqlStatementHandler),resumeFn:this.sqlStatementHandler.resume.bind(this.sqlStatementHandler)}),this.corruptionHandler.install({portContainer:this.renderPortAsyncContainer})}handleRequest(e,t){const{typeID:n}=t;if(this.sqlStatementHandler.canProcess(t)){this.logger;const n=async(t,n,r)=>{if(n===r)return void 0;const i={typeID:X.n,data:{fullname:t,currentVersion:n}};await e.invokeMessage(i)},{data:r}=t;return this.sqlStatementHandler.handle(r,{onCheckUpgradeNeeded:n})}if(this.dalUtilityHandler.canProcess(t)){const{data:e}=t;return this.dalUtilityHandler.handle(e)}if(this.backUpHandler.canProcess(t)){const{data:e}=t;return this.backUpHandler.handle(e)}throw new Error(`No request handler found for '${n}'`)}listen(e){e.handleMessage((t=>this.handleRequest(e,t))),"render"===e.nameOfTargetScript&&this.renderPortAsyncContainer.resolve(e)}}at.instance=null;const ct=["render","login","shared-worker","search-worker","photo"];let ut=null;const lt=()=>{if(null===ut){const e=r.ModuleContainer.resolve(g.ZLoggerFactory);ut=e.createZLogger("sqlite",["main"])}return ut};process.on("uncaughtException",((e,t)=>{lt().zsymb(21,"Kd4udp",["Unhandled rejection at {} reason: {}","NPubz8"],t,e),e.code&&X.k.includes(e.code)||setTimeout((()=>{const e={type:J.b,data:{type:J.a,data:{}}};s(e),process.exit(1)}),5e3)}));(async()=>{lt().zsymb(0,"zxlidb","main start");const e=r.ModuleContainer.resolve(k.b),t=at.getInstance();t.install(),ct.forEach((n=>{e.onReceiveOpenChannelRequest(n,q.i,(e=>{t.listen(e)}))}))})()},yBqK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Gtd2"),i=n("UURK"),o=n("F1Ur");t.encode=r.encode,t.decode=i.decode,t.Token=o.Token,t.Type=o.Type},"yJ/d":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("CzCL"),o=n("Ngr4");const s=new WeakMap;function a(e,t){const n=r.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let i;const o=s.get(t);o?i=o:(i=new Map,s.set(t,i));const a=Object.keys(n).reduce(((e,r)=>{let o;const s=i.get(r);s?o=s:(o=t(r),i.set(r,o));for(let t=o.length-1;t>=0;t--){const i=o[t];if(i.filename){e[i.filename]=n[r];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(c){}}function c(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}t.applyDebugIds=a,t.applyDebugMeta=c,t.prepareEvent=function(e,t,n,s){const{normalizeDepth:u=3,normalizeMaxBreadth:l=1e3}=e,d={...t,event_id:t.event_id||n.event_id||r.uuid4(),timestamp:t.timestamp||r.dateTimestampInSeconds()},f=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:s,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:i.DEFAULT_ENVIRONMENT);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=r.truncate(e.message,a));const c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=r.truncate(c.value,a));const u=e.request;u&&u.url&&(u.url=r.truncate(u.url,a))}(d,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(d,f),void 0===t.type&&a(d,e.stackParser);let p=s;n.captureContext&&(p=o.Scope.clone(p).update(n.captureContext));let h=r.resolvedSyncPromise(d);if(p){if(p.getAttachments){const e=[...n.attachments||[],...p.getAttachments()];e.length&&(n.attachments=e)}h=p.applyToEvent(d,n)}return h.then((e=>(e&&c(e),"number"==typeof u&&u>0?function(e,t,n){if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:r.normalize(e.data,t,n)}})))},...e.user&&{user:r.normalize(e.user,t,n)},...e.contexts&&{contexts:r.normalize(e.contexts,t,n)},...e.extra&&{extra:r.normalize(e.extra,t,n)}};e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=r.normalize(e.contexts.trace.data,t,n)));e.spans&&(i.spans=e.spans.map((e=>(e.data&&(e.data=r.normalize(e.data,t,n)),e))));return i}(e,u,l):e)))}},yJAF:function(e,t,n){"use strict";class r extends Error{constructor(e){super(e),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}e.exports={TimeoutError:class extends r{constructor(e){super(e)}}}},yi2h:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("VTBJ"),i=n("wH4e");const o=(e,t)=>Object(r.a)(Object(r.a)({},e),{},{type:i.ValidDataType.blob,jsBinaryType:t})},"z+cp":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n("sJ5P"),i=n("+70+");t.initAndBind=function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.enable();const n=i.getCurrentHub();n.getScope().update(t.initialScope);const o=new e(t);n.bindClient(o)}},zArx:function(e,t,n){"use strict";e.exports=class{constructor(){this.fifo=!0,this.priorityRange=1,this.testOnBorrow=!1,this.testOnReturn=!1,this.autostart=!0,this.evictionRunIntervalMillis=0,this.numTestsPerEvictionRun=3,this.softIdleTimeoutMillis=-1,this.idleTimeoutMillis=3e4,this.acquireTimeoutMillis=null,this.destroyTimeoutMillis=null,this.maxWaitingClients=null,this.min=null,this.max=null,this.Promise=Promise}}},"zNa/":function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("oyvS"),o=n("DadK"),s=n("zyBB"),a=s.mkdirs,c=s.mkdirsSync,u=n("2Y26"),l=u.symlinkPaths,d=u.symlinkPathsSync,f=n("OlEr"),p=f.symlinkType,h=f.symlinkTypeSync,y=n("xQB0").pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,y(t,((s,c)=>s?r(s):c?r(null):void l(e,t,((s,c)=>{if(s)return r(s);e=c.toDst,p(c.toCwd,n,((n,s)=>{if(n)return r(n);const c=i.dirname(t);y(c,((n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,(n=>{if(n)return r(n);o.symlink(e,t,s,r)}))))}))}))))})),createSymlinkSync:function(e,t,n){if(o.existsSync(t))return;const r=d(e,t);e=r.toDst,n=h(r.toCwd,n);const s=i.dirname(t);return o.existsSync(s)||c(s),o.symlinkSync(e,t,n)}}},zOht:function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p,h,y,m,g,_,v,b,w,E,S,T,I;!function(n){var O="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function C(e,t){return e!==O&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=function(e){var t,n;t=C(O,C(e)),n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i=function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},g=function(e){return this instanceof g?(this.v=e,this):new g(e)},_=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},v=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}},b=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){i(r,o,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},S=function(e){return e&&e.__esModule?e:{default:e}},T=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},I=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},t("__extends",i),t("__assign",o),t("__rest",s),t("__decorate",a),t("__param",c),t("__metadata",u),t("__awaiter",l),t("__generator",d),t("__exportStar",f),t("__values",p),t("__read",h),t("__spread",y),t("__spreadArrays",m),t("__await",g),t("__asyncGenerator",_),t("__asyncDelegator",v),t("__asyncValues",b),t("__makeTemplateObject",w),t("__importStar",E),t("__importDefault",S),t("__classPrivateFieldGet",T),t("__classPrivateFieldSet",I)}.apply(t,[t]),void 0===r||(e.exports=r)}()},zheM:function(e,t,n){"use strict";var r,i=n("jDHv"),o=n("DWs9"),s=n("6rD8"),a=n("ebA4"),c=n("kMf4"),u=n("7FSS"),l=n("TMLr"),d=n("ez9R"),f=n("fsQs"),p=n("Rw5y"),h=n("5FGm");const y=n("mw/K"),m=n("oyvS");let g=Object(i.injectable)()(r=function(e,t){return Object(i.inject)(l.a)(e,void 0,0)}(r=function(e,t){return Object(i.inject)(d.a)(e,void 0,1)}(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===l.a?Object:l.a,void 0===d.a?Object:d.a])(r=class extends c.a{constructor(e,t){super(),this.ModuleWriter=e,this.Encoder=t,this.LogBatch=new ArrayBuffer(f.PHYSICAL_FILE_CONFIG.mem_batch_lim),this.LogBatchDataview=void 0,this.isTopLogEncoded=!1,this.batchOffset=0,this.LogBatchDataview=new DataView(this.LogBatch)}writer_status(){return this.status}getPath(){return m.join(this.dir,this.zlogFilename)}async init(e){this.status=s.a.Init,await this.getLogDir(h.b);const t=this.getPath();if(y.existsSync(t)){let r;r=await p.a({fs:y,path:m},t);try{e.current=this._validateMetas(r)}catch(n){u.a.error("Error while chceking log file",t,n)}}else await this.initFile(this.zlogFilename);this.status=s.a.Idle}async write(e,t,n){if(this.status!==s.a.Idle)return!1;if(0===e.length)return!0;const r=f.FILE_CONFIG.file_lim-t.current;r<=0&&(r<0&&await this.truncateFileUpto(f.FILE_CONFIG.file_lim),t.current=0);let i=f.EncodeStatus.OK;for(;this.batchOffset+f.PHYSICAL_FILE_CONFIG.line_hard_lim<f.PHYSICAL_FILE_CONFIG.mem_batch_lim&&e.length>0&&this.batchOffset<r;){let t;if(this.isTopLogEncoded)t=this.Encoder.getLastBuffer();else{const n=e[0];try{t=this.Encoder.encode(n)}catch(c){u.a.error("Error while encoding log",c),e.shift();continue}}if(t.byteLength+this.batchOffset>r){i=f.EncodeStatus.REWIND;break}this.batchOffset=Object(a.a)(this.LogBatchDataview,this.batchOffset,t),e.shift(),this.isTopLogEncoded=!1}const o=e=>t.current=e;return this.batchOffset>0&&(await this.writeBatch(t.current,o),this.batchOffset=0,await this.ModuleWriter.flush()),i===f.EncodeStatus.REWIND&&(this.truncateFileUpto(t.current),o(0),i=f.EncodeStatus.OK),!0}async writeBatch(e,t){const n=this.LogBatch.slice(0,this.batchOffset);await this.writeBetween(this.zlogFilename,n,e,(e=>t(e))),t(e+n.byteLength)}_validateMetas(e){let t=0,n={ts:0,start:0};try{for(;t<e.byteLength;){if(t>=e.byteLength-1)return n.start;const r=Object(a.e)(e,t);if(r<=2||t+r>e.byteLength){t++;continue}const i=Object(a.e)(e,t+r-2);if(t+i>e.byteLength||r!==i||-1===r||-1===i){t++;continue}const o=Object(a.b)(e.slice(t+2,t+10));o>n.ts&&(n.ts=o,n.start=t),t+=r}}catch(r){u.a.error("error while validating metas",r,`${t}/${e.byteLength}`)}return n.start}})||r)||r)||r)||r)||r;i.ModuleContainer.registerSingleton(o.a,g)},"zm+Q":function(e,t,n){"use strict";var r=n("jDHv"),i=n("6pNU"),o=n("V8xY"),s=n("fsQs"),a=n("7FSS"),c=n("ebA4"),u=n("yBqK"),l=n("Lrq5"),d=n("6xEa"),f=n.n(d);class p{constructor(){this._TextEncoder=new TextEncoder}encodeUi8(e,t,n){return e.setUint8(t,n),t+s.DTYPE_SIZE.ui8}encodeUi16(e,t,n){return e.setUint16(t,n),t+s.DTYPE_SIZE.ui16}encodeUi32(e,t,n){return e.setUint32(t,n),t+s.DTYPE_SIZE.ui32}encodeFloat32(e,t,n){return e.setFloat32(t,n),t+s.DTYPE_SIZE.float32}encodeFloat64(e,t,n){return e.setFloat64(t,n),t+s.DTYPE_SIZE.float64}encodeBigInt64(e,t,n){const r=Object(c.c)(n),i=new Uint8Array(r);for(let o=0;o<i.byteLength;o++)t=this.encodeUi8(e,t,i[o]);return t}encodeTotalSize(e,t,n){return this.encodeUi16(e,t,n)}encodeTotalSizeEnd(e,t){return this.encodeUi16(e,t,t+s.DTYPE_SIZE.ui16)}encodesSeparator(e,t){return t=this.encodeUi8(e,t,s.UNIT_SEPARATOR[0]),t=this.encodeUi8(e,t,s.UNIT_SEPARATOR[1])}encodeTick(e,t,n){const r=Object(c.c)(n),i=new Uint8Array(r);return this.copyCache(e,t,i)}encodeZlogVersion(e,t,n){const r=this._TextEncoder.encode(n);return t=this.encodeUi8(e,t,r.byteLength),this.copyCache(e,t,r)}encodeEncoderVers(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding level is TOO BIG!");return this.encodeUi8(e,t,n)}encodeLevel(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding level is TOO BIG!");return this.encodeUi8(e,t,n)}encodeHeaderNum(e,t,n){if(n>255)throw new Error("[BinEncoder] error: encoding numOfHeader is TOO BIG!");return this.encodeUi8(e,t,n)}encodeStringOnly(e,t,n){const r=this._TextEncoder.encode(n),i=r.byteLength;return t=this.encodeUi8(e,t,i),this.copyCache(e,t,r)}copyCache(e,t,n){for(let r=0;r<n.byteLength;r++)t=this.encodeUi8(e,t,n[r]);return t}encodeTags(e){return f.a.compress(e.join("."))}encodePayload(e,t,n){const{ln:r,tags:i,template:o,args:a}=n,d=[],f=this.encodeTags(i),p=o||"";let h=e+4+f.length+p.length;for(let u of a){const e=Object(c.f)(u);if(l.d(e)&&(h+=s.DTYPE_SIZE.ubig64),l.f(e)&&(h+=s.DTYPE_SIZE.ui16*e.length),(l.a(e)||l.g(e)||l.c(e))&&(h+=s.DTYPE_SIZE.ui8),h>s.FILE_CONFIG.line_malloc)break;d.push(e)}const y={$1:r,$2:f,$3:d,$4:p};d.length||delete y.$3,p.length||delete y.$4;const m=u.encode(y);return this.copyCache(t,e,m)}}function h(e,t){if(!e)throw new Error(t)}p.getters=e=>({[s.DTYPE_SIZE.ui8]:(...t)=>e.getUint8(...t),[s.DTYPE_SIZE.ui16]:(...t)=>e.getUint16(...t),[s.DTYPE_SIZE.ui32]:(...t)=>e.getUint32(...t),[s.DTYPE_SIZE.ubig64]:(...t)=>e.getBigUint64(...t)}),p.setters=e=>({[s.DTYPE_SIZE.ui8]:(...t)=>e.setUint8(...t),[s.DTYPE_SIZE.ui16]:(...t)=>e.setUint16(...t),[s.DTYPE_SIZE.ui32]:(...t)=>e.setUint32(...t),[s.DTYPE_SIZE.ubig64]:(...t)=>e.setBigUint64(...t)});const y=(e,t)=>{const n="number"==typeof t?t:e.reduce(((e,t)=>e+t.byteLength),0),r=new Uint8Array(n);let i=0;for(const o of e)r.set(new Uint8Array(o),i),i+=o.byteLength;return r};var m;class g{}m=g,g.writeNoiseLogs=async(e,t,n)=>{const{FileSizeLimit:r,ReservedBytesStructure:i}=n;h(!!e,"[writeBinLog]: filePath is invalid"),h(!!t,"[writeBinLog]: data is invalid"),h("number"==typeof r&&r>0,`[writeBinLog]: FileSizeLimit is invalid. Got ${r}`),h(Array.isArray(i),`[writeBinLog]: ReservedBytes is invalid. Got ${i}`);const o=i.reduce(((e,t)=>e+t),0);if(0===t.length)return!0;let[s,a]=await m._readInstructions(e,i),c=0;for(;c<t.length;){const n=[];let u=0;for(;c<t.length&&s+u+t[c].byteLength<r;)n.push(t[c]),u+=t[c].byteLength,c++;if(n.length>0&&s+u<r){const t=await m._overwriteRange(e,y(n,u),s);if("ERROR"===t.type)throw t.data;s+=u,a=Math.max(s,a),await m._updateInstructions(e,i,[s,a]),u=0}c<t.length&&s+t[c].byteLength>=r&&(s=o,await m._updateInstructions(e,i,[s,s]))}return!0},g.getFileHandler=()=>{const e=n("SGjP");return{initBinaryLogFile:e.initBinaryLogFile,readRange:e.readRange,writeRange:e.writeRange}},g._readInstructions=async(e,t)=>{const n=m.getFileHandler(),r=t.reduce(((e,t)=>e+t),0),i=await n.readRange(e,0,r);if("ERROR"===i.type){const i=await m._getInitialData(t,[r,r]);return await n.initBinaryLogFile(e,i),[r,r]}const o=i.data,s=new DataView(o.buffer),a=[];let c=0;for(let u of t)a.push(p.getters(s)[u](c)),c+=u;return a},g._updateInstructions=async(e,t,n)=>{const r=m.getFileHandler(),i=t.reduce(((e,t)=>e+t),0),o=new Uint8Array(i),s=new DataView(o.buffer);let a=0;for(let c=0;c<t.length;c++)p.setters(s)[t[c]](a,n[c]),a+=t[c];return await r.writeRange(e,0,o)},g._overwriteRange=(e,t,n)=>m.getFileHandler().writeRange(e,n,t),g._getInitialData=async(e,t)=>{const n=e.reduce(((e,t)=>e+t),0),r=new Uint8Array(n),i=new DataView(r.buffer);let o=0;for(let s=0;s<e.length;s++){const n=e[s];p.setters(i)[n](o,t[s]),o+=n}return r};var _=n("iD3V"),v=n("5FGm");const b=n("89t2").performance;class w extends o.a{constructor(){super(),this._flush=async()=>{const e=[];try{if(this.clearFlushTimer(),"busy"===this.status)return;this.status="busy";const t=await this.getFilePath();let n=0;const r=b.now();let i=0;for(;n<s.MAX_BATCH_BYTELENGTH&&this.size>0&&e.length<s.MAX_BATCH_SIZE&&b.now()-r<this.MAX_FLUSH_DURATION||this._tryFlushAll===v.a.FlushNow&&this.size>0&&b.now()-r<500;){const t=this.queue.shift();if(i++,t){const r=this._encode(t);n+=r.byteLength,e.push(r)}}const o=Object(_.a)(g.writeNoiseLogs,{min:s.FLUSH_FAIL_RETY.min,max:s.FLUSH_FAIL_RETY.max,retries:s.FLUSH_FAIL_RETY.maxRetries,shouldRetryOnError:async({error:e})=>{s.ZLOGGER_DEBUG_MODE&&zconsole.error(`ZLL: _flush: failed with error: ${e}`);return await this.isLogDirExists()||await this.createLogDir(),!0},afterRetry:async({success:e,shouldRetry:t,nTry:n,duration:r})=>{s.ZLOGGER_DEBUG_MODE&&(e?zconsole.info(`ZLL: _flush try ${n}: success after ${r}ms`):zconsole.error(`ZLL: _flush try ${n}: failed. Should retry: ${t} after ${r}ms`)),e||t||zconsole.error(`ZLL: _flush failed after ${n} tries`)}});await o(t,e,{ReservedBytesStructure:[s.DTYPE_SIZE.ui32,s.DTYPE_SIZE.ui32],FileSizeLimit:s.FILE_CONFIG.file_lim})}catch(t){zconsole.error("ZLOG: _flush throws error",t)}finally{e.splice(0,e.length),this._scheduleNextFlush(this.flushTimeout)}},this._encode=e=>{try{var t;const{metadata:n,args:r}=e;let i=0;const o=new p,a=new Uint8Array(s.FILE_CONFIG.line_malloc+1),c=new DataView(a.buffer);i+=o.encodesSeparator(c,i);const u=i;i+=s.DTYPE_SIZE.ui16,i=o.encodeTick(c,i,n.tick),i=o.encodeEncoderVers(c,i,s.ZLOG_ENCODE_VERSION),i=o.encodeLevel(c,i,n.level),i=o.encodeZlogVersion(c,i,"OTuxmB23"),i=o.encodePayload(i,c,{ln:n.ln,tags:n.tags,template:null==n||null===(t=n.template)||void 0===t?void 0:t[1],args:r}),o.encodeTotalSize(c,u,i);const l=i%2==0?i+1:i;return a.slice(0,l)}catch(n){throw a.a.error("BinEncoderImpl.encode error:",n),new Error("BinEncoderImpl.encode error")}},this.isWriterReady=!0}}r.ModuleContainer.registerSingleton(i.a,w)},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),s=n("/9aa"),a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},zwAV:function(e,t,n){"use strict";const r=n("ZC5O").fromCallback,i=n("oyvS"),o=n("DadK"),s=n("zyBB"),a=n("xQB0").pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,(e=>{if(e)return n(e);n(null)}))}a(t,((c,u)=>c?n(c):u?n(null):void o.lstat(e,(o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const c=i.dirname(t);a(c,((i,o)=>i?n(i):o?r(e,t):void s.mkdirs(c,(i=>{if(i)return n(i);r(e,t)}))))}))))})),createLinkSync:function(e,t){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(r){throw r.message=r.message.replace("lstat","ensureLink"),r}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},zyBB:function(e,t,n){"use strict";const r=(0,n("ZC5O").fromCallback)(n("aDNc")),i=n("oXif");e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}}});