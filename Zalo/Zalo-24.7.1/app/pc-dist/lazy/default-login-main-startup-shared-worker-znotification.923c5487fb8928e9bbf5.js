(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{"+ExH":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("oRsZ"),o=n("IpiK"),s=n("d04y"),a=n("pRxM"),r=n("b3Jv"),d=n("4IGy"),c=n("xS/Y"),l=n("rdC+"),m=n("pP8i"),u=n("75G/");const p={Core:i.a.schema,MsgInfo:o.a.schema,Qos:s.a.schema,Reaction:a.a.schema,Search:r.a.schema,Storage:d.a.schema,Res:c.a.schema,SecureLocalstorage:l.a.schema,ZLog:m.a.schema,Media:u.a.schema}},"/Pmb":function(e,t,n){"use strict";n.r(t);var i=n("VTBJ"),o=n("N1xz"),s=n("igRa");t.default=class{constructor(e){this.flsData=void 0,this.recordedData=void 0,this.listener=void 0,this.droppedListener=void 0,this.startAt=void 0,this.safeFps=void 0,this.calcFallingFps=e=>{const{fps:t,now:n}=e;if(null==this.flsData.beforeDrop)t>=this.safeFps&&(this.flsData.beforeDrop=t,this.flsData.beforeDropTs=n);else if(this.flsData.beforeDrop>t&&t<this.safeFps)(null==this.flsData.lowestDrop||this.flsData.lowestDrop>t)&&(this.flsData.lowestDrop=t,this.flsData.lowestDropTs=n);else{if(null!=this.flsData.lowestDrop&&this.flsData.lowestDropTs){var o;if(this.flsData.afterRecover=t,this.flsData.recoverTs=n,this.flsData.recoverTime=n-this.flsData.lowestDropTs,null==this.recordedData.lowestDrop||this.recordedData.lowestDrop>this.flsData.lowestDrop){var s;this.recordedData=Object(i.a)({},this.flsData);const e={beforeDrop:this.flsData.beforeDrop,lowestDrop:this.flsData.lowestDrop,recoverTime:this.flsData.recoverTime,afterRecover:this.flsData.afterRecover,beforeDropTs:this.flsData.beforeDropTs,recoverTs:this.flsData.recoverTs,lowestDropTs:this.flsData.lowestDropTs};null===(s=this.listener)||void 0===s||s.call(this,e)}null===(o=this.droppedListener)||void 0===o||o.call(this,Object(i.a)({},this.flsData)),this.flsData={}}null==this.flsData.lowestDrop&&t>=this.safeFps&&(this.flsData.beforeDrop=t,this.flsData.beforeDropTs=n)}},this.flsData={},this.recordedData={};const{safeFpsGap:t=10,maxFps:n=60}=e||{};this.safeFps=n-t}onData(e){this.listener=e}onDropped(e){this.droppedListener=e}start(){o.a.UIManager.on(s.a.FPS,this.calcFallingFps),this.startAt=Date.now()}end(){if(!this.startAt)return{};let e;null!=this.flsData.lowestDrop&&this.flsData.lowestDropTs&&this.flsData.beforeDropTs!==this.recordedData.beforeDropTs&&(e=Object(i.a)({},this.flsData));const t={beforeDrop:this.recordedData.beforeDrop,lowestDrop:this.recordedData.lowestDrop,recoverTime:this.recordedData.recoverTime,afterRecover:this.recordedData.afterRecover,beforeDropTs:this.recordedData.beforeDropTs,recoverTs:this.recordedData.recoverTs,lowestDropTs:this.recordedData.lowestDropTs,startAt:this.startAt,endAt:Date.now(),pendingResult:e};return this.flsData={},this.recordedData={},this.listener=void 0,this.droppedListener=void 0,o.a.UIManager.removeListener(s.a.FPS,this.calcFallingFps),this.startAt=void 0,t}}},"/tmt":function(e,t,n){"use strict";var i=n("VTBJ"),o=n("fbdB"),s=n("5Drw"),a=n("K+9E"),r=n("N1xz"),d=n("igRa"),c=n("dFSO"),l=n("KBA3"),m=n("CHYU");r.a.register(a.a.UI_MANAGER,class{constructor(){this._fpsTimeline=void 0,this.fpsEngineStartAt=void 0,this.fpsState=void 0,this.maxFps=void 0,this._logger=void 0,this._tool=void 0,this.isActive=void 0,this.controllerId=void 0,this._avgFpsCounter=void 0,this.lowestDroppedFpsMonitor=void 0,this._listeners=void 0,this._fpsSections=void 0,this._fpsLongSections=void 0,this.FPS_SECTION_EXPIRATION_TIME=6e4,this.fpsFallingConfig={safeFpsGap:10},this.startLowestDroppedFpsMonitor=()=>{this.lowestDroppedFpsMonitor&&this.lowestDroppedFpsMonitor.end(),this.lowestDroppedFpsMonitor=this.getFpsFallingRecorder(),this.lowestDroppedFpsMonitor.onData((e=>{var t;const n=(null===(t=this.lowestDroppedFpsMonitor)||void 0===t?void 0:t.end())||e;this.recordLowestDroppedFpsMetric(n),this.triggerEvent(d.a.DROP_FPS,n),this.lowestDroppedFpsMonitor=void 0,this.startLowestDroppedFpsMonitor()})),this.lowestDroppedFpsMonitor.start()},this.recordFpsMetric=e=>{if(!this.fpsState||!this.isActive||!l.a.getConfig().enable_fps_monitor)return;const t=Date.now(),{metrics:n,passedTime:i,startTime:s}=e,a=n.find((e=>e.name===o.d.fps));if(a){const e=r.a.MetricFactory.create(a.name,`${a.name}.${i}`,a);e.setStartAt(s),e.setEndAt(t),e.pushInfo({fps:this.fpsState.fps,avgFps:this.fpsState.avgFps,maxFps:this.fpsState.maxFps,usageTime:i}),e.evaluate(),e.resolve(),r.a.MetricResolver.resolve(e)}(l.a.getConfig().enable_write_log||!1)&&r.a.MetricTransporter.transmitFps(this.fpsState,t,i)},this.recordLowestDroppedFpsMetric=e=>{if(null==e.lowestDrop)return;const t=r.a.SchemaManager.loadSchema(o.d.fps_lowest_drop),n=r.a.MetricFactory.create(t.name,`${t.name}.${Date.now()}`,t);n.setDuration(e.lowestDrop),n.pushInfo(Object(i.a)(Object(i.a)({},e),{},{maxFps:this.maxFps})),n.evaluate(),n.resolve(),r.a.MetricResolver.resolve(n)}}get Logger(){return this._logger||(this._logger=r.a.createLogger("ui-manager")),this._logger}get fpsTimeline(){return this._fpsTimeline||(this._fpsTimeline=new s.b,this._fpsTimeline.onMessage(this.recordFpsMetric)),this._fpsTimeline}get avgFpsCounter(){return this._avgFpsCounter||(this._avgFpsCounter={_columnNo:0,_total:0}),this._avgFpsCounter}get fpsSections(){return this._fpsSections||(this._fpsSections=new Map),this._fpsSections}get fpsLongSections(){return this._fpsLongSections||(this._fpsLongSections=new Map),this._fpsLongSections}get listeners(){return this._listeners||(this._listeners={}),this._listeners}get Tool(){if(!this._tool){const e=n("5BYM").default;this._tool=new e(this)}return this._tool}ready(){}exit(){this._fpsTimeline&&this.fpsTimeline.stop(),this.lowestDroppedFpsMonitor&&(this.lowestDroppedFpsMonitor.end(),this.lowestDroppedFpsMonitor=void 0),this.fpsEngineStartAt=void 0}registerController(){if(this.controllerId)return;this.controllerId=Date.now();return{id:this.controllerId,setIsActive:e=>{this.isActive=e}}}unregisterController(e){this.controllerId===e&&(this.controllerId=void 0)}registerFpsMonitor(){if(this.fpsEngineStartAt||r.a.process!==m.a.Render&&r.a.process!==m.a.Web)return;if(this.fpsEngineStartAt=Date.now(),l.a.getConfig().enable_fps_monitor){const e=new s.a(Object(c.f)("1m")),t=r.a.SchemaManager.loadSchema(o.d.fps);t.categories&&(e.add(t),this.fpsTimeline.startEvery(e))}if(l.a.getConfig().enable_fps_monitor_v2&&l.a.getConfig().enable_fps_drop_monitor){r.a.SchemaManager.loadSchema(o.d.fps_lowest_drop).categories&&this.startLowestDroppedFpsMonitor()}return{id:this.fpsEngineStartAt,recordFps:(e,t,n)=>this.recordFps(e,t,n)}}unregisterFpsMonitor(e){this.fpsEngineStartAt===e&&(this.fpsEngineStartAt=void 0,this.lowestDroppedFpsMonitor&&(this.lowestDroppedFpsMonitor.end(),this.lowestDroppedFpsMonitor=void 0),this._fpsTimeline&&this.fpsTimeline.stop())}getRegisteredFpsMonitor(){return this.fpsEngineStartAt}recordFps(e,t,n){this.isActive&&(this.avgFpsCounter._columnNo++,this.avgFpsCounter._total+=e.fps,this.fpsState=e,this.fpsState.avgFps=Number((this.avgFpsCounter._total/this.avgFpsCounter._columnNo).toFixed(0)),this.maxFps=Math.max(t,this.maxFps||60),120===this.maxFps&&(this.fpsFallingConfig.safeFpsGap=20),this.triggerEvent(d.a.FPS,{fps:e.fps,now:n}))}getFps(){return this.fpsState}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}removeListener(e,t){var n;null!==(n=this.listeners[e])&&void 0!==n&&n.length&&(this.listeners[e]=this.listeners[e].filter((e=>e!==t)))}triggerEvent(e,t){const n=this.listeners[e];null!=n&&n.length&&n.forEach((e=>e(t)))}getFpsFallingRecorder(e){return new(0,n("/Pmb").default)(Object(i.a)(Object(i.a)({safeFpsGap:this.fpsFallingConfig.safeFpsGap},e||{}),{},{maxFps:this.maxFps}))}startRecordSectionFps(e,t){var n;const o=!!l.a.getConfig().fps_section[e],s=l.a.getConfig().enable_fps_drop_monitor;if(!this.getRegisteredFpsMonitor()||!o||!s)return;const a=r.a.SchemaManager.loadSchema(e);if(a.disabled)return;const c=r.a.MetricFactory.getKey(e,t);if(null===(n=this.fpsSections.get(c))||void 0===n||!n.listener){const n=n=>{if(null!=n.lowestDrop){const i=this.fpsSections.get(c);if(!i)return;i.result?null!=i.result.lowestDrop&&i.result.lowestDrop>n.lowestDrop&&(i.result=n):i.result=n,(null==i||!i.timer)&&i.startAt&&Date.now()-i.startAt>=this.FPS_SECTION_EXPIRATION_TIME&&this.endRecordSectionFps(e,t)}};this.on(d.a.DROP_FPS,n),this.fpsSections.set(c,Object(i.a)(Object(i.a)({},this.fpsSections.get(c)||{}),{},{startAt:Date.now(),listener:n}))}const m=this.fpsSections.get(c);m&&(m.timer&&clearTimeout(m.timer),m.timer=null!=a.timeout?setTimeout((()=>{this.endRecordSectionFps(e,t)}),a.timeout):void 0)}endRecordSectionFps(e,t,n){const o=r.a.MetricFactory.getKey(e,t),s=this.fpsSections.get(o);if(!s)return;const a=Date.now(),c=s.listener;c&&this.removeListener(d.a.DROP_FPS,c),null!=s&&s.timer&&clearTimeout(s.timer);const m=Object(i.a)(Object(i.a)({},s.result||{}),{},{startAt:s.startAt,endAt:a,maxFps:this.maxFps});if(this.fpsSections.delete(o),null!=(null==m?void 0:m.lowestDrop)||l.a.getConfig().allow_record_high_fps){var u;(null==m?void 0:m.lowestDrop)&&(null===(u=this.Logger)||void 0===u||u.zsymb(5,"wxjC-a",["metrics/fps_drop/{}: {}","St9_Gx"],o,m));const i=r.a.SchemaManager.loadSchema(e);if(!i.disabled){const o=r.a.MetricFactory.create(e,t,i);o.setData(m),o.setDuration(m.lowestDrop||this.maxFps||0),o.pushInfo(m),n&&o.pushInfo(n),o.evaluate(),o.resolve(),r.a.MetricResolver.resolve(o)}}return m}registerFpsLongSectionRecorder(e){let t=this.fpsLongSections.get(e);if(t)return t;{const t=new(0,n("Xq9V").default)((()=>{this.fpsLongSections.has(e)&&this.fpsLongSections.delete(e)}),{safeFpsGap:this.fpsFallingConfig.safeFpsGap,maxFps:this.maxFps});return this.fpsLongSections.set(e,t),t}}})},"0Kvb":function(e,t){},"12Ui":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("dal-qos-utils")},"1UUk":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("jDHv"),o=n("AH6j"),s=n("pjo1");n("PmZf");class a extends o.b{constructor(...e){super(...e),this.session=void 0}createQueryBuilder(e){return i.ModuleContainer.resolve(s.a).createQueryBuilder(e)}}const r=Object(i.define)("database-manager")},"2NWl":function(e,t,n){"use strict";var i=n("N1xz"),o=n("K+9E"),s=n("5Drw"),a=n("AoYG"),r=n("CHYU"),d=n("Na1p"),c=n("KBA3"),l=n("f1TF"),m=function(e){return e.Windows_32bit="32-bit",e.Windows_64bit="64-bit",e.MacOS_x64="x64",e.MacOS_ARM="arm64",e.UA_arch_x86="x86",e.UA_arch_ARM="arm",e}(m||{}),u=m;i.a.register(o.a.METRIC_USAGE_MONITOR,class{constructor(){this._timelineEngine=void 0,this.timeline=void 0,this._logger=void 0,this._isReady=void 0,this.webSystemInfo=void 0,this.submittedSystemInfo=void 0,this.execTimeNode=e=>{const{metrics:t}=e,n=t.filter((e=>e.type===a.a.CPU||e.type===a.a.MEMORY));var o;n.length&&(null===(o=i.a.ProcessMonitor)||void 0===o||o.recordAtTime(e,n))},this.timeline=[]}get Logger(){return this._logger||(this._logger=i.a.createLogger("usage-monitor")),this._logger}get timelineEngine(){return this._timelineEngine||(this._timelineEngine=new s.b,this._timelineEngine.onMessage(this.execTimeNode)),this._timelineEngine}getSystemInfo(){var e,t;return null===(e=i.a.ProcessMonitor)||void 0===e||null===(t=e.getSystemInfo)||void 0===t?void 0:t.call(e)}async loadWebSystemInfo(){try{var e,t;if(null!==(e=navigator)&&void 0!==e&&null!==(t=e.userAgentData)&&void 0!==t&&t.getHighEntropyValues){const e=await navigator.userAgentData.getHighEntropyValues(["architecture"]);null!=e&&e.architecture&&(this.webSystemInfo={arch:e.architecture})}}catch(n){}}ready(){if(!this._isReady){var e;if(i.a.process!==r.a.Main)try{var t;null!==(t=c.a.getConfig().processes_enable_cpu_monitor)&&void 0!==t&&t.includes(i.a.process)&&MetriczGlobal.startCPUMonitor()}catch(n){}else null!==(e=c.a.getConfig().processes_enable_cpu_monitor)&&void 0!==e&&e.includes(i.a.process)&&d.a.start();c.a.onConfigChange((e=>{var t;if(null!=e&&e.fromServerInfo)return;const n=c.a.getConfig().enable_for_staging_account,o=c.a.getConfig().staging_account,s=()=>{var e;const t=c.a.enable||n&&o;null===(e=this.Logger)||void 0===e||e.zsymb(0,"C-NulN","[usage-monitor] isEnabled {}",t),t&&[r.a.Main,r.a.Render,r.a.SharedWorker].includes(i.a.process)&&this.startUp()};null!==(t=c.a.getConfig().processes_enable_cpu_monitor)&&void 0!==t&&t.includes(i.a.process)&&s(),(()=>{if(i.a.process===r.a.Main){var e,t;if(c.a.getConfig().allow_measure_app_usage||n&&o)null===(e=this.Logger)||void 0===e||e.zsymb(0,"jluGiV","[usage-monitor] appUsageMonitor: enabled"),null===(t=i.a.AppUsageMonitor)||void 0===t||t.start()}})()})),this._isReady=!0}}onMainFinishLoad(){i.a.process,r.a.Main}async getOsArchitecture(){var e,t;return null===(e=i.a.ProcessMonitor)||void 0===e||null===(t=e.getOsArchitecture)||void 0===t?void 0:t.call(e)}async isARM(){try{if(i.a.process===r.a.Main){return await this.getOsArchitecture()===u.MacOS_ARM}return MetriczGlobal.getArch()===u.MacOS_ARM}catch(e){this.Logger.zsymb(18,"8TejJ_","[usage-monitor] failed to check isARM. ",Object(l.b)(e))}return!1}async checkToSubmitSystemInfo(){if(this.submittedSystemInfo)return;if(this.submittedSystemInfo=!0,!c.a.getConfig().enable_submit_qos)return;c.a.getConfig().submit_qos_except_dev;if(c.a.getConfig().allow_submit_os_version_mac){var e;const s=null===(e=this.getSystemInfo())||void 0===e?void 0:e.osVersion;if(s){var t,n,o;const e=(e=>{const t=e.split(".");let n="",i="0";return t.forEach((e=>{n+=e,i+=e.length})),parseInt(n+i)})(s);let a=99777;null===(t=i.a.MetricResolver)||void 0===t||null===(n=t.qosManager)||void 0===n||null===(o=n.logQos)||void 0===o||o.call(n,{success:!1,cmdId:a,subCmdId:0,errorCode:e,params:[s],duration:0,startTime:Date.now()})}}}startUp(){const e=i.a.SchemaManager.getMemoryUsageSchemas(),t=i.a.SchemaManager.getCPUUsageSchemas(),n=e.filter((e=>{var t;return null===(t=e.timeline)||void 0===t?void 0:t.timeNodes.length})),o=t.filter((e=>{var t;return null===(t=e.timeline)||void 0===t?void 0:t.timeNodes.length})),a=[];[...n,...o].forEach((e=>{var t;((null===(t=e.timeline)||void 0===t?void 0:t.timeNodes)||[]).forEach((({time:t})=>{const n=a.find((e=>e.time===t));if(n)n.add(e);else{const n=new s.a(t);n.add(e),a.push(n)}}))})),a.length&&(this.timeline=a,this.timelineEngine.startUp(a))}onReceiveProcessStats(e){var t,n;null!=e&&e.pid&&e.name!==r.a.Main&&(null===(t=i.a.ProcessMonitor)||void 0===t||null===(n=t.combineRendererStats)||void 0===n||n.call(t,e))}exit(){var e;if(this.timelineEngine.stop(),null===(e=i.a.AppUsageMonitor)||void 0===e||e.stop(),i.a.process!==r.a.Main)try{MetriczGlobal.stopCPUMonitor()}catch(t){}else d.a.stop()}})},"33YB":function(e,t,n){"use strict";n.r(t);var i=n("N1xz"),o=n("CHYU"),s=n("NbA8");class a{constructor(){this.toProcess=void 0,this.send=(e,...t)=>i.a.MetricTransporter.Messenger.send(e,t,this.toProcess),this.invoke=(e,...t)=>i.a.MetricTransporter.Messenger.invoke(e,t,this.toProcess),this.registerHandler=(e,t)=>i.a.MetricTransporter.Messenger.registerHandler(e,t),this.handler=e=>(t,n,o)=>{i.a.MetricTransporter.Messenger.registerHandler(e||n,((...e)=>o.value.apply(t,e)))},this.invoker=e=>(t,n,o)=>{const s=o.value;return o.value=(...o)=>{const a=s.apply(t,o);return a instanceof Promise?a.then((t=>i.a.MetricTransporter.Messenger.invoke(e||n,Array.isArray(t)?t:[t],this.toProcess))):i.a.MetricTransporter.Messenger.invoke(e||n,Array.isArray(a)?a:[a],this.toProcess)},o},this.sender=e=>(t,n,o)=>{const s=o.value;return o.value=(...o)=>{const a=s.apply(t,o);return a instanceof Promise?a.then((t=>i.a.MetricTransporter.Messenger.send(e||n,Array.isArray(t)?t:[t],this.toProcess))):i.a.MetricTransporter.Messenger.send(e||n,Array.isArray(a)?a:[a],this.toProcess)},o}}setTargetProcess(e){this.toProcess=e}get SharedWorkerChannel(){const e=new a;return e.setTargetProcess(o.a.SharedWorker),e}get NotificationChannel(){const e=new a;return e.setTargetProcess(o.a.Notification),e}}Object(s.a)(a);n("TLBr");var r=n("Y65e"),d=n("KBA3"),c=n("K+9E");class l{constructor(){this.pendingTasks=void 0,this.isRunning=void 0,this.addCPUChangeListener=void 0,this.removeCPUChangeListener=void 0,this.pendingTasks=[]}request(e,t){this.pendingTasks.push({callback:e,options:t}),this.checkExecutePendingTasks()}checkExecutePendingTasks(){var e,t,n;if(this.isRunning)return;const i=null===(e=this.pendingTasks)||void 0===e?void 0:e.shift();if(!i)return;this.isRunning=!0;let o,s=!1;const a="request_cpu_idle",r=(null===(t=i.options)||void 0===t?void 0:t.threshold)||this.getDefaultThreshold(),d=()=>{const e=i.callback();e instanceof Promise?e.catch((e=>{})).finally((()=>{this.isRunning=!1,this.checkExecutePendingTasks()})):(this.isRunning=!1,this.checkExecutePendingTasks())};this.addCPUChangeListener(a,(e=>{s||e.percent<=r&&(s=!0,o&&clearTimeout(o),this.removeCPUChangeListener(a),d())})),null!==(n=i.options)&&void 0!==n&&n.timeout&&(o=setTimeout((()=>{s||(s=!0,this.removeCPUChangeListener(a),d())}),i.options.timeout))}}class m extends l{constructor(){super(),this.addCPUChangeListener=(e,t)=>{MetriczGlobal.onCPUChange(e,t)},this.removeCPUChangeListener=e=>{MetriczGlobal.removeCPUChangeListener(e)}}static get instance(){return this._instance||(this._instance=new this),this._instance}getDefaultThreshold(){return d.a.getConfig().toolbox.threshold_cpu_idle_renderer_mac}}m._instance=void 0;var u,p,g,f,h,b,y,I=n("bfOK"),v=n("rkiK"),M=n("rors");let P=(u=v.MetriczMessenger.sender(M.c.updateOffsetTime),p=Reflect.metadata("design:type",Function),g=Reflect.metadata("design:paramtypes",[Number]),f=v.MetriczMessenger.handler(M.c.getProcessMemory),h=Reflect.metadata("design:type",Function),b=Reflect.metadata("design:paramtypes",[]),y=class extends I.a{constructor(){super(),this.DEFAULT_TIMEOUT=500,this._logger=void 0,this._timerCheckCpuIdle=void 0,this.debugger=void 0,this.requestCpuIdle=(e,t)=>{((e,t)=>{m.instance.request(e,t)})(e,t)}}get Logger(){return this._logger||(this._logger=i.a.createLogger("toolbox")),this._logger}get Installer(){return{updateOffsetTime:e=>{this.TimeHelper.getOffsetTime()!==e&&this.sendReqSyncOffsetTime(e),this.TimeHelper.updateOffsetTime(e)}}}sendReqSyncOffsetTime(e){return e}async handleGetProcessMemory(){return MetriczGlobal.getProcessMemory()}getDebugger(){if(d.a.getConfig().staging_account){if(!this.debugger){const e=n("UxIX").default;this.debugger=new e}return this.debugger}}exit(){var e,t;(this._timerCheckCpuIdle&&clearTimeout(this._timerCheckCpuIdle),this.debugger)&&(null===(e=(t=this.debugger).exit)||void 0===e||e.call(t))}},Object(r.a)(y.prototype,"sendReqSyncOffsetTime",[u,p,g],Object.getOwnPropertyDescriptor(y.prototype,"sendReqSyncOffsetTime"),y.prototype),Object(r.a)(y.prototype,"handleGetProcessMemory",[f,h,b],Object.getOwnPropertyDescriptor(y.prototype,"handleGetProcessMemory"),y.prototype),y);i.a.register(c.a.TOOLBOX,P);var w=n("VTBJ"),_=n("fbdB"),T=n("f1TF"),S=n("xw7U"),C=n("zFSh"),q=n("v+W6"),R=n("8/YW");class D extends S.a{install(){C.c.install(q.a)}init(){try{if(i.a.process===o.a.Render){const e=n("Fhpw").default;null!=e&&e.length&&this.register(e)}}catch(e){this.Logger.zsymb(21,"B7Dn90",["Failed on init process lifecycle renderer. err {}","IQYVtI"],Object(T.b)(e))}}isValidEvent(e){return!!super.isValidEvent(e)&&[_.b.app_did_mount,_.b.app_ready,_.b.app_receive_server_config,_.b.before_log_out].includes(e)}getMetricInstances(){return this.getMetrics()}triggerLifecycle(e,t){try{const a=e.getConfig(),r=d.a.getConfig().custom||{},c=Object(w.a)(Object(w.a)({},a||{}),r);var n,i,o,s;if(t===_.b.app_did_mount)null===(n=e.appDidMount)||void 0===n||n.call(e,c);if(t===_.b.app_ready)null===(i=e.appReady)||void 0===i||i.call(e,c);if(t===_.b.app_receive_server_config)null===(o=e.appReceiveConfigOnRuntime)||void 0===o||o.call(e,c);if(t===_.b.before_log_out)null===(s=e.beforeLogOut)||void 0===s||s.call(e)}catch(a){this.Logger.zsymb(21,"MNF92Z",["failed on trigger lifecycle. ERR {}","S_6ZgM"],Object(T.b)(a))}}registerApplicationEventsListener(){const{ModuleContainer:e}=n("jDHv");e.resolve(R.a).addEventListener(R.b.LogOut,(()=>{v.default.recordEvent(_.b.before_log_out)}))}on(e,t){if(!this.isValidEvent(e))return;this.getMetricInstances().forEach((t=>{this.triggerLifecycle(t,e)})),e===_.b.app_did_mount&&i.a.process===o.a.Render&&this.registerApplicationEventsListener()}}i.a.register(c.a.PROCESS_LIFECYCLE_CONTROLLER,D);n("2NWl");var A=n("dFSO"),N=n("AoYG");i.a.register(c.a.PROCESS_MONITOR,class{constructor(){this.systemInfo=void 0}recordAtTime(e,t){const n=Date.now();try{const{pid:o,memoryUsage:s,heapStats:a,cpuUsage:r}=MetriczGlobal.getProcessStats(),d={pid:o,name:i.a.process,memory:{rss:s.rss,heapTotal:s.heapTotal,heapUsed:s.heapUsed,heapSizeLimit:Object(A.c)(a.heapSizeLimit),totalHeapSizeExecutable:Object(A.c)(a.totalHeapSizeExecutable),totalPhysicalSize:Object(A.c)(a.totalPhysicalSize),totalAvailableSize:Object(A.c)(a.totalAvailableSize),mallocedMemory:Object(A.c)(a.mallocedMemory),peakMallocedMemory:Object(A.c)(a.peakMallocedMemory),doesZapGarbage:a.doesZapGarbage,external:s.external,arrayBuffers:s.arrayBuffers},cpu:Object(w.a)({},r),recordAt:n,usageTime:n-i.a.EPOCH};null!=t&&t.length&&t.forEach((t=>{const o=i.a.MetricFactory.create(t.name,`${d.name}.${e.passedTime}`,t);var s;(o.setStartAt(e.startTime),o.setEndAt(n),o.setData(d,e.passedTime),t.type===N.a.CPU)?o.pushInfo({percentCPUUsage:null===(s=d.cpu)||void 0===s?void 0:s.percent,recordAt:d.recordAt,usageTime:d.usageTime,processName:d.name}):t.type===N.a.MEMORY&&o.pushInfo({heapUsed:d.memory.heapUsed,heapTotal:d.memory.heapTotal,rss:d.memory.rss});o.evaluate(),o.resolve(),i.a.MetricResolver.resolve(o)})),i.a.MetricTransporter.transmitProcessStats(d)}catch(o){}}getSystemInfo(){return this.systemInfo||(this.systemInfo={arch:MetriczGlobal.getArch()}),this.systemInfo}});n("/tmt");i.a.register(c.a.APP_STATE_MANAGER,class{});n("xNSc");n("Emm8").a.install()},"3EqI":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));class i{constructor(){this.pendings=void 0,this.pendings=new Map}markStart(e=i.DEFAULT_JOB_ID){let t=()=>{};const n=new Promise((e=>{t=e})).finally((()=>{this.pendings.delete(e)}));this.pendings.set(e,{promise:n,resolver:t,fulfilled:!1})}markEnd(e=i.DEFAULT_JOB_ID){const t=this.pendings.get(e);t&&(t.fulfilled=!0,t.resolver())}isPending(e=i.DEFAULT_JOB_ID){const t=this.pendings.get(e);return!!t&&!t.fulfilled}isDone(e=i.DEFAULT_JOB_ID){return!this.isPending(e)}async wait(e=i.DEFAULT_JOB_ID){const t=this.pendings.get(e);t&&await t.promise}countPendings(){return this.pendings.size}}i.DEFAULT_JOB_ID="z1000";class o{constructor(){this.jobQueue={},this.auditor=void 0,this.auditor=new i}exec(e=i.DEFAULT_JOB_ID,t){this.isPending(e)||this.auditor.markStart(e);const n=this.jobQueue[e]||Promise.resolve(),o=this.jobQueue[e]=n.then(t,t);return o.finally((()=>{this.jobQueue[e]===o&&delete this.jobQueue[e],this.jobQueue[e]||this.auditor.markEnd(e)})),o}isPending(e){return this.auditor.isPending(e)}wait(e){return this.auditor.wait(e)}countPendings(){return this.auditor.countPendings()}}const s=new o;t.c=s},"3wcW":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VTBJ"),o=n("jDHv"),s=n("Mgpg"),a=n("UK4g"),r=n("DI/x"),d=n("rvru");class c{constructor(e,t,n){this.partition=e,this.instance=t,this.allowMissingTable=n,this.version=void 0,this.logger=void 0;const i=o.ModuleContainer.resolve(s.ZLoggerFactory);this.logger=i.createZLogger(a.g,["migrate-executor"])}async upgrade(e,t){if(null!==t){if(this.logger.zsymb(4,"v3Qo8x",["Database: {} - Version: from {} to {} - Start","OpEJ0i"],this.partition.database,e,t),e<this.partition.milestoneVersion){0;const e=this.partition.tables.map((e=>({type:"create-table",params:{table:e}})));this.logger.zsymb(4,"-XlPlp",["Database: {} - Create ALL tables: {}","e7HzRf"],this.partition.database,e.map((({params:e})=>e.table.name))),await this._applyMigrations(e)}else{this.logger.zsymb(4,"wRw03y",["Database: {} - Create SOME tables","iYttLc"],this.partition.database);const n=this.partition.tables;for(const o of n){const n=o.getMigrationInfos(this.partition.type);if(0===Object.keys(n).length)continue;let s=e+1;for(;s<=t;){const e=n[s];if(e){const{scripts:t}=e,n=t.map((e=>{let t=e.params||{};return Object(i.a)(Object(i.a)({},e),{},{params:Object(i.a)({table:o},t)})}));this.logger.zsymb(4,"4Gk8Ih",["Database: {} - Current schema migrated version: {} - Table: {} - Action: {}","fG4WfV"],this.partition.database,s,o.name,n.map((({type:e})=>e))),await this._applyMigrations(n)}s+=1}}}this.logger.zsymb(4,"S7520x",["Database: {} - Version: from {} to {} - Done","gszCmp"],this.partition.database,e,t)}}async validate(){const e=this.partition.tables,t=await this._getTables(),n=e.filter((e=>-1===t.indexOf(e.tableName)));if(n.length>0){const e=n.map((e=>e.tableName));if(!this.allowMissingTable){0;throw o.ModuleContainer.resolve(d.a).sendMissingTableQos(this.partition.database,e),new r.w(e)}await this.createMissingTable(n)}}async _applyMigrations(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case"create-table":{const e=n.params.table,t={partition:this.partition.name,table:e.name};this.logger.zsymb(0,"m71VnN","create table",t),await this._createTable(e).catch((e=>{throw this.logger.zsymb(18,"McR0pq","create table error",t,e.message),e})),this.logger.zsymb(0,"Wk7rLi","create table done",t);break}case"create-index":{const{table:e,indexName:t}=n.params,i={partition:this.partition.name,table:e.name,index:t};this.logger.zsymb(0,"J475c_","create index",i),await this._createIndex(e,t).catch((e=>{throw this.logger.zsymb(18,"k9kQ2f","create index error",i,e.message),e})),this.logger.zsymb(0,"-iiZpF","create index done",i);break}case"add-column":{const{table:e,columns:t}=n.params,i={partition:this.partition.name,table:e.name,columns:t};this.logger.zsymb(0,"XXn4KV","add columns",i),await this._addColumns(e,t).catch((e=>{throw this.logger.zsymb(18,"NgIDVD","add columns error",i,e.message),e}));break}default:throw new r.z(`Unhandled '${n.type}' migration script.`)}}}}},"45ei":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return c}));var i=n("AH6j");let o=function(e){return e.Start="Start",e.InitServices="InitServices",e.ServicesReady="ServicesReady",e.Exit="Exit",e.BeforeUnload="BeforeUnload",e.Idle="Idle",e.Active="Active",e.FirstIdle="FirstIdle",e.Authenticating="Authenticating",e.Authenticated="Authenticated",e.LogOut="LogOut",e}({});class s extends i.a{constructor(e){super(o.InitServices),this.app=e}}class a extends i.a{constructor(e,t){super(e),this.type=e,this._session=void 0,this.getSession=()=>this._session,this._session=t}}class r extends a{constructor(e){super(o.Authenticating,e)}}class d extends a{constructor(e){super(o.Authenticated,e)}}class c extends i.a{constructor(e){super(o.LogOut),this.shouldClearData=e}}},"4IGy":function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d={CocosRes:new a.d({tableName:"cocos-res",name:"CocosRes",fields:{path:{name:"path",type:o.g.string},data:{name:"data",type:o.g.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"path"}],unique:!0}}}),FriendBlocked:new a.d({tableName:"friend-blocked",name:"FriendBlocked",fields:{key:{name:"key",type:o.g.string},val:{name:"val",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),InfoCache:new a.d({tableName:"info-cache",name:"InfoCache",fields:{key:{name:"key",type:o.g.string},val:{name:"val",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),RetryCache:new a.d({tableName:"retry-cache",name:"RetryCache",fields:{key:{name:"key",type:o.g.string},val:{name:"val",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}),StChecksum:new a.d({tableName:"db-stchecksum",name:"StChecksum",fields:{checksum:{name:"checksum",type:o.g.string},url:{name:"url",type:o.g.string},size:{name:"size",type:o.g.integer},isGroup:{name:"isGroup",type:o.g.boolean},ts:{name:"ts",type:o.g.integer},zname:{name:"zname",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"checksum"}],unique:!0}}})},c={name:"Storage",session:!1},l={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.const("Storage"),s.a.byTable()],partitionsMap:Object(r.a)(d)},m={partitionNamingStrategy:[s.a.const("zlocalstorage")],partitionsMap:Object(r.b)(d)},u=Object(i.a)(Object(i.a)(Object(i.a)({},c),l),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),p=Object(i.a)(Object(i.a)(Object(i.a)({},c),m),{},{version:5,milestoneVersion:5,type:o.a.IDB});let g=null,f=null;t.a={schema:d,get useSqlite(){return null===g&&(g=new a.a(u)),g},get useIdb(){return null===f&&(f=new a.a(p)),f}}},"4W2c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DI/x"),o=n("YZti");class s{constructor(){}}class a extends s{constructor(e){super(),this.secureFields=e,this.cipcherKey=""}init(e){this.cipcherKey=e}toDB(e){if(""===this.cipcherKey)throw new i.j("Cipher key is unavailable!");for(let t=0;t<this.secureFields.length;t++){const n=this.secureFields[t];e[n]&&(e[n]=o.a.encrypt(JSON.stringify(e[n]),this.cipcherKey))}}fromDB(e){if(e){if(""===this.cipcherKey)throw new i.j("Cipher key is unavailable!");for(let n=0;n<this.secureFields.length;n++){const i=this.secureFields[n];if("string"==typeof e[i])try{e[i]=JSON.parse(o.a.decrypt(e[i],this.cipcherKey))}catch(t){}}}}}},"5BYM":function(e,t,n){"use strict";n.r(t);var i=n("igRa");t.default=class{constructor(e){this.isOpenFallingRecorder=void 0,this.uiManager=void 0,this.uiManager=e}isOpen(){return!!this.isOpenFallingRecorder}toggleFpsFallingRecorder(e){this.isOpenFallingRecorder="boolean"==typeof e?e:!this.isOpenFallingRecorder,this.uiManager.triggerEvent(i.a.TOGGLE_FPS_FALLING,this.isOpenFallingRecorder)}visualizeInfo(e){this.uiManager.triggerEvent(i.a.VISUALIZE_INFO,e)}}},"5Drw":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.time=void 0,this.metrics=void 0,this.time=e,this.metrics=[]}setTime(e){this.time=e}add(e){this.metrics.push(e)}static clone(e){const t=new i(e.time);return e.metrics.forEach((e=>t.add(e))),t}}t.b=class{constructor(){this.timeNodes=void 0,this.startTime=void 0,this.isRunning=void 0,this.enabled=void 0,this.everyTimeNode=void 0,this.timer=void 0,this.listener=void 0,this.everyPassedTime=void 0,this.sort=e=>{for(let t=1;t<e.length;t++){const n=e[t];let i;for(i=t-1;i>=0&&e[i].time>n.time;i--)e[i+1]=e[i];e[i+1]=n}return e},this.timeNodes=[],this.startTime=0,this.isRunning=!1,this.enabled=!1,this.everyPassedTime=0}onMessage(e){this.listener=e}startUp(e){this.isRunning||(this.enabled=!0,this.timeNodes=this.sort(e),this.timeNodes.length&&(this.startTime=Date.now(),this.run()))}startEvery(e){this.everyTimeNode=e,this.isRunning||(this.enabled=!0,this.startTime=Date.now(),this.everyPassedTime=0,this.runEvery())}stop(){clearTimeout(this.timer),this.enabled=!1,this.timeNodes=[],this.everyTimeNode=void 0}execTimeNode(e){if(this.enabled&&this.listener){const t={startTime:this.startTime,passedTime:e.time,metrics:e.metrics};this.listener(t)}}run(){if(!this.enabled)return void this.stop();this.isRunning=!0;const e=Date.now()-this.startTime,t=this.timeNodes.shift();if(t){const n=t.time-e;this.timer=setTimeout((()=>{this.execTimeNode(t),this.everyPassedTime=t.time,this.run(),this.isRunning=!1}),n)}else this.isRunning=!1,this.runEvery()}runEvery(){if(!this.everyTimeNode)return;if(!this.enabled)return void this.stop();this.isRunning=!0;const e=this.everyTimeNode.time;e?this.timer=setTimeout((()=>{if(this.everyTimeNode){const t=this.everyPassedTime+e,n=i.clone(this.everyTimeNode);n.setTime(t),this.execTimeNode(n),this.everyPassedTime=t,this.runEvery(),this.isRunning=!1}}),e):this.isRunning=!1}}},"5Mf1":function(e,t){},"6Sr9":function(e,t,n){"use strict";n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return b}));var i=n("jDHv"),o=n("45ei");const s=[],a=[],r=[],d=[],c=[],l=[];function m(){return function(e){s.push(e)}}function u(){return function(e){a.push(e)}}function p(){return function(e){r.push(e)}}function g(){return function(e){d.push(e)}}function f(){return function(e){c.push(e)}}function h(){return function(e){l.push(e)}}function b(e){e.addEventListenerOnce(o.a.InitServices,(e=>{s.forEach((t=>{try{i.ModuleContainer.resolveToken(t).onStart(e)}catch(n){}}))})),e.addEventListenerOnce(o.a.Authenticating,(e=>{a.forEach((t=>i.ModuleContainer.resolveToken(t).onAuthenticating(e)))})),e.addEventListenerOnce(o.a.Authenticated,(e=>{r.forEach((t=>i.ModuleContainer.resolveToken(t).onAuthenticated(e)))})),e.addEventListenerOnce(o.a.ServicesReady,(e=>{c.forEach((t=>i.ModuleContainer.resolveToken(t).onApplicationReady(e)))})),e.addEventListenerOnce(o.a.Exit,(()=>{d.forEach((e=>i.ModuleContainer.resolveToken(e).onDispose()))})),e.addEventListenerOnce(o.a.LogOut,(()=>{l.forEach((e=>i.ModuleContainer.resolveToken(e).onSessionExpired()))}))}},"6Vk1":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("jDHv");let o=function(e){return e.LabelChange="LabelChange",e.SelectedLabelChange="SelectedLabelChange",e.LabelAddConvs="LabelAddConvs",e.LabelRemoveConvs="LabelRemoveConvs",e.RemoveLabel="RemoveLabel",e}({});class s extends Event{constructor(e,t){super(e),this.payload=void 0,this.payload=t}}const a="label-data-manager",r=Object(i.define)(a)},"73sK":function(e,t,n){"use strict";var i=function(e){return e.TRANSMIT_RECORDS="TRANSMIT_RECORDS",e.TRANSMIT_ALL="TRANSMIT_ALL",e.TRANSMIT_EVENTS="TRANSMIT_EVENTS",e.TRANSMIT_CONFIG="TRANSMIT_CONFIG",e.TRANSMIT_CONFIG_FROM_SERVERINFO="TRANSMIT_CONFIG_FROM_SERVERINFO",e.TRANSMIT_FPS="TRANSMIT_FPS",e.TRANSMIT_FPS_SECTION="TRANSMIT_FPS_SECTION",e.REGISTER="REGISTER",e.SEND_STATS="SEND_STATS",e.REQUEST_RUN="REQUEST_RUN",e.REQUEST_FROM_MESSENGER="REQUEST_FROM_MESSENGER",e.RESPONSE_FROM_MESSENGER="RESPONSE_FROM_MESSENGER",e}(i||{});t.a=i},"75G/":function(e,t,n){"use strict";var i=n("VTBJ"),o=n("teaq"),s=n("xI/L"),a=n("YEoC"),r=n("C9Dv"),d=n("wH4e"),c=n("4W2c");const l=new o.d({tableName:"image",name:"Image",fields:{mediaId:{name:"mediaId",type:d.ValidDataType.string},convId:{name:"convId",type:d.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:d.ValidDataType.string},fromUid:{name:"fromUid",type:d.ValidDataType.string},content:{name:"content",type:d.ValidDataType.json},type:{name:"type",type:d.ValidDataType.integer},src:{name:"src",type:d.ValidDataType.string},sendDttm:{name:"sendDttm",type:d.ValidDataType.integer},ttl:{name:"ttl",type:d.ValidDataType.integer},localPath:{name:"localPath",type:d.ValidDataType.string},previewThumb:{name:"previewThumb",type:d.ValidDataType.string},modifiedTime:{name:"modifiedTime",type:d.ValidDataType.integer},metadata:{name:"metadata",type:d.ValidDataType.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0}}});l.setAdapterSpecificConfigs(d.AdapterType.IDB,{transforms:[new c.a(["content","localPath"])]}),l.setAdapterSpecificConfigs(d.AdapterType.SQLite,{});const m=new o.d({tableName:"file",name:"File",fields:{mediaId:{name:"mediaId",type:d.ValidDataType.string},convId:{name:"convId",type:d.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:d.ValidDataType.string},fromUid:{name:"fromUid",type:d.ValidDataType.string},content:{name:"content",type:d.ValidDataType.json},type:{name:"type",type:d.ValidDataType.integer},src:{name:"src",type:d.ValidDataType.string},extType:{name:"extType",type:d.ValidDataType.string},sendDttm:{name:"sendDttm",type:d.ValidDataType.integer},ttl:{name:"ttl",type:d.ValidDataType.integer},modifiedTime:{name:"modifiedTime",type:d.ValidDataType.integer},localPath:{name:"localPath",type:d.ValidDataType.string},folderPath:{name:"folderPath",type:d.ValidDataType.string},thumbMetadata:{name:"thumbMetadata",type:d.ValidDataType.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0},convId_extType_sendDttm_cliMsgId:{name:"convId_extType_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"extType"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1}}});m.setAdapterSpecificConfigs(d.AdapterType.IDB,{transforms:[new c.a(["content","localPath","folderPath"])]}),m.setAdapterSpecificConfigs(d.AdapterType.SQLite,{});const u=new o.d({tableName:"link",name:"Link",fields:{mediaId:{name:"mediaId",type:d.ValidDataType.string},convId:{name:"convId",type:d.ValidDataType.string},cliMsgId:{name:"cliMsgId",type:d.ValidDataType.string},fromUid:{name:"fromUid",type:d.ValidDataType.string},content:{name:"content",type:d.ValidDataType.json},type:{name:"type",type:d.ValidDataType.integer},src:{name:"src",type:d.ValidDataType.string},sendDttm:{name:"sendDttm",type:d.ValidDataType.integer},ttl:{name:"ttl",type:d.ValidDataType.integer},modifiedTime:{name:"modifiedTime",type:d.ValidDataType.integer},parsedInfo:{name:"parsedInfo",type:d.ValidDataType.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"mediaId"}],unique:!0},convId_sendDttm_cliMsgId:{name:"convId_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!1},convId_fromUid_sendDttm_cliMsgId:{name:"convId_fromUid_sendDttm_cliMsgId",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"cliMsgId"}],unique:!0}}});u.setAdapterSpecificConfigs(d.AdapterType.IDB,{transforms:[new c.a(["content","parsedInfo"])]}),u.setAdapterSpecificConfigs(d.AdapterType.SQLite,{});const p=new o.d({tableName:"utils_media",name:"UtilsMedia",fields:{id:{name:"id",type:d.ValidDataType.string},convId:{name:"convId",type:d.ValidDataType.string},mediaType:{name:"mediaType",type:d.ValidDataType.string},senderIds:{name:"senderIds",type:d.ValidDataType.json},fileTypes:{name:"fileTypes",type:d.ValidDataType.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});p.setAdapterSpecificConfigs(d.AdapterType.IDB,{}),p.setAdapterSpecificConfigs(d.AdapterType.SQLite,{});const g={Image:l,File:m,Link:u,UtilsMedia:p},f={name:"Media",session:!0},h={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("Media"),s.a.byTable()],partitionsMap:Object(r.a)(g)},b={partitionNamingStrategy:[s.a.const("media"),s.a.byUser()],partitionsMap:Object(r.b)(g)},y=Object(i.a)(Object(i.a)(Object(i.a)({},f),h),{},{version:1,milestoneVersion:1,type:a.a.SQLite}),I=Object(i.a)(Object(i.a)(Object(i.a)({},f),b),{},{version:1,milestoneVersion:1,type:a.a.IDB});let v=null,M=null;t.a={schema:g,get useSqlite(){return null===v&&(v=new o.a(y)),v},get useIdb(){return null===M&&(M=new o.a(I)),M}}},"7FSS":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=globalThis.zconsole||globalThis.console},"7xKq":function(e,t){},"8/YW":function(e,t,n){"use strict";var i=n("45ei");n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.d}));var o=n("Jcee");n.d(t,"a",(function(){return o.a}));var s=n("6Sr9");n.d(t,"d",(function(){return s.a})),n.d(t,"e",(function(){return s.b})),n.d(t,"f",(function(){return s.c})),n.d(t,"g",(function(){return s.d})),n.d(t,"h",(function(){return s.e})),n.d(t,"i",(function(){return s.g}))},ADPh:function(e,t,n){"use strict";n("d/or")},AH6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));class i{constructor(e){this.type=e}}class o{constructor(){this.events=void 0,this.events=new Map}getNumberListener(){return this.events.size}addEventListener(e,t,n){const i=e.toString();let o=this.events.get(i);o||(o=[],this.events.set(i,o));const s=()=>this.removeEventListener(e,t);if(!0===(null==n?void 0:n.once)){const e=t;t=t=>(s(),e(t))}return o.push(t),s}addEventListenerOnce(e,t){return this.addEventListener(e,t,{once:!0})}removeEventListener(e,t){const n=e.toString(),i=this.events.get(n);if(!i)return;this.events.set(n,i.filter((e=>e!==t)))}removeAllEventListener(){this.events.clear()}dispatchEvent(e){let t=this.events.get(e.type);if(t&&0!==t.length){t=t.slice();for(let n=0;n<t.length;n++){const i=t[n];i&&i(e)}}}}},Abbu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("YEoC");let o;var s;(s=o||(o={})).isBeginTransaction=function(e){return e.type===i.d.BeginTransaction},s.isCommitTransaction=function(e){return e.type===i.d.CommitTransaction},s.isInsertQuery=function(e){return e.type===i.d.Insert},s.isCloseDBQuery=function(e){return e.type===i.d.CloseDB},s.isDeleteDBQuery=function(e){return e.type===i.d.DeleteDB},s.isCloseAllDBsQuery=function(e){return e.type===i.d.CloseAllDBs},s.isDeleteAllDBsQuery=function(e){return e.type===i.d.DeleteAllDBs},s.isInTransaction=function(e){return!!e.transaction},s.isValid=function(e){return!0},s.isPartitionlessQuery=function(e){return e.type===i.d.BeginTransaction||e.type===i.d.CommitTransaction}},AoYG:function(e,t,n){"use strict";var i=function(e){return e.TIME="TIME",e.MEMORY="MEMORY",e.CPU="CPU",e.USAGE="USAGE",e.APP_USAGE="APP_USAGE",e.FPS="FPS",e.BINARY_SIZE="BINARY_SIZE",e}(i||{});t.a=i},C9Dv:function(e,t,n){"use strict";function i(e){return{default:{tables:Object.values(e)}}}function o(e){return Object.values(e).reduce(((e,t)=>(e[t.name]={tables:[t]},e)),{})}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},CHYU:function(e,t,n){"use strict";var i=function(e){return e.Main="main",e.Render="render",e.SharedWorker="shared-worker",e.Notification="notification",e.Photo="photo",e.Web="web",e.Embed="embed",e.Login="login",e.Unknown="unknown",e}(i||{});t.a=i},Cede:function(e,t,n){"use strict";n("ipeT")},"DI/x":function(e,t,n){"use strict";n.d(t,"m",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return d})),n.d(t,"y",(function(){return c})),n.d(t,"A",(function(){return l})),n.d(t,"x",(function(){return m})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return p})),n.d(t,"v",(function(){return g})),n.d(t,"t",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"u",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"f",(function(){return M})),n.d(t,"j",(function(){return P})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"o",(function(){return T})),n.d(t,"l",(function(){return S})),n.d(t,"z",(function(){return C})),n.d(t,"w",(function(){return q})),n.d(t,"c",(function(){return R}));const i=306,o=307,s=502;class a extends Error{constructor(e,t,n=[]){super(t),this._code=void 0,this.qosParams=void 0,this.qosParams=[t,...n],this._code=e}get code(){return this._code}get codeString(){return`0x13${this._code}`}setStack(e){const t=`${this.name}: ${this.message}`;this.stack=t+(e||"")}}class r extends a{constructor(e,t){super(101,`"${e}" is abstract method`,t),this.name="CallAbstractMethod"}}class d extends a{constructor(e,t){super(102,e,t),this.name="DBUnknownError"}}class c extends a{constructor(e){super(103,"",e),this.name="QueryTimeout"}}class l extends a{constructor(e,t,n){super(104,`'${e}' - ${t}`,n),this.name="WrongUseOfMethod"}}class m extends a{constructor(e,t){super(105,`'${e}' hasn't been supported yet!`,t),this.name="NonSupportedFeature"}}class u extends a{constructor(e,t){super(201,`Missing config for '${e}' database`,t),this.name="MissingDatabaseConfig"}}class p extends a{constructor(e,t){super(202,`Missing schema for '${e}' database`,t),this.name="MissingDatabaseSchema"}}class g extends a{constructor(e,t){super(203,`Missing config for '${e}' table`,t),this.name="MissingTableConfig"}}class f extends a{constructor(e,t,n){let i=`Missing partition config for '${e}' table`;if(t){const{userId:e}=t;i+=` - userId: ${e}`}super(204,i,n),this.name="MissingPartitionConfig"}}class h extends a{constructor(e,t){super(205,`Missing config for'${e}' index!`,t),this.name="MissingIndexConfig"}}class b extends a{constructor(e){super(206,"",e),this.name="MissingPartitionKey"}}class y extends a{constructor(e,t){super(208,t,[e]),this.name="CreateAdapterError"}}class I extends a{constructor(e,t){super(209,e,t),this.name="DBSettingsError"}}class v extends a{constructor(e,t){super(301,e,t),this.name="InvalidQueryParams"}}class M extends a{constructor(e,t){super(302,e,t),this.name="DBExecutionError"}}class P extends a{constructor(e,t){super(303,e,t),this.name="DataTransformError"}}class w extends a{constructor(e,t){super(304,e,t),this.name="DBTransactionError"}}class _ extends a{constructor(e,t){super(305,e,t),this.name="DBConnectionError"}}class T extends a{constructor(e,t){const{fullname:n,currentVersion:o,requestedVersion:s}=e;super(i,`An attempt was made to open a database (${n}) using a lower version (${s}) than the existing version (${o}).`,t),this.data=e,this.name="InvalidVersionError"}}class S extends a{constructor(e,t){super(o,e,t),this.name="FaildToOpenDBConnectionError"}}class C extends a{constructor(e,t){super(501,e,t),this.name="SchemaMigrationError"}}class q extends a{constructor(e,t){const n=`Found missing table(s): ${JSON.stringify(e)}. But current adapter cannot create table without increasing the database version.`;super(s,n,t),this.name="MissingTableError"}}class R extends a{constructor(e,t,n){super(n,e),this.name=void 0,this.name=t}}},Emm8:function(e,t,n){"use strict";var i=n("N1xz");t.a={install:()=>{i.a.install()}}},EyGt:function(e,t,n){"use strict";n.r(t);t.default=class{constructor(){this.listeners=void 0,this.handleEventMessage=(e,t)=>{var n;null===(n=this.listeners)||void 0===n||n.forEach((e=>{e(t)}))}}onMessage(e){this.listeners||(this.listeners=[]),this.listeners.push(e),$zsub.$zMetric.onMessage(this.handleEventMessage)}send(e){$zMetric.sendMessage(e)}}},FPa7:function(e,t,n){},Fhpw:function(e,t,n){"use strict";n.r(t);var i=n("VTBJ"),o=n("rkiK"),s=n("R4gY"),a=n("f1TF"),r=n("KBA3"),d=n("dFSO");class c extends o.MetriczProcessLifecycle.Renderer{constructor(){super(),this._logger=void 0,this._storage=void 0,this.useConfig(s.a)}get Logger(){return this._logger||(this._logger=this.createLogger("storage-metrics")),this._logger}get Storage(){return this._storage||(this._storage=this.createStorage(s.d)),this._storage}async appReady(e){if(e.count_total_msgs){const t=await this.Storage.get(s.c);(!t||Date.now()-t>=e.interval_time_measure_total_msgs)&&(this.Logger.zsymb(3,"NiWetn",["StorageMetrics/countTotalMsgs: start. {}","GQYfZc"],t),o.MetriczUtilsAPI.requestCpuIdle((async()=>{try{const e=await Object(s.e)(this.submitQos);this.Logger.zsymb(3,"2hzQ47",["StorageMetrics/countTotalMsgs: end. totalMsgs {}","eQz1o2"],e)}catch(e){this.Logger.zsymb(21,"U-qmgb",["StorageMetrics/countTotalMsgs: ERR {}","IofKsP"],Object(a.b)(e))}await this.Storage.set(s.c,Date.now())})))}const t=r.a.getConfig().staging_account;if(e.measure_localstorage_size||t&&e.enable_for_staging_account){const t=await this.Storage.get(s.b);!t||Date.now()-t>=e.interval_time_measure_db_size?setTimeout((async()=>{await this.measureLocalStorageSize(),await this.Storage.set(s.b,Date.now())}),18e4):this.Logger.zsymb(3,"D0aNtr",["StorageMetrics/measureLocalStorageSize: skip. lastTs {}","R-SQx4"],t)}}async measureLocalStorageSize(){try{let e=0;if(!window.localStorage.length)return;let t,n={},a=Date.now();const r=e=>{const t=localStorage.key(e);t&&o.MetriczUtilsAPI.requestCpuIdle((async()=>{const n={keySize:0,valueSize:0};try{const i=o.MetriczUtilsAPI.getBinarySize(t);n.keySize=i;const s=window.localStorage.getItem(t);null!=s&&(n.valueSize=o.MetriczUtilsAPI.getBinarySize(s)),c(t,n),r(e+1)}catch(i){}}))};r(0);const c=(o,r)=>{const c=r.keySize+r.valueSize;e+=c,n[o]=r,(!t||t.size<c)&&(t=Object(i.a)(Object(i.a)({},t||{}),{},{key:o,size:c}));let l=Date.now();Object.keys(n).length===window.localStorage.length&&(Object(s.f)(e,this.submitQos),this.Logger.zsymb(3,"Tu9AI5",["StorageMetrics/measureLocalStorageSize: totalSize {}; readableSize {}; largestKeySize {}; took {}","Cc-1r9"],e,Object(d.d)(e),t?`"${t.key}" - ${Object(d.d)(t.size)}`:"",Object(d.e)(l-a)))}}catch(e){this.Logger.zsymb(21,"0nCw8h",["StorageMetrics/measureLocalStorageSize: ERR {}","X5YpzW"],Object(a.b)(e))}}}t.default=[c]},GhaG:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return f}));var i=n("N1xz"),o=n("KBA3"),s=n("CHYU"),a=n("h+6H"),r=n("d74q");const d={start:(e,t)=>i.a.MetricManager.start(e,t),end:(e,t,n)=>i.a.MetricManager.end(e,t,n),cancel:(e,t)=>i.a.MetricManager.cancel(e,t),recordEvent:e=>i.a.MetricManager.recordEvent(e),recordBinarySize:(e,t,n,o)=>i.a.MetricManager.recordBinarySize(e,t,n,o)},c={Fps:{record:(e,t)=>i.a.UIManager.startRecordSectionFps(e,t),endRecord:(e,t,n)=>i.a.UIManager.endRecordSectionFps(e,t,n),registerSectionRecorder:e=>i.a.UIManager.registerFpsLongSectionRecorder(e)}},l={getOsArchitecture:async()=>i.a.UsageMonitor.getOsArchitecture(),getDirectoriesSize:async(e,t)=>i.a.ToolboxMain.getDirectoriesSize(e,t),getRealMemoryStatistics:async()=>i.a.ToolboxMain.getRealMemoryStatistics(),getProcessMemoryStatistics:async e=>i.a.ToolboxMain.getProcessMemoryStatistics(e),getProcessStartTime:()=>i.a.EPOCH,isARM:async()=>i.a.UsageMonitor.isARM()},m={mergeSetting:e=>{o.a.mergeSetting(e)},mergeSettingFromServerInfo:e=>{o.a.mergeSettingFromServerInfo(e)},registerQosControl:e=>{i.a.MetricResolver.registerQosControl(e)},pushMessageMain:(e,t)=>{i.a.MetricTransporter.pushMessageMain(e,t)},updateOffsetTime:e=>{i.a.ToolboxRenderer.Installer.updateOffsetTime(e)},exit:()=>i.a.exit(),_DEV_export:()=>{}};"render"===__ZaBUNDLENAME__.toLowerCase()&&(m._DEV_export=()=>i.a.MetricResolver.exportAll(),window.exportMetrics=m._DEV_export);const u={getConfig:e=>{var t;return null===(t=o.a.getConfig())||void 0===t?void 0:t[e]},getDebugger:()=>i.a.ToolboxRenderer.getDebugger(),getMainDebugger:()=>{if(i.a.process===s.a.Main)return i.a.ToolboxMain.getDebugger()}},p={requestCpuIdle:(e,t)=>i.a.process===s.a.Main?i.a.ToolboxMain.requestCpuIdle(e,t):i.a.ToolboxRenderer.requestCpuIdle(e,t),getBinarySize:e=>Object(a.a)(e),getNow:()=>i.a.process===s.a.Main?i.a.ToolboxMain.TimeHelper.now():i.a.ToolboxRenderer.TimeHelper.now()},g={recordState:e=>i.a.MainAppStateManager.recordState(e),getState:()=>i.a.MainAppStateManager.getState()};d.Fps=c.Fps;const f=Object(r.b)();t.g=d},IpiK:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d=new a.d({tableName:"ConvMsgStatus",name:"ConvMsgStatus",fields:{userId:{name:"userId",type:o.g.string},data:{name:"data",type:o.g.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),c=new a.d({tableName:"MsgInfo",name:"MsgInfo",fields:{msgId:{name:"msgId",type:o.g.integer},seenUids:{name:"seenUids",type:o.g.json},deliveredUids:{name:"deliveredUids",type:o.g.json},extraJson:{name:"extraJson",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}});var l=n("4W2c");const m=new a.d({tableName:"MsgUrgency",name:"MsgUrgency",fields:{sendDttm:{name:"sendDttm",type:o.g.string},cliMsgId:{name:"cliMsgId",type:o.g.string},fromUid:{name:"fromUid",type:o.g.string},mentions:{name:"mentions",type:o.g.json,nullable:!0},message:{name:"message",type:o.g.string},msgId:{name:"msgId",type:o.g.string},msgType:{name:"msgType",type:o.g.integer},toUid:{name:"toUid",type:o.g.string},src:{name:"src",type:o.g.integer,nullable:!0},quote:{name:"quote",type:o.g.json,nullable:!0},properties:{name:"properties",type:o.g.json,nullable:!0},urgency:{name:"urgency",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},sendDttm:{name:"sendDttm",fields:[{type:"raw",field:"sendDttm"}],unique:!1},conv_msgId:{name:"conv_msgId",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"msgId"}],unique:!0}}});m.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new l.a(["message"])]});const u=new a.d({tableName:"Quotes",name:"Quotes",fields:{msgId:{name:"msgId",type:o.g.integer},convId:{name:"convId",type:o.g.string},sendDttm:{name:"sendDttm",type:o.g.integer},parentId:{name:"parentId",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},convId_sendDttm:{name:"convId_sendDttm",fields:[{type:"raw",field:"convId"},{type:"raw",field:"sendDttm"}],unique:!1}}}),p=new a.d({tableName:"ThreadHis",name:"ThreadHis",fields:{msgId:{name:"msgId",type:o.g.integer},toUid:{name:"toUid",type:o.g.string},isGroup:{name:"isGroup",type:o.g.boolean},childs:{name:"childs",type:o.g.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),g=new a.d({tableName:"ThreadMsg",name:"ThreadMsg",fields:{ownerId:{name:"ownerId",type:o.g.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.integer},globalMsgId:{name:"globalMsgId",type:o.g.integer},cliMsgType:{name:"cliMsgType",type:o.g.integer},ts:{name:"ts",type:o.g.integer},msg:{name:"msg",type:o.g.string},attach:{name:"attach",type:o.g.string},fromD:{name:"fromD",type:o.g.string},convId:{name:"convId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalMsgId"}],unique:!0}}});g.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new l.a(["msg","attach"])]});const f=new a.d({tableName:"TTLItem",name:"TTLItem",fields:{cliMsgId:{name:"cliMsgId",type:o.g.string},fromUid:{name:"fromUid",type:o.g.string},toUid:{name:"toUid",type:o.g.string},msgId:{name:"msgId",type:o.g.string},beginTime:{name:"beginTime",type:o.g.integer},sendDttm:{name:"sendDttm",type:o.g.string,nullable:!0},serverTime:{name:"serverTime",type:o.g.string},ttl:{name:"ttl",type:o.g.integer},ttlType:{name:"ttlType",type:o.g.string},expireOn:{name:"expireOn",type:o.g.integer},mediaType:{name:"mediaType",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0},expireOn_toUid_pk:{name:"expireOn_toUid_pk",fields:[{type:"raw",field:"expireOn"},{type:"raw",field:"toUid"},{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0},toUid_serverTime_pk:{name:"toUid_serverTime_pk",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"serverTime"},{type:"raw",field:"msgId"},{type:"raw",field:"ttlType"}],unique:!0}}}),h={ConvMsgStatus:d,MsgInfo:c,MsgUrgency:m,Quotes:u,ThreadMsg:g,ThreadHis:p,UnreadInfo:new a.d({tableName:"unreadInfo",name:"UnreadInfo",fields:{mId:{name:"mId",type:o.g.integer},actId:{name:"actId",type:o.g.integer},userId:{name:"userId",type:o.g.string},timestamp:{name:"timestamp",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),TTLItem:f},b={name:"MsgInfo",session:!0},y={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("MsgInfo"),s.a.byTable()],partitionsMap:Object(r.a)(h)},I={partitionNamingStrategy:[s.a.const("msginfo"),s.a.byUser()],partitionsMap:Object(r.b)(h)},v=Object(i.a)(Object(i.a)(Object(i.a)({},b),y),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),M=Object(i.a)(Object(i.a)(Object(i.a)({},b),I),{},{version:6,milestoneVersion:6,type:o.a.IDB});let P=null,w=null;t.a={schema:h,get useSqlite(){return null===P&&(P=new a.a(v)),P},get useIdb(){return null===w&&(w=new a.a(M)),w}}},JMlY:function(e,t,n){"use strict";var i=n("LzQZ");n.d(t,"a",(function(){return i.a}))},Jcee:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var i=n("jDHv"),o=n("AH6j"),s=n("45ei");class a{constructor(){this.disposables=void 0,this.disposables=[]}add(e){"function"==typeof e?this.disposables.push(e):this.disposables.push(e.dispose)}remove(e){let t=this.disposables.findIndex((t=>t===e));this.disposables.slice(t,1)}dispose(){for(const e of this.disposables)e()}}var r=n("6Sr9"),d=n("8/YW"),c=n("WOPK");const l=new Map;class m{constructor(){this.id=void 0,this.id=Object(c.a)()}revoke(){l.delete(this.id)}}class u extends m{constructor(){if(super(),this._status=void 0,u.instance)return u.instance;u.instance=this}get status(){return this._status}create(){this._status="create",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t)}))}start(){this._status="start",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.start)||void 0===n?void 0:n.call(t)}))}running(){this._status="running",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.running)||void 0===n?void 0:n.call(t)}))}pause(){this._status="pause",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.pause)||void 0===n?void 0:n.call(t)}))}resume(){this._status="resume",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.resume)||void 0===n?void 0:n.call(t)}))}restart(){this._status="restart",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.restart)||void 0===n?void 0:n.call(t)}))}stop(){this._status="stop",l.forEach((e=>{var t,n;return null===(t=i.ModuleContainer.resolveToken(e))||void 0===t||null===(n=t.stop)||void 0===n?void 0:n.call(t)}))}}u.instance=void 0;const p=new u;class g extends o.b{constructor(e,t,n){super(),this.name=e,this.config=t,this.disposables=void 0,this.currentSession=null,this.logger=void 0,this.onApplicationStarted=e=>{this.dispatchEvent(e)},this.onInitService=e=>{this.dispatchEvent(e)},this.onServiceReady=e=>{this.dispatchEvent(e)},this.onApplicationExit=e=>{this.dispatchEvent(e)},this.onBeforeUnload=()=>{this.dispatchEvent(new Event(s.a.BeforeUnload))},this.onApplicationFirstIdle=e=>{this.dispatchEvent(e)},this.onApplicationIdle=e=>{this.logger.zsymb(12,"zOQtsX","idle"),this.dispatchEvent(e)},this.onApplicationActive=e=>{this.logger.zsymb(12,"M7qVUh","active"),this.dispatchEvent(e)},this.logger=n.createZLogger("common",["application"]),this.disposables=new a,p.create()}async start(){this.logger.zsymb(0,"akL16f","starting"),this.listenInternalEvents(),Object(r.f)(this),this.onApplicationStarted(new Event(s.a.Start)),p.start()}async init(){this.logger.zsymb(3,"u8ipt9",["initializing services...","6cK0Bu"]),this.onInitService(new d.c(this)),window.addEventListener("beforeunload",(()=>{this.onBeforeUnload()}))}async ready(){this.logger.zsymb(3,"C22_nM",["application ready","H3LLPM"]),this.onServiceReady(new Event(s.a.ServicesReady)),p.running()}async exit(){this.logger.zsymb(3,"T8yO35",["exiting","pPGb0Q"]),this.onApplicationStarted(new Event(s.a.Exit)),setTimeout((()=>{this.disposables.dispose()})),p.stop()}authenticating(e){this.logger.zsymb(0,"sGrYhF",(()=>["authenticating",{id:e.userId}])),this.currentSession=e,this.dispatchEvent(new s.c(this.currentSession))}authenticate(e){this.logger.zsymb(0,"YHKyzR",(()=>["authenticate",{id:e.userId}])),this.currentSession=e,this.dispatchEvent(new s.c(this.currentSession)),this.dispatchEvent(new s.b(this.currentSession))}logOut(e){this.dispatchEvent(new s.e(e))}getSession(){return this.currentSession}setStateToIdle(){this.onApplicationIdle(new Event(s.a.Idle))}setStateToActive(){this.onApplicationActive(new Event(s.a.Active))}listenInternalEvents(){this.addEventListenerOnce(s.a.Idle,(()=>this.onApplicationFirstIdle(new Event(s.a.FirstIdle))))}}const f=Object(i.define)("application")},"K+9E":function(e,t,n){"use strict";var i=function(e){return e.METRIC_MANAGER="METRIC_MANAGER",e.METRIC_SCHEMA_MANAGER="METRIC_SCHEMA_MANAGER",e.METRIC_FACTORY="METRIC_FACTORY",e.METRIC_TRANSPORTER="METRIC_TRANSPORTER",e.METRIC_RESOLVER="METRIC_RESOLVER",e.METRIC_USAGE_MONITOR="METRIC_USAGE_MONITOR",e.APP_USAGE_MONITOR="APP_USAGE_MONITOR",e.PROCESS_MONITOR="PROCESS_MONITOR",e.LOCAL_STAT="LOCAL_STAT",e.DATA_MANAGER="DATA_MANAGER",e.UI_MANAGER="UI_MANAGER",e.PROCESS_LIFECYCLE_CONTROLLER="PROCESS_LIFECYCLE_CONTROLLER",e.APP_STATE_MANAGER="APP_STATE_MANAGER",e.TOOLBOX="TOOLBOX",e}(i||{});t.a=i},K6Wi:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"scrollConvList",(function(){return Z})),n.d(i,"switchJumpConv",(function(){return X})),n.d(i,"scrollChatBoxView",(function(){return te})),n.d(i,"switchMainTab",(function(){return ie})),n.d(i,"scrollGlobalSearchList",(function(){return se}));var o={};n.r(o),n.d(o,"e2eeSessionRecordDataSize",(function(){return ce}));var s=n("VTBJ"),a=n("rFEu"),r=n("cnBV"),d=n("uzza"),c=n("CHYU");const l=Object(a.g)(a.b.time("1m"),a.b.time("5m"),a.b.time("10m"),a.b.time("30m"),a.b.time("1h"),a.b.time("3h"),a.b.time("5h"),a.b.time("8h"),a.b.time("24h")),m=a.c.Memory({name:d.a.usage_memory,categories:[r.a.usage],timeline:l,statement:Object(a.f)({name:"memory usage",points:[a.f.Point({name:"usage after 1m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1m"))},points:[a.f.Point({name:"<= 50 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("50MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99108}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99140}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99172}})]}),a.f.Point({name:"50 MB < heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99109}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99141}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99173}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99110}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99142}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99174}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99111}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99143}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99175}})]})]}),a.f.Point({name:"usage after 5m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5m"))},points:[a.f.Point({name:"<= 50 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("50MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99112}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99144}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99176}})]}),a.f.Point({name:"50 MB < heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99113}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99145}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99177}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99114}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99146}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99178}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99115}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99147}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99179}})]})]}),a.f.Point({name:"usage after 10m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("10m"))},points:[a.f.Point({name:"<= 50 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("50MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99116}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99148}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99180}})]}),a.f.Point({name:"50 MB < heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99117}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99149}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99181}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99118}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99150}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99182}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99119}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99151}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99183}})]})]}),a.f.Point({name:"usage after 30m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("30m"))},points:[a.f.Point({name:"<= 50 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("50MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99120}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99152}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99184}})]}),a.f.Point({name:"50 MB < heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99121}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99153}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99185}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99122}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99154}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99186}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99123}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99155}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99187}})]})]}),a.f.Point({name:"usage after 1h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1h"))},points:[a.f.Point({name:"<= 50 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("50MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99124}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99156}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99188}})]}),a.f.Point({name:"50 MB < heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99125}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99157}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99189}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99126}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99158}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99190}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99127}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99159}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99191}})]})]}),a.f.Point({name:"usage after 3h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("3h"))},points:[a.f.Point({name:"heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99128}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99160}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99192}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99129}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99161}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99193}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99130}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99162}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99194}})]})]}),a.f.Point({name:"usage after 5h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5h"))},points:[a.f.Point({name:"heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99131}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99163}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99195}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99132}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99164}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99196}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99133}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99165}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99197}})]})]}),a.f.Point({name:"usage after 8h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("8h"))},points:[a.f.Point({name:"heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99134}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99166}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99198}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99135}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99167}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99199}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99136}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99168}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99200}})]})]}),a.f.Point({name:"usage after 24h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t>=a.b.time("24h"))},points:[a.f.Point({name:"heapUsed <= 100 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("100MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99137}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99169}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99201}})]}),a.f.Point({name:"100 MB < heapUsed <= 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t<=a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99138}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99170}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99202}})]}),a.f.Point({name:"heapUsed > 200 MB",condition:e=>{const t=a.b.extractHeapUsed(e);return!!(null!=t&&t>a.b.bytes("200MB"))},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99139}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99171}}),a.f.Point({name:"dbtask",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99203}})]})]})]})}),u=a.c.CPU({name:d.a.usage_cpu,categories:[r.a.usage],timeline:l,statement:Object(a.f)({name:"percent CPU usage",points:[a.f.Point({name:"usage after 1m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1m"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99e3}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99036}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99072}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99001}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99037}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99073}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99002}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99038}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99074}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99003}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99039}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99075}})]})]}),a.f.Point({name:"usage after 5m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5m"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99004}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99040}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99076}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99005}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99041}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99077}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99006}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99042}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99078}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99007}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99043}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99079}})]})]}),a.f.Point({name:"usage after 10m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("10m"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99008}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99044}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99080}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99009}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99045}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99081}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99010}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99046}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99082}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99011}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99047}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99083}})]})]}),a.f.Point({name:"usage after 30m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("30m"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99012}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99048}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99084}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99013}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99049}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99085}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99014}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99050}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99086}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99015}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99051}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99087}})]})]}),a.f.Point({name:"usage after 1h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1h"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99016}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99052}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99088}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99017}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99053}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99089}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99018}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99054}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99090}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99019}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99055}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99091}})]})]}),a.f.Point({name:"usage after 3h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("3h"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99020}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99056}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99092}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99021}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99057}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99093}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99022}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99058}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99094}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99023}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99059}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99095}})]})]}),a.f.Point({name:"usage after 5h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5h"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99024}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99060}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99096}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99025}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99061}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99097}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99026}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99062}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99098}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99027}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99063}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99099}})]})]}),a.f.Point({name:"usage after 8h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("8h"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99028}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99064}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99100}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99029}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99065}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99204}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99030}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99066}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99205}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99031}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99067}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99206}})]})]}),a.f.Point({name:"usage after 24h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t>=a.b.time("24h"))},points:[a.f.Point({name:"<= 10%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99032}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99068}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99104}})]}),a.f.Point({name:"10% < percentCPUUsage <= 30%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=30)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99033}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99069}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99105}})]}),a.f.Point({name:"30% < percentCPUUsage <= 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99034}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99070}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99106}})]}),a.f.Point({name:"percentCPUUsage > 70%",condition:e=>{const t=a.b.extractCPUUsage(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"main",condition:e=>e.processName===c.a.Main,qos:{cmdId:99035}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,qos:{cmdId:99071}}),a.f.Point({name:"render",condition:e=>e.processName===c.a.SharedWorker,qos:{cmdId:99107}})]})]})]})});var p=Object(a.d)({metrics:[m,u]}),g=n("rkiK");const f=e=>"get"===e||"get-multi"===e||"get-all"===e||"get-all-key"===e||"count"===e?"read":"insert"===e||"insert-multi"===e||"update"===e||"update-multi"===e||"get-and-update"===e?"write":"delete"===e||"delete-multi"===e||"find-and-delete"===e||"clear"===e?"delete":void 0,h=new class{constructor(){this.TIME_TO_RERUN_QUERY=36e5,this._couting=void 0,this._lastCountedAt=void 0,this._lastCount=void 0}async countTotalMessages(){if(this._couting)return await this._couting;if(this._lastCount&&this._lastCountedAt&&Date.now()-this._lastCountedAt<this.TIME_TO_RERUN_QUERY)return this._lastCount;const e=(async()=>new Promise((e=>{setTimeout((()=>{g.MetriczUtilsAPI.requestCpuIdle((async()=>{try{const t=n("fsN4").default.getInstance(),i=await t.Core.Message.count();this._lastCount=i,this._lastCountedAt=Date.now(),e(i)}catch(t){e(NaN)}}))}),1e4)})))();this._couting=e;try{return await e}catch(t){throw t}finally{this._couting=void 0}}},b=Object(a.c)({name:d.a.query_resolution_time,config:Object(a.a)(!0),features:[r.b.dal],categories:[r.a.core],showStackTrace:()=>!1,statement:a.f.Group(Object(a.f)({name:"db execution time - by messages size",points:[a.f.Point({name:"totalMsgs <= 50k",condition:async()=>await h.countTotalMessages()<=5e4,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99817,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99817,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99817,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99817,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99817,errCode:5}})]}),a.f.Point({name:"50k < totalMsgs <= 100k",condition:async()=>await h.countTotalMessages()<=1e5,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99818,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99818,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99818,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99818,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99818,errCode:5}})]}),a.f.Point({name:"100k < totalMsgs <= 500k",condition:async()=>await h.countTotalMessages()<=5e5,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99819,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99819,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99819,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99819,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99819,errCode:5}})]}),a.f.Point({name:"500k < totalMsgs <= 1mil",condition:async()=>await h.countTotalMessages()<=1e6,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99820,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99820,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99820,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99820,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99820,errCode:5}})]}),a.f.Point({name:"1mil < totalMsgs <= 2mil",condition:async()=>await h.countTotalMessages()<=2e6,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99821,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99821,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99821,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99821,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99821,errCode:5}})]}),a.f.Point({name:"totalMsgs > 2mil",condition:async()=>await h.countTotalMessages()>2e6,points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99822,errCode:1}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99822,errCode:2}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99822,errCode:3}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99822,errCode:4}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99822,errCode:5}})]})]}),Object(a.f)({name:"duration by query type",points:[a.f.Point({name:"queryType: READ",condition:(e,t)=>"read"===f(null==t?void 0:t.method),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99504}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99505}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99506}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99507}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99508}})]}),a.f.Point({name:"queryType: WRITE",condition:(e,t)=>"write"===f(null==t?void 0:t.method),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<a.b.time("500ms"),qos:{cmdId:99509}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99510}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99511}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99512}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99513}})]}),a.f.Point({name:"queryType: DELETE",condition:(e,t)=>"delete"===f(null==t?void 0:t.method),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99514}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99515}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99516}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99517}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99518}})]})]}),Object(a.f)({name:"usage time: within first 10m",checkingMode:"all",points:[a.f.Point({name:"usageTime <= 1m",condition:({usageTime:e})=>e<=a.b.time("1m"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99519}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99520}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99521}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99522}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99523}})]}),a.f.Point({name:"usageTime <= 5m",condition:({usageTime:e})=>e<=a.b.time("5m"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99524}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99525}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99526}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99527}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99528}})]}),a.f.Point({name:"usageTime <= 10m",condition:({usageTime:e})=>e<=a.b.time("10m"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99529}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99530}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99531}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99532}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99533}})]})]}),Object(a.f)({name:"usage time: 10m - 5h",checkingMode:"all",points:[a.f.Point({name:"10m < usageTime <= 1h",condition:({usageTime:e})=>e>a.b.time("10m")&&e<=a.b.time("1h"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99534}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99535}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99536}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99537}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99538}})]}),a.f.Point({name:"1h < usageTime <= 5h",condition:({usageTime:e})=>e>a.b.time("1h")&&e<=a.b.time("5h"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99539}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99540}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99541}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99542}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99543}})]})]}),Object(a.f)({name:"usage time: long session",points:[a.f.Point({name:"usageTime > 5h",condition:({usageTime:e})=>e>a.b.time("5h"),points:[a.f.Point({name:"<= 500ms",condition:({duration:e})=>e<=a.b.time("500ms"),qos:{cmdId:99544}}),a.f.Point({name:"500ms < duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99545}}),a.f.Point({name:"1s < duration <= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99546}}),a.f.Point({name:"5s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99547}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99548}})]})]}),Object(a.f)({name:"duration > 10s",points:[a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99549}})]}))}),y=Object(a.c)({name:d.a.db_ready,config:Object(a.a)(!0),features:[r.b.dal],categories:[r.a.core],statement:Object(a.f)({name:"DB open time",points:[a.f.Point({name:"<= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99500}}),a.f.Point({name:"1s-5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99501}}),a.f.Point({name:"5s-10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99502}}),a.f.Point({name:"> 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99503}})]})});var I=Object(a.d)({metrics:[b,y]});const v=Object(a.c)({name:d.a.authenticate,features:[r.b.start_up],categories:[r.a.task_latency],statement:Object(a.f)({name:"authenticate",points:[a.f.Point({name:"<= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99605}}),a.f.Point({name:"<= 2s",condition:({duration:e})=>e<=a.b.time("2s"),qos:{cmdId:99606}}),a.f.Point({name:"<= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99607}}),a.f.Point({name:"> 5s",condition:({duration:e})=>e>a.b.time("5s"),qos:{cmdId:99608}})]})}),M=Object(a.c)({name:d.a.start_up_time,features:[r.b.start_up],categories:[r.a.ux_latency],fromProcess:[c.a.Main,c.a.Web],startFromEpoch:!0,disabled:!1,statement:Object(a.f)({name:"startup duration",points:[a.f.Point({name:"<= 5s",condition:({duration:e})=>e<=a.b.time("5s"),qos:{cmdId:99600}}),a.f.Point({name:"5s-10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99601}}),a.f.Point({name:"10s-30s",condition:({duration:e})=>e<=a.b.time("30s"),qos:{cmdId:99602}}),a.f.Point({name:"30s-1m",condition:({duration:e})=>e<=a.b.time("1m"),qos:{cmdId:99603}}),a.f.Point({name:"> 1m",condition:({duration:e})=>e>a.b.time("1m"),qos:{cmdId:99604}})]})});var P=Object(a.d)({metrics:[v,M]}),w=n("MNz0");Object(a.c)({name:d.a.conv_load_1st_msg,features:[r.b.chat],categories:[r.a.ux_latency]});const _=Object(a.c)({name:d.a.open_conversation,features:[r.b.chat],categories:[r.a.ux_latency],mode:w.a.ACCEPT_LAST,statement:Object(a.f)({name:"open conversation time",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99625}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99626}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99627}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99628}})]})}),T=Object(a.c)({name:d.a.open_conversation_no_preload,features:[r.b.chat],categories:[r.a.ux_latency],config:Object(a.a)(!0),mode:w.a.ACCEPT_LAST,statement:Object(a.f)({name:"open conversation no preload time",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99882,errCode:1}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99882,errCode:2}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99882,errCode:3}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99882,errCode:4}})]})}),S=Object(a.c)({name:d.a.load_bottom_msg_from_db,features:[r.b.chat],categories:[r.a.ux_latency],config:Object(a.a)(!0),statement:Object(a.f)({name:"load bottom msg from db",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99883,errCode:1}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99883,errCode:2}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99883,errCode:3}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99883,errCode:4}})]})}),C=Object(a.c)({name:d.a.load_top_msg_from_db,features:[r.b.chat],categories:[r.a.ux_latency],config:Object(a.a)(!0),statement:Object(a.f)({name:"load top msg from db",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99884,errCode:1}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99884,errCode:2}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99884,errCode:3}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99884,errCode:4}})]})}),q=Object(a.c)({name:d.a.load_jump_msg_from_db,features:[r.b.chat],categories:[r.a.ux_latency],config:Object(a.a)(!0),statement:Object(a.f)({name:"load bottom msg from db",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99885,errCode:1}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99885,errCode:2}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99885,errCode:3}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99885,errCode:4}})]})}),R=Object(a.c)({name:d.a.load_conversation_list,features:[r.b.chat],categories:[r.a.ux_latency],config:Object(a.a)(!0),statement:Object(a.f)({name:"load conversation list - sidebar preview",points:[a.f.Point({name:"duration <= 1s",condition:({duration:e})=>e<=a.b.time("1s"),qos:{cmdId:99892,errCode:1}}),a.f.Point({name:"1s < duration <= 3s",condition:({duration:e})=>e<=a.b.time("3s"),qos:{cmdId:99892,errCode:2}}),a.f.Point({name:"3s < duration <= 10s",condition:({duration:e})=>e<=a.b.time("10s"),qos:{cmdId:99892,errCode:3}}),a.f.Point({name:"duration > 10s",condition:({duration:e})=>e>a.b.time("10s"),qos:{cmdId:99892,errCode:4}})]})});var D=Object(a.d)({metrics:[_,T,S,C,q,R]});const A=(...e)=>{const[t]=e||[];return{avgFps:null==t?void 0:t.avgFps,usageTime:null==t?void 0:t.usageTime}},N=(...e)=>{const[t]=e||[];return{lowestDrop:null==t?void 0:t.lowestDrop,maxFps:null==t?void 0:t.maxFps}},E=e=>{var t,n;return"arm"===(null==e||null===(t=e.systemInfo)||void 0===t?void 0:t.arch)||"arm64"===(null==e||null===(n=e.systemInfo)||void 0===n?void 0:n.arch)},x=Object(a.c)({name:d.a.fps,categories:[r.a.ux_latency],statement:Object(a.f)({name:"fps",points:[a.f.Point({name:"usageTime <= 2m",condition:(e,...t)=>{const{usageTime:n}=A(...t);return!!(n&&n<=a.b.time("2m"))},points:[a.f.Point({name:"fps <= 12",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=12)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99609}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99629}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99617}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99637}})]})]}),a.f.Point({name:"12 < fps <= 23",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=23)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99610}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99630}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99618}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99638}})]})]}),a.f.Point({name:"[23,24] < fps <= 29",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=29)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99611}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99631}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99619}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99639}})]})]}),a.f.Point({name:"[29,30] < fps <= 60",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=60)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99612}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99632}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99620}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99640}})]})]})]}),a.f.Point({name:"usageTime > 2m",condition:(e,...t)=>{const{usageTime:n}=A(...t);return!!(n&&n>a.b.time("2m"))},points:[a.f.Point({name:"fps <= 12",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=12)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99613}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99633}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99621}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99641}})]})]}),a.f.Point({name:"12 < fps <= 23",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=23)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99614}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99634}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99622}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99642}})]})]}),a.f.Point({name:"[23,24] < fps <= 29",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=29)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99615}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99635}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99623}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99643}})]})]}),a.f.Point({name:"[29,30] < fps <= 60",condition:(e,...t)=>{const{avgFps:n}=A(...t);return!!(n&&n<=60)},points:[a.f.Point({name:"render",condition:e=>e.processName===c.a.Render,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99616}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99636}})]}),a.f.Point({name:"render",condition:e=>e.processName===c.a.Web,points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99624}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99644}})]})]})]})]})}),O=Object(a.c)({name:d.a.fps_lowest_drop,categories:[r.a.ux_latency],statement:a.f.Group(Object(a.f)({name:"lowest drop",points:[a.f.Point({name:"usageTime <= 2m",condition:({usageTime:e})=>e<=a.b.time("1m"),points:[a.f.Point({name:"maxFps = 60",condition:(e,...t)=>{const{maxFps:n}=N(...t);return!!(null!=n&&n<=60)},points:[a.f.Point({name:"fps <= 10",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99645}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99653}})]}),a.f.Point({name:"10 < fps <= 25",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>10&&n<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99646}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99654}})]}),a.f.Point({name:"25 < fps <= 39",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>25&&n<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99647}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99655}})]}),a.f.Point({name:"39 < fps <= 49",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>39&&n<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99648}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99656}})]})]}),a.f.Point({name:"maxFps = 120",condition:(e,...t)=>{const{maxFps:n}=N(...t);return!!(null!=n&&n>60&&n<=120)},points:[a.f.Point({name:"fps <= 20",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99661}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99669}})]}),a.f.Point({name:"20 < fps <= 50",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>20&&n<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99662}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99670}})]}),a.f.Point({name:"50 < fps <= 79",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>50&&n<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99663}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99671}})]}),a.f.Point({name:"79 < fps <= 99",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>79&&n<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99664}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99672}})]})]})]})]}),Object(a.f)({name:"lowest drop - all time",points:[a.f.Point({name:"maxFps = 60",condition:(e,...t)=>{const{maxFps:n}=N(...t);return!!(null!=n&&n<=60)},points:[a.f.Point({name:"fps <= 10",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99649}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99657}})]}),a.f.Point({name:"10 < fps <= 25",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>10&&n<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99650}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99658}})]}),a.f.Point({name:"25 < fps <= 39",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>25&&n<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99651}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99659}})]}),a.f.Point({name:"39 < fps <= 49",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>39&&n<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99652}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99660}})]})]}),a.f.Point({name:"maxFps = 120",condition:(e,...t)=>{const{maxFps:n}=N(...t);return!!(null!=n&&n>60&&n<=120)},points:[a.f.Point({name:"fps <= 20",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99665}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99673}})]}),a.f.Point({name:"20 < fps <= 50",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>20&&n<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99666}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99674}})]}),a.f.Point({name:"50 < fps <= 79",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>50&&n<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99667}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99675}})]}),a.f.Point({name:"79 < fps <= 99",condition:(e,...t)=>{const{lowestDrop:n}=N(...t);return!!(null!=n&&n>79&&n<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!E(e),qos:{cmdId:99668}}),a.f.Point({name:"mac m1",condition:e=>E(e),qos:{cmdId:99676}})]})]})]}))});var B=Object(a.d)({metrics:[x,O]}),U=n("AoYG");const k=e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.cpuTotal},F=e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.memoryTotal},j=Object(a.f)({name:"CPU used",points:[a.f.Point({name:"usage after 1m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1m"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99351}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99387}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99352}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99388}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99353}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99389}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99354}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99390}})]})]}),a.f.Point({name:"usage after 5m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5m"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99355}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99391}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99356}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99392}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99357}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99393}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99358}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99394}})]})]}),a.f.Point({name:"usage after 10m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("10m"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99359}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99395}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99360}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99396}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99361}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99397}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99362}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99398}})]})]}),a.f.Point({name:"usage after 30m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("30m"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99363}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99399}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99364}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99400}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99365}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99401}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99366}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99402}})]})]}),a.f.Point({name:"usage after 1h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99367}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99403}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99368}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99404}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99369}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99405}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99370}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99406}})]})]}),a.f.Point({name:"usage after 3h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("3h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99371}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99407}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99372}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99408}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99373}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99409}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99374}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99410}})]})]}),a.f.Point({name:"usage after 5h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99375}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99411}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99376}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99412}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99377}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99413}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99378}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99414}})]})]}),a.f.Point({name:"usage after 8h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("8h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99379}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99415}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99380}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99416}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99381}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99417}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99382}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99418}})]})]}),a.f.Point({name:"usage after 24h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("24h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99383}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99419}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99384}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99420}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99385}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99421}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99386}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99422}})]})]}),a.f.Point({name:"usage after 2 days",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("48h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99827}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99831}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99828}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99832}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99829}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99833}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99830}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99834}})]})]}),a.f.Point({name:"usage after 3 days",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("72h"))},points:[a.f.Point({name:"<= 20%",condition:e=>{const t=k(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99835}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99839}})]}),a.f.Point({name:"20% < cpuTotal <= 40%",condition:e=>{const t=k(e);return!!(null!=t&&t<=40)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99836}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99840}})]}),a.f.Point({name:"40% < cpuTotal <= 70%",condition:e=>{const t=k(e);return!!(null!=t&&t<=70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99837}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99841}})]}),a.f.Point({name:"cpuTotal > 70%",condition:e=>{const t=k(e);return!!(null!=t&&t>70)},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99838}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99842}})]})]})]}),L=Object(a.f)({name:"Memory used",points:[a.f.Point({name:"usage after 1m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1m"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99207}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99243}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99279}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99315}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99208}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99244}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99280}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99316}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99209}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99245}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99281}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99317}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99210}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99246}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99282}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99318}})]})]})]}),a.f.Point({name:"usage after 5m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5m"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99211}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99247}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99283}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99319}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99212}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99248}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99284}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99320}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99213}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99249}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99285}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99321}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99214}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99250}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99286}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99322}})]})]})]}),a.f.Point({name:"usage after 10m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("10m"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99215}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99251}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99287}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99323}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99216}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99252}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99288}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99324}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99217}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99253}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99289}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99325}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99218}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99254}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99290}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99326}})]})]})]}),a.f.Point({name:"usage after 30m",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("30m"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99219}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99255}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99291}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99327}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99220}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99256}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99292}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99328}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99221}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99257}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99293}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99329}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99222}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99258}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99294}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99330}})]})]})]}),a.f.Point({name:"usage after 1h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("1h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99223}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99259}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99295}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99331}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99224}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99260}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99296}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99332}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99225}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99261}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99297}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99333}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99226}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99262}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99298}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99334}})]})]})]}),a.f.Point({name:"usage after 3h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("3h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99227}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99263}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99299}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99335}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99228}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99264}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99300}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99336}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99229}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99265}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99301}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99337}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99230}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99266}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99302}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99338}})]})]})]}),a.f.Point({name:"usage after 5h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("5h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99231}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99267}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99303}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99339}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99232}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99268}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99304}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99340}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99233}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99269}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99305}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99341}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99234}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99270}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99306}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99342}})]})]})]}),a.f.Point({name:"usage after 8h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("8h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99235}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99271}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99307}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99343}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99236}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99272}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99308}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99344}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99237}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99273}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99309}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99345}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99238}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99274}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99310}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99346}})]})]})]}),a.f.Point({name:"usage after 24h",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("24h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99239}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99275}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99311}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99347}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99240}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99276}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99312}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99348}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99241}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99277}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99313}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99349}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99242}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99278}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99314}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99350}})]})]})]}),a.f.Point({name:"usage after 2 days",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("48h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99843}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99847}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99851}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99855}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99844}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99848}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99852}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99856}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99845}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99849}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99853}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99857}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99846}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99850}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99854}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99858}})]})]})]}),a.f.Point({name:"usage after 3 days",condition:e=>{const t=a.b.extractPassedTime(e);return!!(t&&t<=a.b.time("72h"))},points:[a.f.Point({name:"realMem <= 500MB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("500MB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99859}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99863}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99867}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99871}})]})]}),a.f.Point({name:"500MB < realMem <= 1GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("1GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99860}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99864}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99868}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99872}})]})]}),a.f.Point({name:"1GB < realMem <= 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t<=a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99861}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99865}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99869}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99873}})]})]}),a.f.Point({name:"realMem > 2GB",condition:e=>{const t=F(e);return!!(null!=t&&t>a.b.bytes("2GB"))},points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99862}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99866}})]}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},points:[a.f.Point({name:"window",condition:()=>!1,qos:{cmdId:99870}}),a.f.Point({name:"macos",condition:()=>!0,qos:{cmdId:99874}})]})]})]})]}),z=Object(a.f)({name:"RAM usage summary",points:[a.f.Point({name:"RAM <= 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t<=a.b.bytes("8GB"))},qos:{cmdId:99773}}),a.f.Point({name:"RAM > 8GB",condition:e=>{const t=a.b.extractRAM(e);return!!(null!=t&&t>a.b.bytes("8GB"))},qos:{cmdId:99774}})]}),G=Object(a.f)({name:"CPU usage summary",points:[a.f.Point({name:"",condition:!0,qos:{cmdId:99775}})]}),K=Object(a.c)({name:d.a.app_cpu_usage,type:U.a.APP_USAGE,categories:[r.a.usage],statement:a.f.Group(j,G)}),H=Object(a.c)({name:d.a.app_ram_usage,type:U.a.APP_USAGE,categories:[r.a.usage],statement:a.f.Group(L,z)});var V=Object(a.d)({metrics:[K,H]});let Q;(Q||(Q={})).extractLowestFpsDrop=e=>{var t,n;return{lowestDrop:null==e||null===(t=e.data)||void 0===t?void 0:t.lowestDrop,maxFps:null==e||null===(n=e.data)||void 0===n?void 0:n.maxFps}};var W=Q;const $=a.c.Fps({name:d.a.fps_scroll_conv_list,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - scroll conv list",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99677}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99681}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99678}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99682}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99679}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99683}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99680}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99684}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99786}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99787}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99685}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99689}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99686}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99690}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99687}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99691}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99688}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99692}})]})]})]})});var Z=Object(a.d)({metrics:[$]});const Y=a.c.Fps({name:d.a.fps_switch_conv,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - switch conversation",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99693}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99697}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99694}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99698}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99695}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99699}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99696}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99700}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99788}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99789}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99701}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99705}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99702}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99706}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99703}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99707}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99704}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99708}})]})]})]})}),J=a.c.Fps({name:d.a.fps_jump_to_msg,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - jump to message",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99709}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99713}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99710}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99714}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99711}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99715}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99712}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99716}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99790}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99791}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99717}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99721}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99718}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99722}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99719}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99723}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99720}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99724}})]})]})]})});var X=Object(a.d)({metrics:[Y,J]});const ee=a.c.Fps({name:d.a.fps_scroll_chat_box_view,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - scroll chat box view",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99725}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99729}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99726}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99730}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99727}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99731}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99728}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99732}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99792}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99793}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99733}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99737}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99734}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99738}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99735}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99739}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99736}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99740}})]})]})]})});var te=Object(a.d)({metrics:[ee]});const ne=a.c.Fps({name:d.a.fps_switch_main_tab,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - switch main tab",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99741}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99745}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99742}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99746}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99743}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99747}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99744}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99748}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99794}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99795}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99749}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99753}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99750}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99754}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99751}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99755}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99752}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99756}})]})]})]})});var ie=Object(a.d)({metrics:[ne]});const oe=a.c.Fps({name:d.a.fps_scroll_global_search_list,categories:[r.a.ux_latency],timeout:5e3,statement:Object(a.f)({name:"lowest FPS drop - scroll global search list",points:[a.f.Point({name:"maxFps = 60",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=60)},points:[a.f.Point({name:"fps <= 10",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=10)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99757}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99761}})]}),a.f.Point({name:"10 < fps <= 25",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>10&&t<=25)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99758}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99762}})]}),a.f.Point({name:"25 < fps <= 39",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>25&&t<=39)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99759}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99763}})]}),a.f.Point({name:"39 < fps <= 49",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>39&&t<=49)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99760}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99764}})]}),a.f.Point({name:"fps >= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return null==t},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99796}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99797}})]})]}),a.f.Point({name:"maxFps = 120",condition:e=>{const{maxFps:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>60&&t<=120)},points:[a.f.Point({name:"fps <= 20",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t<=20)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99765}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99769}})]}),a.f.Point({name:"20 < fps <= 50",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>20&&t<=50)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99766}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99770}})]}),a.f.Point({name:"50 < fps <= 79",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>50&&t<=79)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99767}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99771}})]}),a.f.Point({name:"79 < fps <= 99",condition:e=>{const{lowestDrop:t}=W.extractLowestFpsDrop(e);return!!(null!=t&&t>79&&t<=99)},points:[a.f.Point({name:"window & mac intel",condition:e=>!a.b.isM1(e),qos:{cmdId:99768}}),a.f.Point({name:"mac m1",condition:e=>a.b.isM1(e),qos:{cmdId:99772}})]})]})]})});var se=Object(a.d)({metrics:[oe]});let ae;(ae||(ae={})).extractDataSize=e=>{var t,n;return{dataSize:null==e||null===(t=e.data)||void 0===t?void 0:t.dataSize,readableDataSize:null==e||null===(n=e.data)||void 0===n?void 0:n.readableDataSize}};var re=ae;const de=Object(a.c)({name:d.a.e2ee_session_record_data_size,type:U.a.BINARY_SIZE,features:[r.b.e2ee],categories:[r.a.usage],statement:Object(a.f)({name:"e2ee session record data size",points:[a.f.Point({name:"< 64KB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t<a.b.bytes("64KB"))},qos:{cmdId:99780}}),a.f.Point({name:"64KB <= sessionSize < 128KB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t<a.b.bytes("128KB"))},qos:{cmdId:99781}}),a.f.Point({name:"128KB <= sessionSize < 512KB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t<a.b.bytes("512KB"))},qos:{cmdId:99782}}),a.f.Point({name:"512KB <= sessionSize < 2MB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t<a.b.bytes("2MB"))},qos:{cmdId:99783}}),a.f.Point({name:"2MB <= sessionSize < 5MB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t<a.b.bytes("5MB"))},qos:{cmdId:99784}}),a.f.Point({name:">= 5MB",condition:e=>{const{dataSize:t}=re.extractDataSize(e);return!!(null!=t&&t>=a.b.bytes("5MB"))},qos:{cmdId:99785}})]})});var ce=Object(a.d)({metrics:[de]});t.default=Object(a.e)(Object(s.a)(Object(s.a)({usage:p,dal:I,fps:B,startUp:P,conversation:D,appUsage:V},i),o))},KBA3:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("dFSO"),s=n("rors"),a=n("CHYU"),r=function(e){return e[e.PENDING=0]="PENDING",e[e.YES=1]="YES",e[e.NO=2]="NO",e}(r||{}),d=r;const c=new class{constructor(){this.config={enable:!1,enable_for_staging_account:!0,enable_submit_qos:!0,enable_fps_monitor:!1,enable_fps_monitor_v2:!0,enable_fps_drop_monitor:!0,enable_write_log:!1,submit_qos_except_dev:!0,allow_measure_usage_by_ps_cmd:!1,allow_measure_app_usage:!1,allow_submit_os_version_mac:!0,allow_submit_os_version_win:!0,max_cache_records_resolved:s.a,max_starting_process_dictionary:s.b,regex_test_cpu_model_mac_arm:"^Apple M\\d+$",allow_record_high_fps:!0,app_usage_recording_period:6e4,os_architecture:{"32bit":"32-bit","64bit":"64-bit"},processes_whitelist:[a.a.Main,a.a.Web,a.a.Render,a.a.SharedWorker,a.a.Photo,a.a.Notification],processes_enable_cpu_monitor:[a.a.Main,a.a.Render,a.a.SharedWorker],staging_account:!1,fps_section:{fps_scroll_conv_list:!0,fps_switch_conv:!0,fps_jump_to_msg:!0,fps_scroll_chat_box_view:!0,fps_switch_main_tab:!0,fps_scroll_global_search_list:!0},toolbox:{enable_process_lifecycle:!0,enable_request_cpu_idle:!0,threshold_cpu_idle_renderer_win:10,threshold_cpu_idle_renderer_mac:10,threshold_cpu_idle_main_win:5,threshold_cpu_idle_main_mac:5,threshold_cpu_idle_dbtask_win:5,threshold_cpu_idle_dbtask_mac:5},debug:{enable:!1},config:{},custom:{}},this.stagingAccountStatus=d.PENDING,this.listeners={},this.listenerChanged=[],this.init()}get enable(){return this.config.enable}get debugEnabled(){var e,t;return!(null===(e=this.config)||void 0===e||null===(t=e.debug)||void 0===t||!t.enable)}init(){0}mergeSetting(e){var t,n;if(!e||"object"!=typeof e)return;const s=JSON.parse(JSON.stringify(this.config));this.config=Object(i.a)(Object(i.a)(Object(i.a)({},this.config),e||{}),{},{fps_section:Object(i.a)(Object(i.a)({},this.config.fps_section),(null==e?void 0:e.fps_section)||{}),toolbox:Object(i.a)(Object(i.a)({},this.config.toolbox),(null==e?void 0:e.toolbox)||{}),debug:Object(i.a)(Object(i.a)({},this.config.debug),(null==e?void 0:e.debug)||{}),custom:Object(i.a)(Object(i.a)({},this.config.custom),(null==e?void 0:e.custom)||{}),config:Object(i.a)(Object(i.a)({},this.config.config),(null==e?void 0:e.config)||{})}),(null!=e&&e.staging_account||null!=e&&null!==(t=e.debug)&&void 0!==t&&t.enable)&&(this.config.debug.enable=!0);for(const i in this.config){const t=null==e?void 0:e[i];if("staging_account"===i&&(this.stagingAccountStatus=t?d.YES:d.NO),!Object(o.b)(s[i])&&!Object(o.b)(t)){const e=this.listeners[i];null!=e&&e.length&&e.forEach((e=>e(t)))}}null!==(n=this.listenerChanged)&&void 0!==n&&n.length&&this.listenerChanged.forEach((e=>e({fromServerInfo:!1})))}mergeSettingFromServerInfo(e){var t;e&&"object"==typeof e&&("object"==typeof(null==e?void 0:e.config)&&(this.config.config=Object(i.a)(Object(i.a)({},this.config.config),e.config)),"object"==typeof(null==e?void 0:e.custom)&&(this.config.custom=Object(i.a)(Object(i.a)({},this.config.custom),e.custom)),null!==(t=this.listenerChanged)&&void 0!==t&&t.length&&this.listenerChanged.forEach((e=>e({fromServerInfo:!0}))))}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}removeListener(e,t){var n;null!==(n=this.listeners[e])&&void 0!==n&&n.length&&(this.listeners[e]=this.listeners[e].filter((e=>e!==t)))}onConfigChange(e){this.listenerChanged.push(e)}onEnable(e){this.on("enable",(t=>{t&&e()}))}onDisable(e){this.on("enable",(t=>{t||e()}))}getConfig(){return this.config}getStagingAccountStatus(){return this.stagingAccountStatus}};t.a=c},KiFO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("YEoC");const o=new(n("teaq").d)({tableName:"partition",name:"partition",fields:{database:{name:"database",type:i.g.string},table:{name:"table",type:i.g.string},key:{name:"key",type:i.g.string},value:{name:"value",type:i.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"database"},{type:"raw",field:"table"},{type:"raw",field:"key"}],unique:!0}}})},LzQZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("database-transaction-manager")},MNz0:function(e,t,n){"use strict";var i=function(e){return e.ACCEPT_LAST="ACCEPT_LAST",e}(i||{});t.a=i},MRjZ:function(e,t,n){"use strict";function i(e){return Object.entries(e).map((([e,t])=>`${e}=${JSON.stringify(t)}`)).join(",")}n.d(t,"a",(function(){return i}))},Mgpg:function(e,t,n){"use strict";n.r(t);var i=n("XB6V");n.d(t,"ZLoggerFactory",(function(){return i.a}));var o=n("7xKq");n.d(t,"ZLogger",(function(){return o.ZLogger}));var s=n("7FSS");n.d(t,"dangerouslyLogConsole",(function(){return s.a}));var a=n("OMsT");n.d(t,"ZLogCollector",(function(){return a.a}));var r=n("jGDt");n.d(t,"ZLogSession",(function(){return r.a}))},N1xz:function(e,t,n){"use strict";n("mNvP");var i=n("KBA3"),o=n("K+9E"),s=n("CHYU"),a=n("f1TF");class r{static get EPOCH(){return this._epoch}static register(e,t){this.tokens||(this.tokens=new Map),this.tokens.set(e,t)}static get MetricManager(){if(!this._metricManager){const e=o.a.METRIC_MANAGER,t=this.tokens.get(e);if(!t)throw new Error(`[metricz] token "${e}" is not registered`);this._metricManager=new t,this.tokens.delete(e)}return this._metricManager}static get SchemaManager(){if(!this._schemaManager){const e=o.a.METRIC_SCHEMA_MANAGER,t=this.tokens.get(e);if(!t)throw new Error(`[metricz] token "${e}" is not registered`);this._schemaManager=new t,this.tokens.delete(e)}return this._schemaManager}static get MetricFactory(){if(!this._metricFactory){const e=o.a.METRIC_FACTORY,t=this.tokens.get(e);if(!t)throw new Error(`[metricz] token "${e}" is not registered`);this._metricFactory=new t,this.tokens.delete(e)}return this._metricFactory}static get MetricTransporter(){if(!this._metricTransporter){const e=o.a.METRIC_TRANSPORTER,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._metricTransporter=new t,this.tokens.delete(e)}return this._metricTransporter}static get MetricResolver(){if(!this._metricResolver){const e=o.a.METRIC_RESOLVER,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._metricResolver=new t,this.tokens.delete(e)}return this._metricResolver}static get UsageMonitor(){if(!this._usageMonitor){const e=o.a.METRIC_USAGE_MONITOR,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._usageMonitor=new t,this.tokens.delete(e)}return this._usageMonitor}static get AppUsageMonitor(){if(!this._appUsageMonitor){const e=o.a.APP_USAGE_MONITOR,t=this.tokens.get(e);t&&(this._appUsageMonitor=new t,this.tokens.delete(e))}return this._appUsageMonitor}static get ProcessMonitor(){if(!this._processMonitor){const e=o.a.PROCESS_MONITOR,t=this.tokens.get(e);t&&(this._processMonitor=new t,this.tokens.delete(e))}return this._processMonitor}static get LocalStat(){if(!this._localStat){const e=o.a.LOCAL_STAT,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._localStat=new t,this.tokens.delete(e)}return this._localStat}static get DataManager(){if(!this._dataManager){const e=o.a.DATA_MANAGER,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._dataManager=new t,this.tokens.delete(e)}return this._dataManager}static get UIManager(){if(!this._uiManager){const e=o.a.UI_MANAGER,t=this.tokens.get(e);if(!t)throw new Error(`Metric token "${e}" is not registered`);this._uiManager=new t,this.tokens.delete(e)}return this._uiManager}static get ProcessLifecycleController(){if(!this._processLifecycleController){const e=o.a.PROCESS_LIFECYCLE_CONTROLLER,t=this.tokens.get(e);t&&(this._processLifecycleController=new t,this.tokens.delete(e))}return this._processLifecycleController}static get ToolboxRenderer(){if(!this._toolboxRenderer){const e=o.a.TOOLBOX;let t=this.tokens.get(e);if(t||(n("aLZP"),t=this.tokens.get(e)),!t)throw new Error(`Metric token "${e}" is not registered`);this._toolboxRenderer=new t,this.tokens.delete(e)}return this._toolboxRenderer}static get ToolboxMain(){if(!this._toolboxMain){const e=o.a.TOOLBOX;let t=this.tokens.get(e);if(t||(n("aLZP"),t=this.tokens.get(e)),!t)throw new Error(`Metric token "${e}" is not registered`);this._toolboxMain=new t,this.tokens.delete(e)}return this._toolboxMain}static get MainAppStateManager(){if(!this._appStateManager){const e=o.a.APP_STATE_MANAGER,t=this.tokens.get(e);t&&(this._appStateManager=new t,this.tokens.delete(e))}return this._appStateManager}static get AppStateManager(){if(!this._appStateManager){const e=o.a.APP_STATE_MANAGER,t=this.tokens.get(e);t&&(this._appStateManager=new t,this.tokens.delete(e))}return this._appStateManager}static createLogger(e){return new a.a(e)}static get Logger(){return this._Logger||(this._Logger=this.createLogger("internal")),this._Logger}static install(){var e;this._installed||(this._installed=!0,this._exited=!1,this.canIUse()&&(this.startEpoch(),null===(e=this.ProcessLifecycleController)||void 0===e||e.ready(),this.SchemaManager.ready(),this.UsageMonitor.ready(),this.MetricManager.ready(),this.MetricResolver.ready(),this.LocalStat.ready(),this.UIManager.ready(),this.process!==s.a.Main&&this.MetricTransporter.ready()))}static isInstalled(){return!!this._installed}static startEpoch(){this._epoch||(this._epoch=Date.now(),this.DataManager.saveEpoch(this.process,this._epoch))}static get process(){return this._process||(this._process=this.getCurrentProcess()),this._process}static getCurrentProcess(){switch(__ZaBUNDLENAME__.toLowerCase()){case"main":return s.a.Main;case"web":default:return s.a.Unknown;case"render":return s.a.Render;case"login":return s.a.Login;case"photo":return s.a.Photo;case"shared-worker":return s.a.SharedWorker;case"znotification":return s.a.Notification}}static canIUse(){return!(!this._installed||this._exited)&&i.a.getConfig().processes_whitelist.includes(this.process)}static exit(){var e,t,n,i;(this._exited=!0,this._installed=!1,this.MetricManager.exit(),this.MetricResolver.exit(),this.MetricTransporter.exit(),this.UIManager.exit(),this.process===s.a.Main)?this._toolboxMain&&(null===(e=(t=this.ToolboxMain).exit)||void 0===e||e.call(t)):this._toolboxRenderer&&(null===(n=(i=this.ToolboxRenderer).exit)||void 0===n||n.call(i))}}r._Logger=void 0,r._process=void 0,r._metricManager=void 0,r._schemaManager=void 0,r._metricFactory=void 0,r._metricTransporter=void 0,r._metricResolver=void 0,r._usageMonitor=void 0,r._appUsageMonitor=void 0,r._processMonitor=void 0,r._localStat=void 0,r._dataManager=void 0,r._uiManager=void 0,r._processLifecycleController=void 0,r._toolboxRenderer=void 0,r._toolboxMain=void 0,r._appStateManager=void 0,r.tokens=void 0,r._epoch=void 0,r._installed=void 0,r._exited=void 0,t.a=r},Na1p:function(e,t,n){"use strict";(function(e){var i=n("VTBJ"),o=n("ZgEe");const s=new class{constructor(){this.cpuTimer=void 0,this.cpuUsage=void 0,this.started=void 0,this.timer=void 0,this.usageHistory=void 0,this.listeners=void 0,this.config={PERIOD:3e3,HISTORY_SIZE:100},this.usageHistory=[],this.listeners=[]}start(t){var n;this.started||!this.started&&null!==(n=e)&&void 0!==n&&n.cpuUsage&&(this.started=!0,this.cpuTimer=new o.a,this.cpuUsage=e.cpuUsage(),t&&(this.config.PERIOD=t.period),this.timer=setTimeout((()=>{this.calcUsage()}),this.config.PERIOD))}stop(){this.started&&(clearTimeout(this.timer),this.started=!1)}onChange(e,t){this.listeners.length&&(this.listeners=this.listeners.filter((t=>t.id!==e))),this.listeners.push({id:e,callback:t})}removeListener(e){this.listeners.length&&(this.listeners=this.listeners.filter((t=>t.id!==e)))}calcUsage(){var t;const n=e.cpuUsage(),s=this.cpuTimer.us,a=(n.user-this.cpuUsage.user+(n.system-this.cpuUsage.system))/s*100,r=Object(i.a)(Object(i.a)({},n),{},{time:s,percent:a});this.cpuUsage=n,this.cpuTimer=new o.a,this.usageHistory.push({data:r,ts:Date.now()}),this.usageHistory.length>this.config.HISTORY_SIZE&&this.usageHistory.shift(),null!==(t=this.listeners)&&void 0!==t&&t.length&&this.listeners.forEach((e=>e.callback(r))),this.started&&(this.timer=setTimeout((()=>{this.calcUsage()}),this.config.PERIOD))}getUsage(){if(this.usageHistory.length)return this.usageHistory[this.usageHistory.length-1].data;if(!this.cpuTimer)throw new Error("CPU Monitor does not started");const t=e.cpuUsage(this.cpuUsage),n=this.cpuTimer.us,o=(t.system+t.user)/n*100;return Object(i.a)(Object(i.a)({},t),{},{time:n,percent:o})}};t.a=s}).call(this,n("8oxB"))},NbA8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("d74q");const o=e=>{i.a.Channel=class extends e{constructor(...e){super(...e)}}}},OKQc:function(e,t,n){},OMsT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("log-collector")},PJuT:function(e,t,n){"use strict";n.r(t);var i=n("0Kvb");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n("5Mf1");for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var a=n("yevd");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o)},PhBv:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("jDHv"),o=n("AH6j");n("PmZf");class s extends o.b{}const a=Object(i.define)("database-query-planner")},PmZf:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return m}));var i=n("AH6j");let o=function(e){return e.Close="close",e.SessionChange="session-change",e.MigrateProgress="migrate-progress",e.MigratePhaseChange="migrate-phase-change",e.MigrateDone="migrate-done",e.TimeConsumingQuery="time-consuming-query",e.SuccessOpenDB="success-open-db",e.ConnectionClosedAbnormally="connection-close-abnormally",e.TransactionEnd="transaction-end",e.QueryExec="query-exe",e.QueryError="query-error",e.UnexpectedError="unexpected-error",e}({});i.a;class s extends i.a{constructor(e){super(o.SessionChange),this.session=e}}i.a;i.a;i.a;i.a;class a extends i.a{constructor(e){super(o.QueryExec),this.data=e}}class r extends i.a{constructor(e){super(o.QueryError),this.error=e}}class d extends i.a{constructor(e){super(o.UnexpectedError),this.error=e}}class c extends i.a{constructor(e,t){super(o.TimeConsumingQuery),this.logInfo=e,this.totalTime=t}}class l extends i.a{constructor(e){super(o.SuccessOpenDB),this.data=e}}class m extends i.a{constructor(e){super(o.ConnectionClosedAbnormally),this.database=e}}},R4gY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return c}));var i=n("dFSO");const o={enable_for_staging_account:!0,count_total_msgs:!0,sqlite_supported:!1,measure_indexeddb_size:!1,measure_sqlite_size:!1,measure_localstorage_size:!1,measure_localstorage_physical_files_size:!1,interval_time_measure_total_msgs:6048e5,interval_time_measure_db_size:6048e5},s="mz_storage",a="msgsize",r="lssize",d=async e=>{try{const t=n("fsN4").default.getInstance(),i=await t.Core.Message.count();if(null!=i&&i>0){const t=i<=5e4?1:i<=1e5?2:i<=5e5?3:i<=1e6?4:i<=2e6?5:i>2e6?6:0;t&&(null==e||e({success:!1,cmdId:99808,subCmdId:0,errorCode:t,params:[i],duration:i,startTime:Date.now()}))}return i}catch(t){throw t}},c=(e,t)=>{if(e){const n=99811,o=e<=Object(i.a)("2.5MB")?1:e<=Object(i.a)("5MB")?2:e<=Object(i.a)("8MB")?3:e<=Object(i.a)("10MB")?4:e>Object(i.a)("10MB")?5:0;o&&(null==t||t({success:!1,cmdId:n,subCmdId:0,errorCode:o,params:[e],duration:e,startTime:Date.now()}))}}},Ro2z:function(e,t,n){},SWKE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("jDHv"),o=n("Mgpg"),s=n("fsN4");class a{constructor(){this.logger=void 0;const e=i.ModuleContainer.resolve(o.ZLoggerFactory);this.logger=e.createZLogger("localstorage",["cleaner"])}static getInstance(){return this.instance||(this.instance=new a),this.instance}cleanupLocalStorageMatchConditions(e=e=>!1){const t=Object.keys(window.localStorage);for(const n of t)e(n)&&window.localStorage.removeItem(n)}cleanupKeysOfLocalStorage(e=[]){for(const t of e)window.localStorage.removeItem(t)}clearLocalStorage(){window.localStorage.clear()}async cleanupAsyncLocalStorageMatchConditions(e=e=>!1){const t=s.default.getInstance(),n=[t.Storage.FriendBlocked,t.Storage.InfoCache,t.Storage.RetryCache,t.SecureLocalstorage.AsyncStore],i=[];for(const o of n){const t=await o.getAllKey();if(0===t.length)continue;if(Array.isArray(t[0])){this.logger.zsymb(9,"R51W5r",['"{}" store has array-typed keys; then can\'t be matched for cleaning up',"nexbhy"],o.name);continue}const n=[];for(const i of t)e(`${i}`)&&n.push(i);n.length&&i.push(o.deleteMulti(n))}i.length&&await Promise.all(i)}async clearAsyncLocalStorage(){const e=s.default.getInstance(),t=[e.Storage.FriendBlocked,e.Storage.InfoCache,e.Storage.RetryCache,e.SecureLocalstorage.AsyncStore];return Promise.all(t.map((e=>e.clear())))}}a.instance=null},TLBr:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("K+9E"),s=n("73sK"),a=n("CHYU"),r=n("N1xz");var d=class{constructor(e){this.messageChannel=void 0,this.transportDataHolder=void 0,this.sending=void 0,this.sendingTimeout=void 0,this.idleRequestId=void 0,this.lastSentDataManagerHash=void 0,this.rendererClientId=void 0,this.requestIdle=e=>{try{var t;if(r.a.process!==a.a.Main)if(window&&"function"==typeof(null===(t=window)||void 0===t?void 0:t.requestIdleCallback))return window.requestIdleCallback(e)}catch(n){}return setTimeout((()=>{e()}),1)},this.cancelRequestIdle=()=>{try{var e;if(r.a.process!==a.a.Main)if("number"==typeof this.idleRequestId)return window&&"function"==typeof(null===(e=window)||void 0===e?void 0:e.requestIdleCallback)&&window.cancelIdleCallback(this.idleRequestId),void(this.idleRequestId=void 0)}catch(t){}clearTimeout(this.idleRequestId)},this.messageChannel=e,this.transportDataHolder={},this.sending=!1}send(e,t,n,o){var s;if(!this.messageChannel)return;let a=n,r=e;if(null!=(null==o?void 0:o.fromClientId)&&(r+=`_${o.fromClientId}`),null!=(null==o?void 0:o.toClientId)&&(r+=`_${o.toClientId}`),Array.isArray(n)){var d,c;let e=[];const i=null===(d=this.transportDataHolder[r])||void 0===d||null===(c=d.data)||void 0===c?void 0:c[t];Array.isArray(i)&&null!=i&&i.length&&(e=[...i,...n],a=e)}else if("object"==typeof n){var l,m;const e=null===(l=this.transportDataHolder[r])||void 0===l||null===(m=l.data)||void 0===m?void 0:m[t];e&&(a=Object(i.a)(Object(i.a)({},e||{}),a))}const u={action:e,data:Object(i.a)(Object(i.a)({},(null===(s=this.transportDataHolder[r])||void 0===s?void 0:s.data)||{}),{},{[t]:a}),fromClientId:null==o?void 0:o.fromClientId,toClientId:null==o?void 0:o.toClientId};this.transportDataHolder[r]=u,this.startSend(null==o?void 0:o.immediate)}sendToRenderer(e,t,n,o){return this.send(e,t,n,o?Object(i.a)(Object(i.a)({},o),{},{toClientId:this.rendererClientId}):void 0)}saveRendererClientId(e){this.rendererClientId=e}exit(){this.sending&&(clearTimeout(this.sendingTimeout),this.cancelRequestIdle())}startSend(e){if(this.sending)return;this.sending=!0,clearTimeout(this.sendingTimeout),this.cancelRequestIdle();const t=()=>{if(this.messageChannel){const e=this.transportDataHolder;this.transportDataHolder={};const t=this.getExtraTransferInfo();let n=!!t;const i=[];Object.values(e).forEach((e=>{const o={action:e.action,data:e.data,fromClientId:null==e?void 0:e.fromClientId,toClientId:null==e?void 0:e.toClientId};n&&"object"==typeof o.data&&(o.data.extraInfo=t,n=!1),i.push(o)})),i.length&&this.messageChannel.send(i)}this.sending=!1};if(e)return t();this.sendingTimeout=setTimeout((()=>{this.idleRequestId=this.requestIdle((()=>{t()}))}),3e3)}getExtraTransferInfo(){if(this.lastSentDataManagerHash!==r.a.DataManager.getHashCode()){this.lastSentDataManagerHash=r.a.DataManager.getHashCode();const e=r.a.DataManager.getCurrentProcessData();return{processData:r.a.DataManager.freezeProcessData(e)}}}},c=n("KBA3");let l=function(e){return e.SEND="SEND",e.INVOKE="INVOKE",e}({});class m{constructor(e){this.reqId=void 0,this.type=void 0,this.func=void 0,this.args=void 0,this.toProcess=void 0,this.reqId=e.reqId,this.func=e.func,this.args=e.args||[],this.type=e.type||l.SEND;let t=e.toProcess;r.a.process===t&&(t=void 0),t||(t=r.a.process===a.a.Main?a.a.Render:a.a.Main),this.toProcess=t}get toClientId(){if(r.a.process===a.a.Main){const e=r.a.MetricTransporter.getClients().find((e=>e.name===this.toProcess));if(e)return e.id}}getKey(){return`${this.reqId}_${this.type}_${this.func}`}serialize(){return{reqId:this.reqId,type:this.type,func:this.func,args:this.args}}static deserialize(e){return null!=(null==e?void 0:e.reqId)&&null!=e&&e.func&&null!=e&&e.type?new this({reqId:e.reqId,func:e.func,type:e.type,args:null==e?void 0:e.args}):null}}class u{constructor(e){this.key=void 0,this.data=void 0,this.toClientId=void 0,this.error=void 0,this.key=e.key,this.data=e.data,this.error=e.error,this.toClientId=e.toClientId}getError(){if(this.error){let e=new Error(this.error.message);return this.error.name&&(e.name=this.error.name),this.error.stack&&(e.stack=this.error.stack),e}}serialize(){return{key:this.key,data:this.data,error:this.error}}static deserialize(e){return null==(null==e?void 0:e.key)?null:new this({key:e.key,data:null==e?void 0:e.data,error:null==e?void 0:e.error})}}var p=class{constructor(){this.messageChannel=void 0,this.sender=void 0,this.onMessage=e=>{e.forEach((e=>{if(r.a.process===a.a.Main){var t;const{fromClientId:b,action:y,data:I}=e;var n;if(this.onReceiveProcessEventData(null==I||null===(t=I.extraInfo)||void 0===t?void 0:t.processData),y===s.a.TRANSMIT_RECORDS){if(null!=I&&null!==(n=I.records)&&void 0!==n&&n.length){const e=[];I.records.forEach((t=>{const n=this.hydrateMetricRecord(t);n&&e.push(n)}));const t=r.a.MetricManager.onReceivePartialRecords(e);if(t.length){const e=this.messageChannel.getClients().filter((e=>e.id!==b));if(e.length)for(const n of e){var i;null===(i=this.sender)||void 0===i||i.send(s.a.TRANSMIT_RECORDS,"records",t,{fromClientId:b,toClientId:n.id})}}}}else if(y===s.a.REGISTER){var o,d;if((null==I?void 0:I.processName)!==a.a.Render)null===(o=this.sender)||void 0===o||o.send(s.a.TRANSMIT_CONFIG,"config",c.a.getConfig(),{toClientId:b});else null!=b&&(null===(d=this.sender)||void 0===d||d.saveRendererClientId(b))}else if(y===s.a.TRANSMIT_ALL){var l;null!=I&&null!==(l=I.records)&&void 0!==l&&l.length&&I.records.forEach((e=>{const t=this.hydrateMetricRecord(e);t&&r.a.LocalStat.record(t)}))}else if(y===s.a.SEND_STATS)try{const e=I.processStats;e&&r.a.UsageMonitor.onReceiveProcessStats(e)}catch(P){}else if(y===s.a.TRANSMIT_EVENTS)this.onReceiveProcessEventData(I.processData);else if(y===s.a.TRANSMIT_CONFIG){(null==I?void 0:I.config)&&c.a.mergeSetting(I.config);const e=this.messageChannel.getClients().filter((e=>e.id!==b));if(e.length)for(const t of e){var p;null===(p=this.sender)||void 0===p||p.send(s.a.TRANSMIT_CONFIG,"config",c.a.getConfig(),{toClientId:t.id})}}else if(y===s.a.TRANSMIT_CONFIG_FROM_SERVERINFO)(null==I?void 0:I.config)&&c.a.mergeSettingFromServerInfo(I.config);else if(y===s.a.TRANSMIT_FPS)null!=I&&I.fps&&r.a.LocalStat.recordFps(I.fps);else if(y===s.a.TRANSMIT_FPS_SECTION)null!=I&&I.fps&&r.a.LocalStat.recordFpsSection(I.fps);else if(y===s.a.REQUEST_RUN){var g,f,h;if(null!=I&&I.reqRun)null===(g=r.a.ToolboxMain.getDebugger())||void 0===g||g.handleRequestRun(null===(f=I.reqRun)||void 0===f?void 0:f.func,...(null===(h=I.reqRun)||void 0===h?void 0:h.args)||[]).then((e=>{var t,n,i;null===(t=this.sender)||void 0===t||t.send(s.a.REQUEST_RUN,"resRun",{response:e,func:null===(n=I.reqRun)||void 0===n?void 0:n.func,args:(null===(i=I.reqRun)||void 0===i?void 0:i.args)||[]},{immediate:!0,toClientId:b})}))}else if(y===s.a.REQUEST_FROM_MESSENGER){const e=m.deserialize(null==I?void 0:I.data);e&&r.a.MetricTransporter.Messenger.handleRequest(e,b)}else if(y===s.a.RESPONSE_FROM_MESSENGER){const e=u.deserialize(null==I?void 0:I.data);e&&r.a.MetricTransporter.Messenger.handleResponse(e)}}else{const{action:t,data:n}=e;var b;if(t===s.a.TRANSMIT_RECORDS)null!=n&&null!==(b=n.records)&&void 0!==b&&b.length&&r.a.MetricManager.onReceivePartialRecords(n.records);else if(t===s.a.TRANSMIT_CONFIG)(null==n?void 0:n.config)&&r.a.process!==a.a.Render&&c.a.mergeSetting(n.config);else if(t===s.a.REQUEST_RUN){var y,I,v,M;if(null!=n&&n.resRun)null===(y=r.a.ToolboxRenderer.getDebugger())||void 0===y||y.handleResponseRequestRun(null===(I=n.resRun)||void 0===I?void 0:I.response,null===(v=n.resRun)||void 0===v?void 0:v.func,null===(M=n.resRun)||void 0===M?void 0:M.args)}else if(t===s.a.REQUEST_FROM_MESSENGER){const e=m.deserialize(null==n?void 0:n.data);e&&r.a.MetricTransporter.Messenger.handleRequest(e)}else if(t===s.a.RESPONSE_FROM_MESSENGER){const e=u.deserialize(null==n?void 0:n.data);e&&r.a.MetricTransporter.Messenger.handleResponse(e)}}}))}}listen(e){var t;this.messageChannel=e,null===(t=this.messageChannel)||void 0===t||t.onMessage(this.onMessage)}bindSender(e){this.sender=e}onReceiveProcessEventData(e){if(e){const t=r.a.DataManager.hydrateProcessData(e);t&&r.a.DataManager.mergeProcessData(t)}}hydrateMetricRecord(e){try{return r.a.MetricFactory.clone(e)}catch(t){}}};class g{constructor(){this.requestId=void 0,this.registeredHandlers=void 0,this.invokedRequestHolder=void 0,this.requestId=0,this.registeredHandlers={},this.invokedRequestHolder=new Map}getNextRequestId(){return++this.requestId}registerHandler(e,t){this.registeredHandlers[e]=t}send(e,t,n){if(n&&r.a.process===a.a.Main){if(!r.a.MetricTransporter.getClients().find((e=>e.name===n))){const e=new Error(`Process not found: ${n}`);throw e.name="MetriczMessengerError",e}}const i=new m({reqId:this.getNextRequestId(),func:e,args:t,toProcess:n,type:l.SEND});r.a.MetricTransporter.requestFromMessenger(i)}async invoke(e,t,n){if(n&&r.a.process===a.a.Main){if(!r.a.MetricTransporter.getClients().find((e=>e.name===n))){const e=new Error(`Process not found: ${n}`);throw e.name="MetriczMessengerError",e}}const i=new m({reqId:this.getNextRequestId(),func:e,args:t,toProcess:n,type:l.INVOKE}),o={};return o.promise=new Promise(((e,t)=>{o.resolve=e,o.reject=t})),this.invokedRequestHolder.set(i.getKey(),o),r.a.MetricTransporter.requestFromMessenger(i),o.promise}handleRequest(e,t){const n=(n,i)=>{if(e.type===l.INVOKE){const o=new u({key:e.getKey(),data:n,error:i,toClientId:t});r.a.MetricTransporter.responseFromMessenger(o)}},i=this.registeredHandlers[e.func];if(!i){const t=new Error(`Cannot find handler for request ${e.func}`);return void n(null,{message:t.message,name:t.name})}const o=i(...e.args);o instanceof Promise?o.then((e=>{n(e)})).catch((e=>{var t;n(null,{message:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:e,name:null==e?void 0:e.name,stack:null==e?void 0:e.stack})})):n(o)}handleResponse(e){const t=this.invokedRequestHolder.get(e.key);if(t){const n=e.getError();n?t.reject(n):t.resolve(e.data),this.invokedRequestHolder.delete(e.key)}}}r.a.register(o.a.METRIC_TRANSPORTER,class{constructor(){this.messageChannel=void 0,this.isReady=!1,this.registered=void 0,this._sender=void 0,this._receiver=void 0,this._logger=void 0,this._messenger=void 0}get Logger(){return this._logger||(this._logger=r.a.createLogger("transporter")),this._logger}createMessageChannel(){if(this.messageChannel)return;let e;try{if(r.a.process===a.a.Main){e=new(0,n("vFV3").default)}else{e=new(0,n("EyGt").default)}}catch(t){}e&&(this.messageChannel=e),this.receiver.listen(this.messageChannel)}get sender(){return this._sender||(this._sender=new d(this.messageChannel)),this._sender}get receiver(){return this._receiver||(this._receiver=new p),this._receiver.bindSender(this.sender),this._receiver}ready(){this.isReady||(this.isReady=!0,this.createMessageChannel(),this.checkConnection())}onMainReady(){this.createMessageChannel()}transmit(e){if(r.a.process!==a.a.Main){const t=[this.freezeMetricRecord(e)];this.sender.send(s.a.TRANSMIT_RECORDS,"records",t)}}checkConnection(){this.registered||r.a.process===a.a.Main||this.registered||(this.registered=!0,this.sender.send(s.a.REGISTER,"processName",r.a.process,{immediate:!0}))}transmitProcessStats(e){r.a.process!==a.a.Main&&this.sender.send(s.a.SEND_STATS,"processStats",e)}transmitRecords(e){if(r.a.process!==a.a.Main){const t=e.map((e=>this.freezeMetricRecord(e)));this.sender.send(s.a.TRANSMIT_ALL,"records",t)}}transmitEvents(){this.sender.send(s.a.TRANSMIT_EVENTS,"extraInfo",{},{immediate:!0})}transmitConfig(e){this.sender.send(null!=e&&e.fromServerInfo?s.a.TRANSMIT_CONFIG_FROM_SERVERINFO:s.a.TRANSMIT_CONFIG,"config",c.a.getConfig(),{immediate:!0})}transmitFps(e,t,n){this.sender.send(s.a.TRANSMIT_FPS,"fps",Object(i.a)({processName:r.a.process,recordAt:t,usageTime:n},e))}transmitFpsSection(e,t){this.sender.send(s.a.TRANSMIT_FPS_SECTION,"fps",Object(i.a)({processName:r.a.process,taskKey:t},e))}requestFromMessenger(e){this.sender.send(s.a.REQUEST_FROM_MESSENGER,"data",e.serialize(),{immediate:!0,toClientId:e.toClientId})}responseFromMessenger(e){this.sender.send(s.a.RESPONSE_FROM_MESSENGER,"data",e.serialize(),{immediate:!0,toClientId:e.toClientId})}requestRun(e,...t){this.sender.send(s.a.REQUEST_RUN,"reqRun",{func:e,args:t},{immediate:!0})}postDataToRenderer(e,t,...n){this.sender.sendToRenderer(s.a.REQUEST_RUN,"resRun",{response:e,func:t,args:n||[]},{immediate:!0})}exit(){this.sender.exit()}freezeMetricRecord(e){return JSON.parse(JSON.stringify(Object(i.a)(Object(i.a)({},e),{},{info:JSON.stringify(e.info)})))}pushMessageMain(e,t){var n,i;r.a.process===a.a.Main&&(null===(n=this.messageChannel)||void 0===n||null===(i=n.pushMessage)||void 0===i||i.call(n,e,t))}getClients(){return r.a.process===a.a.Main?this.messageChannel.getClients():[]}get Messenger(){return this._messenger||(this._messenger=new g),this._messenger}});const f=e=>e?e-r.a.EPOCH:Date.now()-r.a.EPOCH,h=e=>{let t=0;if(e.trim())for(let i=0;i<e.length;i++)t=31*t+e.charCodeAt(i),t=(n=t)>2147483647||n<-2147483648?4294967295&n:n;var n;return t};var b=n("fbdB");var y=class{constructor(e){this.epoch=void 0,this.processName=void 0,this.events=void 0,this.processName=e,this.events=[]}getName(){return this.processName}add(e,t){this.events.some((n=>n.name===e&&n.time===t))||this.events.push({name:e,time:t})}saveEpoch(e){this.epoch||(this.epoch=e),this.add(b.b.bootstrap,e)}getEpoch(){return this.epoch}get(e){return this.events.filter((t=>t.name===e))[0]}getAll(){return this.events}merge(e){const t=e.getEpoch();t&&this.saveEpoch(t),e.getAll().forEach((e=>{this.add(e.name,e.time)})),this.events=this.events.sort(((e,t)=>e.time-t.time))}hashCode(){return h(`${this.epoch}`)^h(this.processName)^h(JSON.stringify(this.events))}cleanUp(){this.events=[]}};r.a.register(o.a.DATA_MANAGER,class{get Logger(){return this._logger||(this._logger=r.a.createLogger("data-manager")),this._logger}constructor(){this.process=void 0,this.processEvents={},this._logger=void 0,this._lastTsEventSignal=void 0,this.process=new y(r.a.process),c.a.onDisable((()=>this.cleanUp))}cleanUp(){this.processEvents={},this.process.cleanUp()}getProcess(e){return e&&e!==r.a.process?(this.processEvents[e]||(this.processEvents[e]=new y(e)),this.processEvents[e]):this.process}saveEvent(e,t){var n;this.getProcess().add(e,t),null===(n=r.a.ProcessLifecycleController)||void 0===n||n.on(e,t)}getEvent(e){return this.getProcess().get(e)}saveEpoch(e,t){this.getProcess(e).saveEpoch(t)}getEpoch(e){return this.getProcess(e).getEpoch()}getCurrentProcessData(){return this.process}getOtherProcessData(){return Object.values(this.processEvents)}mergeProcessData(e){if(this.getProcess(e.getName()).merge(e),r.a.ProcessLifecycleController){const t=e.getAll().filter((e=>e.time>(this._lastTsEventSignal||0)));t.forEach((({name:e,time:t})=>{var n;null===(n=r.a.ProcessLifecycleController)||void 0===n||n.on(e,t)})),this._lastTsEventSignal=Math.max(...t.map((e=>e.time)))}}freezeProcessData(e){return{epoch:e.getEpoch(),processName:e.getName(),events:e.getAll()}}hydrateProcessData(e){try{if(e.processName){var t;const n=new y(e.processName);return e.epoch&&!isNaN(Number(e.epoch))&&n.saveEpoch(Number(e.epoch)),null!==(t=e.events)&&void 0!==t&&t.length&&e.events.forEach((e=>{e.name&&!isNaN(Number(e.time))&&n.add(e.name,Number(e.time))})),n}}catch(i){var n;null===(n=this.Logger)||void 0===n||n.zsymb(23,"_zUr9b",["Fail on hydrate process data. ERR {}","J8ljv_"],String(i))}}getHashCode(){const e=this.process.hashCode();let t=0;return Object.values(this.processEvents).forEach((e=>t+=e.hashCode())),e+t}});var I=class{constructor(e){this.record=void 0,this.record=e}end(e){if(!this.record||this.record.isDone)return;const t=Date.now();return r.a.MetricManager.endRecord(this.record,t,e)}pushInfo(e){this.record&&!this.record.isDone&&this.record.pushInfo(e)}revoke(){this.record&&!this.record.isDone&&r.a.MetricManager.cancelRecord(this.record)}};var v=class{constructor(){this.startingProcess=void 0,this.startingProcess=new Map}findStartingProcess(e){return this.startingProcess.get(e)}saveStartingProcess(e,t){if(!this.startingProcess.has(e)){if(this.startingProcess.size>=c.a.getConfig().max_starting_process_dictionary){const[e]=Array.from(this.startingProcess.keys());this.startingProcess.delete(e)}return this.startingProcess.set(e,t)}}cleanUp(){this.startingProcess=new Map}};const M=new Set([b.d.start_up_time]),P=new Set([b.d.start_up_time]),w=new Set([b.d.start_up_time,b.d.open_conversation,b.d.app_ram_usage,b.d.e2ee_session_record_data_size,b.d.open_conversation_no_preload,b.d.load_bottom_msg_from_db,b.d.load_top_msg_from_db,b.d.load_jump_msg_from_db,b.d.load_conversation_list]);var _=n("MNz0"),T=n("h+6H");class S{constructor(){this._items=void 0,this._running=void 0,this._items=[],this._running=!1}enqueue(e){return new Promise(((t,n)=>{this._items.push({task:e,resolve:t,reject:n}),setTimeout((()=>{this.execute()}),0)}))}async execute(){if(this._running)return!1;let e=this._items.shift();if(!e)return!1;try{this._running=!0;const t=await e.task();this._running=!1,e.resolve(t)}catch(t){this._running=!1,e.reject(t)}finally{this.execute()}return!0}}var C=n("dFSO");r.a.register(o.a.METRIC_MANAGER,class{constructor(){this._records=void 0,this._logger=void 0,this._history=void 0,this._autoQueue=void 0,this._oneTimeMetrics=void 0}get Logger(){return this._logger||(this._logger=r.a.createLogger("manager")),this._logger}get AutoQueue(){return this._autoQueue||(this._autoQueue=new S),this._autoQueue}get records(){return this._records||(this._records={}),{set:e=>{const t=e.key;this._records[t]||(this._records[t]=[]),this._records[t].push(e)},get:(e,t,n)=>{const i=r.a.MetricFactory.getKey(e,t),o=this._records[i];return null!=o&&o.length&&n?o.find(n):null==o?void 0:o[0]},delete:e=>{const t=e.key;if(this._records[t]){const n=this._records[t].findIndex((t=>t==e));n>-1&&this._records[t].splice(n,1),0===this._records[t].length&&delete this._records[t]}},deleteByName:e=>{Object.keys(this._records).forEach((t=>{t.startsWith(e)&&delete this._records[t]}))}}}get OneTimeMetrics(){return{setStart:e=>{this._oneTimeMetrics||(this._oneTimeMetrics=new Set);const t=`${e}_start`;this._oneTimeMetrics.add(t)},hasStart:e=>{var t;const n=`${e}_start`;return!(null===(t=this._oneTimeMetrics)||void 0===t||!t.has(n))},setEnd:e=>{this._oneTimeMetrics||(this._oneTimeMetrics=new Set);const t=`${e}_end`;this._oneTimeMetrics.add(t)},hasEnd:e=>{var t;const n=`${e}_end`;return!(null===(t=this._oneTimeMetrics)||void 0===t||!t.has(n))}}}get history(){return this._history||(this._history=new v),this._history}ready(){c.a.onConfigChange((e=>{r.a.process===a.a.Render&&(null!=e&&e.fromServerInfo&&this.recordEvent(b.b.app_receive_server_config),r.a.MetricTransporter.transmitConfig(e))}))}cleanUp(){this._records={},this._oneTimeMetrics=new Set}exit(){r.a.process===a.a.Main&&(r.a.UsageMonitor.exit(),r.a.LocalStat.export(!0))}recordEvent(e){var t;if(!r.a.isInstalled()||!r.a.canIUse())return;const n=Date.now();r.a.DataManager.saveEvent(e,n),e===b.b.main_ready&&r.a.process===a.a.Main&&r.a.MetricTransporter.onMainReady(),e===b.b.main_window_finish_load&&r.a.process===a.a.Main&&r.a.UsageMonitor.onMainFinishLoad();const i=c.a.getConfig().enable_write_log||!1,o=null===(t=c.a.getConfig().toolbox)||void 0===t?void 0:t.enable_process_lifecycle;r.a.process!==a.a.Main&&(i||o)&&r.a.MetricResolver.resolveEvent(e,n)}recordBinarySize(e,t,n,i){if(!r.a.canIUse()||this.OneTimeMetrics.hasStart(e))return;const o=r.a.SchemaManager.loadSchema(e);if(o.disabled)return;this.handleOneTimeMetric(e,!0);const s=r.a.MetricFactory.create(e,n,o);s.setStartAt(Date.now()),this.processStackTrace(s),this.AutoQueue.enqueue((async()=>{const n=Object(T.a)(t),o={dataSize:n,readableDataSize:Object(C.d)(n)};s.setData(o),s.setDuration(n),s.pushInfo(o),i&&s.pushInfo(i),s.evaluate(),this.processStackTrace(s,!0),s.resolve(),r.a.MetricResolver.resolve(s),this.handleOneTimeMetric(e,!1)}))}handleOneTimeMetric(e,t){M.has(e)&&(t?this.OneTimeMetrics.setStart(e):this.OneTimeMetrics.setEnd(e))}start(e,t){if(!r.a.canIUse()||this.OneTimeMetrics.hasStart(e))return this.createSection();const n=Date.now(),i=r.a.SchemaManager.loadSchema(e);if(i.disabled)return this.createSection();i.mode===_.a.ACCEPT_LAST&&this.records.deleteByName(e),this.handleOneTimeMetric(e,!0);const o=r.a.MetricFactory.create(e,t,i);return o.setStartAt(n),this.processStackTrace(o),this.records.set(o),this.createSection(o)}end(e,t,n){if(!r.a.canIUse()||this.OneTimeMetrics.hasEnd(e))return;const i=Date.now(),o=r.a.SchemaManager.loadSchema(e);if(o.disabled)return;this.handleOneTimeMetric(e,!1);let s=this.records.get(e,t,(e=>!!(e.startAt&&e.startAt<=i)));if(!s&&this.isFromCurrentEpoch(e)&&(s=this.createPartialFromCurrentEpoch(e,t)),s)this.endRecord(s,i,n);else{if(this.isFromCurrentProcess(e))return;const s=r.a.MetricFactory.create(e,t,o,!0);s.setEndAt(i),s.pushInfo(n),s.evaluate(),r.a.MetricTransporter.transmit(s)}}cancel(e,t){if(!r.a.canIUse()||this.OneTimeMetrics.hasEnd(e))return;this.handleOneTimeMetric(e,!1);const n=Date.now();let i=this.records.get(e,t,(e=>!!(e.startAt&&e.startAt<=n)));if(!i&&this.isFromCurrentEpoch(e)&&(i=this.createPartialFromCurrentEpoch(e,t)),i)this.records.delete(i),this.Logger.zsymb(3,"rVKkH4",["cancelled metric {}; at {}","n9m73x"],e,n);else{const n=r.a.MetricFactory.create(e,t,void 0,!0);n.cancel(),r.a.MetricTransporter.transmit(n)}}endRecord(e,t,n){if(!e.isDone)return null!=n&&e.pushInfo(n),e.setEndAt(t),e.evaluate(),this.processStackTrace(e,!0),this.resolve(e),{startAt:e.startAt,endAt:e.endAt,duration:e.duration,durationText:e.durationText,usageTime:e.usageTime,info:e.info}}cancelRecord(e){this.records.delete(e)}createSection(e){return new I(e)}resolve(e){this.records.delete(e),r.a.MetricResolver.resolve(e,!0)}onReceivePartialRecords(e){var t;const n=[];return e.forEach((e=>{if(this.OneTimeMetrics.hasStart(e.name))return;let t=this.records.get(e.name,e.key,(t=>!!(e.type===t.type&&t.startAt&&e.endAt&&t.startAt<=e.endAt)));if(!t&&this.isFromCurrentProcess(e.name)&&(t=this.createPartialFromCurrentEpoch(e.name,e.key)),t){if(!t.isDone){if(e.isCancelled)return void this.cancel(e.name,e.key);this.handleOneTimeMetric(e.name,!1),t.evaluate(e),this.processStackTrace(t,!0),this.resolve(t)}}else n.push(e)})),n.length&&(null===(t=this.Logger)||void 0===t||t.zsymb(11,"3rW5qI",["[WARN] receive unknownRecords: {}","S0CKQR"],n)),n}isFromCurrentEpoch(e,t){let n=t;return n||(n=r.a.SchemaManager.loadSchema(e)),!!n.startFromEpoch&&(Array.isArray(n.fromProcess)?n.fromProcess.some((e=>e===r.a.process)):!n.fromProcess||n.fromProcess===r.a.process)}isFromCurrentProcess(e,t){var n;let i=t;return i||(i=r.a.SchemaManager.loadSchema(e)),null===(n=i)||void 0===n||!n.fromProcess||(Array.isArray(i.fromProcess)?i.fromProcess.some((e=>e===r.a.process)):i.fromProcess===r.a.process)}createPartialFromCurrentEpoch(e,t){this.handleOneTimeMetric(e,!0);const n=r.a.SchemaManager.loadSchema(e),i=r.a.MetricFactory.create(e,t,n);return i.setStartAt(r.a.EPOCH),this.records.set(i),i}processStackTrace(e,t){}});var q=n("rFEu"),R=n("AoYG");r.a.register(o.a.METRIC_SCHEMA_MANAGER,class{constructor(){this.metricSchemas=void 0,this._customMetrics=void 0,this.isReady=void 0}get customMetrics(){return this._customMetrics||(this._customMetrics=new Map),this._customMetrics}ready(){if(this.isReady)return;this.metricSchemas=new Map;n("K6Wi").default.getSchemas().forEach((e=>{e.getMetrics().forEach((e=>{this.metricSchemas.set(e.name,e)}))})),this.isReady=!0,c.a.onDisable((()=>this.cleanUp))}cleanUp(){this.metricSchemas.clear(),this._customMetrics&&this._customMetrics.clear()}loadSchema(e){this.isReady||this.ready();const t=this.metricSchemas.get(e);if(t)return t;return Object(q.c)(e)}getMemoryUsageSchemas(){this.isReady||this.ready();let e=[];return this.metricSchemas.forEach((t=>{t.type===R.a.MEMORY&&e.push(t)})),e}getCPUUsageSchemas(){this.isReady||this.ready();let e=[];return this.metricSchemas.forEach((t=>{t.type===R.a.CPU&&e.push(t)})),e}hasUsageSchemas(){return!!this.getMemoryUsageSchemas().length||!!this.getCPUUsageSchemas().length}});class D{constructor(e){this.schema=void 0,this.id=void 0,this.name=void 0,this.key=void 0,this.type=void 0,this.startAt=void 0,this.endAt=void 0,this.stackTrace=void 0,this.duration=void 0,this.durationText=void 0,this.version=void 0,this.isDone=void 0,this.info=void 0,this.usageTime=void 0,this.usageTimeText=void 0,this.data=void 0,this.isCancelled=void 0,this.id=e.id,this.name=e.name,this.key=e.key,this.type=e.type||R.a.TIME,this.schema=e.metricSchema,this.version=e.version||D.DEFAULT_VERSION}setStartAt(e){this.startAt=e}setEndAt(e){this.endAt=e}setDuration(e){this.duration=e}addStackTrace(e){this.stackTrace=[...this.stackTrace||[],...e]}deleteStackTrace(){this.stackTrace=void 0}exposeInfo(){var e;return null!==(e=this.data)&&void 0!==e?e:null}setData(e,...t){this.data=e}resolve(){this.isDone=!0}getSchema(){return this.schema}pushInfo(e){this.info||(this.info=[]),this.info.push(e)}evaluate(e){this.isDone||(e&&e.endAt&&(this.endAt=e.endAt),this.startAt&&this.endAt&&(this.duration=this.endAt-this.startAt),this.duration&&this.type===R.a.TIME&&(this.durationText=Object(C.e)(this.duration)),this.endAt&&(this.usageTime=f(this.endAt),this.usageTime&&(this.usageTimeText=Object(C.e)(this.usageTime))))}clone(e){null!=e.startAt&&(this.startAt=Number(e.startAt)),null!=e.endAt&&(this.endAt=Number(e.endAt)),null!=e.duration&&(this.duration=Number(e.duration)),null!=e.data&&(this.data=e.data),this.durationText=e.durationText,this.isDone=!0===e.isDone,this.usageTime=e.usageTime,this.usageTimeText=e.usageTimeText,this.isCancelled=e.isCancelled;try{e.stackTrace&&(this.stackTrace=e.stackTrace),e.info&&(this.info=JSON.parse(e.info)||[])}catch(t){}}cancel(){this.isCancelled=!0}}D.DEFAULT_VERSION=1;var A=D;class N extends A{constructor(e){super(e),this.type=R.a.TIME,this.version=N.VERSION}evaluate(e){super.evaluate(e)}exposeInfo(){return{name:this.name,duration:this.duration,startAt:this.startAt,endAt:this.endAt}}resolve(){this.isDone||(this.info=[...this.info||[],{duration:this.duration,startAt:this.startAt,endAt:this.endAt}],super.resolve())}}N.VERSION=1;var E=N;class x extends A{constructor(e){super(e),this.usage=void 0,this.passedTime=void 0,this.type=R.a.USAGE,this.version=x.VERSION}evaluate(){super.evaluate()}exposeInfo(){return{usage:this.usage,passedTime:this.passedTime}}resolve(){super.resolve()}setData(e,t){this.usage=e,this.passedTime=t}}x.VERSION=1;var O=x;r.a.register(o.a.METRIC_FACTORY,class{constructor(){this.idCounter=void 0}generateId(){return null==this.idCounter&&(this.idCounter=0),this.idCounter++,this.idCounter}getKey(e,t){return e+(null!=t?`_${t}`:"")}create(e,t,n,i){let o;const s=(null==n?void 0:n.type)||R.a.TIME;return o=s===R.a.CPU||s===R.a.MEMORY?new O({id:this.generateId(),name:e,key:this.getKey(e,t),metricSchema:n}):s===R.a.TIME?new E({id:i?0:this.generateId(),name:e,key:this.getKey(e,t),metricSchema:n}):new A({id:i?0:this.generateId(),type:s,name:e,key:this.getKey(e,t),metricSchema:n}),o}clone(e){let t;const n=(null==e?void 0:e.type)||R.a.TIME,o={id:this.generateId(),type:n,name:e.name,key:e.key,version:e.version};return t=n===R.a.USAGE?new O(Object(i.a)({},o)):n===R.a.TIME?new E(Object(i.a)({},o)):new A(Object(i.a)({},o)),t.clone(e),t}});var B=class{constructor(){this.qosLogControl=void 0,this.reservedLogs=void 0,this.enabled=!0,this.tsMaxReserved=void 0,this.MAX_RESERVED_LOGS=1e3,this.MAX_TIMEOUT_DISABLE=Object(C.f)("5m")}register(e){this.qosLogControl=e}send(e){var t,n,o,s,d;if(this.qosLogControl)if(r.a.process===a.a.Main)if(null!==(t=this.qosLogControl)&&void 0!==t&&t._readyQos&&null!==(n=this.qosLogControl)&&void 0!==n&&null!==(o=n.config)&&void 0!==o&&o.enable){var c;this.handleReservedLogs();const t={};e.success||(t.errorCode=e.errorCode||0,t.startTime=e.startTime||Date.now()),null===(c=this.qosLogControl)||void 0===c||c.logQos(Object(i.a)({success:e.success,commandId:e.cmdId,subCommandId:e.subCmdId||0,duration:e.duration||0,params:e.params},t),!(null==e||!e.forceLog))}else this.reserve(e);else this.handleReservedLogs(),e.success?null===(s=this.qosLogControl)||void 0===s||s.increaseSuccess(e.cmdId,e.subCmdId||0,e.duration||0,e.params):null===(d=this.qosLogControl)||void 0===d||d.increaseFailed(e.cmdId,e.subCmdId||0,e.duration||0,e.errorCode||0,e.startTime||Date.now(),e.params);else this.reserve(e)}handleReservedLogs(){var e;if(null!==(e=this.reservedLogs)&&void 0!==e&&e.length){const e=this.reservedLogs;this.reservedLogs=[],e.forEach((e=>{this.send(e)}))}}reserve(e){this.reservedLogs&&this.reservedLogs.length>=this.MAX_RESERVED_LOGS&&(this.reservedLogs.shift(),this.tsMaxReserved?Date.now()-this.tsMaxReserved>=this.MAX_TIMEOUT_DISABLE&&(this.enabled=!1):this.tsMaxReserved=Date.now()),this.enabled&&(this.reservedLogs||(this.reservedLogs=[]),this.reservedLogs.push(e))}};var U=class{constructor(){this._qosSender=void 0,this._logger=void 0,this.pendingQosLogs=void 0,this.disabled=void 0,this.syncedServerConfig=void 0,this.MAX_LOGS_ROLL_OUT=1e3}get Logger(){return this._logger||(this._logger=r.a.createLogger("qos")),this._logger}get qosSender(){return this._qosSender||(this._qosSender=new B),this._qosSender}registerQosControl(e){this.qosSender.register(e)}onSyncedServerConfig(){var e;this.syncedServerConfig=!0;const t=c.a.getConfig().enable_submit_qos;c.a.getConfig().submit_qos_except_dev;var n;if(t||(this.disabled=!0),null===(e=this.Logger)||void 0===e||e.zsymb(3,"6q97wN",["metrics/qos-manager: {}","Xhan_Q"],this.disabled?"disabled!":"enabled"),this.disabled)this.pendingQosLogs=[];else if(null!==(n=this.pendingQosLogs)&&void 0!==n&&n.length){const e=[...this.pendingQosLogs];this.pendingQosLogs=[],e.forEach((e=>{this.logQos(e)}))}}async send(e,t){if(!t.qos||t.disabled||!e.isDone)return;const n={success:!0,cmdId:t.qos.cmdId,subCmdId:t.qos.subCmdId||0,duration:e.duration,startTime:e.startAt,params:[]};null!=t.qos.errCode&&(n.success=!1,n.errorCode=t.qos.errCode),this.logQos(n)}logQos(e){if(!this.disabled)if(this.syncedServerConfig)try{this.qosSender.send(e)}catch(n){var t;null===(t=this.Logger)||void 0===t||t.zsymb(20,"wMTRuU","metric logQos ERR: {}",n)}else this.pendingQosLogs||(this.pendingQosLogs=[]),this.pendingQosLogs.length>=this.MAX_LOGS_ROLL_OUT&&this.pendingQosLogs.shift(),this.pendingQosLogs.push(e)}async buildQoSParams(e){const t={},n=[...e.info||[]];if(n.length&&(t.info=n),e.stackTrace&&(t.stackTrace=e.stackTrace),e.key&&(t.key=e.key),Object.keys(t).length){return[await new Promise((e=>{setTimeout((()=>{e(JSON.stringify(t))}),0)}))]}return[]}},k=n("f1TF");r.a.register(o.a.METRIC_RESOLVER,class{get Logger(){return this._logger||(this._logger=r.a.createLogger("resolver")),this._logger}get qosManager(){return this._qosManager}constructor(){this._logger=void 0,this._qosManager=void 0,this.isReady=void 0,this.timerSendRecord=void 0,this.syncedServerConfig=void 0,this.pendingMetricRecords=void 0,this._qosManager=new U}ready(){this.isReady||(c.a.onConfigChange((e=>{var t;if((null==e||!e.fromServerInfo)&&(this.syncedServerConfig=!0,this.qosManager.onSyncedServerConfig(),null!==(t=this.pendingMetricRecords)&&void 0!==t&&t.length)){const e=[...this.pendingMetricRecords];this.pendingMetricRecords=[],e.forEach((e=>{this.analyze(e)}))}})),this.isReady=!0)}resolve(e){e.isDone||e.resolve(),this.processResolvedMetrics(e),this.syncedServerConfig?this.analyze(e):(this.pendingMetricRecords||(this.pendingMetricRecords=[]),this.pendingMetricRecords.push(e))}resolveEvent(e,t){r.a.MetricTransporter.transmitEvents()}exportAll(){}registerQosControl(e){this.qosManager.registerQosControl(e)}exit(){this.timerSendRecord&&clearTimeout(this.timerSendRecord)}analyze(e){var t;const n=e.getSchema();if(null==n||!n.statement)return;let i=c.a.enable;const o=null===(t=n.config)||void 0===t?void 0:t.getDefaultValue();if(null!=o){i=!!o;const t=c.a.getConfig().config||{};null!=t[e.name]&&(i=t[e.name])}const s=c.a.getConfig().staging_account,a=c.a.getConfig().enable_for_staging_account;if(s&&a&&(i=!0),!i)return;n.statement.getAll().forEach((t=>{this.scanStatement(t,e).catch((t=>{this.Logger.zsymb(21,"ezaPMl",["metrics/resolver: analyze {} fail; err {}","AyRlnZ"],e.key,Object(k.b)(t))}))}))}async scanStatement(e,t){let n;const i=async e=>{if(e.disabled)return;let n;var o;if(await this.checkStatPoint(e,t)&&(n=e,null!==(o=e.points)&&void 0!==o&&o.length))for(const t of e.points){const e=await i(t);if(e){n=e;break}}return n};for(const o of e.points)if(n=await i(o),n&&this.qosManager.send(t,n),"sequential"===e.checkingMode&&n)break}async checkStatPoint(e,t){const n=(e=>{var t,n;const i={duration:null!==(t=e.duration)&&void 0!==t?t:0,usageTime:f(e.endAt),data:e.exposeInfo(),processName:r.a.process,systemInfo:r.a.UsageMonitor.getSystemInfo()};return null!==(n=e.stackTrace)&&void 0!==n&&n.length&&(i.stackTrace=e.stackTrace),[i,...e.info||[]]})(t);return"boolean"==typeof e.condition?e.condition:e.condition(...n)}processResolvedMetrics(e){try{const o=e=>{if("object"!=typeof e)return`${e}`;let t="",n=0;for(const i in e){const o=e[i];if(void 0!==o){if(0!==n&&(t+="; "),Array.isArray(o))t+=`${i}:${JSON.stringify(o)}`;else if("object"==typeof o){t+=`${i}:{`;for(const e in o)void 0!==o[e]&&("object"==typeof o[e]?t+=` {k}:${JSON.stringify(o[e])},`:t+=` {k}:${o[e]},`);t+=" }"}else t+=`${i}:${o}`;n++}}return t};if(w.has(e.name)){let t="";t=e.type==R.a.TIME?`cost ${e.durationText} - ${e.duration}ms; startAt ${e.startAt}; endAt ${e.endAt}`:o(e.exposeInfo()),this.Logger.zsymb(3,"jt1bpA",["metrics/{}: {}","zVZh99"],e.key?e.key:e.name,t)}if(P.has(e.name)&&c.a.getConfig().staging_account){let s="";var t,n,i;if(s=e.type==R.a.TIME?`${e.durationText||e.duration||""}`:o(e.exposeInfo()),r.a.process===a.a.Main)null===(t=r.a.ToolboxMain.getDebugger())||void 0===t||t.persistInfo({persistKey:e.name,info:{text:`metrics/${e.name}: ${s}`}});else null===(n=r.a.ToolboxRenderer.getDebugger())||void 0===n||n.persistInfo({persistKey:e.name,info:{text:`metrics/${e.name}: ${s}`}}),null===(i=r.a.ToolboxRenderer.getDebugger())||void 0===i||i.requestRun("getPersisted",e.name)}}catch(o){}}})},TTNl:function(e,t,n){"use strict";var i=n("tHMN");n.d(t,"a",(function(){return i.b}))},UJ0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("jDHv"),o=n("AH6j");n("PmZf");class s extends o.b{}const a=Object(i.define)("database-adapter-manager")},UK4g:function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"a",(function(){return g}));const i=0,o=void 0,s=2,a="db",r="db-authenticated",d="db-client-connected",c="db-start-close-dbs",l="db-finish-close-dbs",m=1e4,u=0,p=1e4,g=!1},Ugdv:function(e,t,n){"use strict";n("PhBv")},UxIX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));var i,o=n("VTBJ"),s=n("EhJb"),a=n("Y65e"),r=n("dFSO"),d=n("f1TF"),c=n("N1xz"),l=n("CHYU"),m=n("h+6H");class u{constructor(e){this.onRevoke=void 0,this.onRevoke=e.onRevoke}}class p extends u{constructor(...e){super(...e),this.onData=()=>{}}revoke(){this.onRevoke()}}class g{constructor(e){this.sections=void 0,this.logger=void 0,this.startAt=void 0,this.timerCheck=void 0,this.intervalCheck=void 0,this.logger=e,this.sections=new Map,this.intervalCheck=3e3}createSection(e,t){const n=this.sections.get(e);n&&(this.logger.zsymb(6,"aMoFn6",`prev monitor section_id ${e} has not been removed. Force revoke`),n.revoke()),this.startAt||(this.startAt=Date.now(),t&&(this.intervalCheck=t),this.logger.zsymb(0,"dl7xrv",`[START] Usage Monitor at ${this.startAt}; section_id ${e}`),this.requestGetAllProcessUsage());const i=new p({onRevoke:()=>{this.sections.has(e)&&(this.sections.delete(e),this.sections.size||(this.startAt=void 0,this.timerCheck&&clearTimeout(this.timerCheck),this.timerCheck=void 0,this.logger.zsymb(0,"rqlRfA",`[STOP] Usage Monitor at ${Date.now()}; section_id ${e}`)))}});return this.sections.set(e,i),i}onData(e){null!=e&&e.data?(this.sections.forEach((t=>{var n;null===(n=t.onData)||void 0===n||n.call(t,this.buildResponseData(e.data))})),this.timerCheck&&clearTimeout(this.timerCheck),this.timerCheck=setTimeout((()=>{this.requestGetAllProcessUsage()}),this.intervalCheck)):null!=e&&e.error&&this.logger.zsymb(18,"lSY83M","MetricsDebugger/getAllProcessUsage: error {}",e.error)}requestGetAllProcessUsage(){return c.a.MetricTransporter.requestRun(i||(i=Object(s.decrypt)("nuhz}~d\\^OzWWkITX^HHnHZ\\^",";")))}buildResponseData(e){const t=e.reduce(((e,t)=>(e.totalCPU+=t.cpu,e.totalRAM+=t.memory,e)),{totalCPU:0,totalRAM:0});return{totalCPU:t.totalCPU,totalRAM:t.totalRAM,processes:e}}}var f,h=n("rkiK"),b=n("KBA3"),y=n("rors");class I{constructor(){this.MAX_CACHED_LOGS=500,this._logs=void 0,this.isEnabled=void 0}get logs(){return this._logs||(this._logs=[]),this._logs}setEnabled(e){}write(e,t,n){}checkAbleToEnable(){if(null==this.isEnabled){var e;"1"===(null===(e=c.a.ToolboxRenderer.getDebugger())||void 0===e?void 0:e.getPersistedDebugObj("mzLog"))&&(this.isEnabled=!0,c.a.MetricTransporter.requestRun(f||(f=Object(s.decrypt)("^UZYW^wT\\lIRO^I",";"))))}}flush(){const e=[...this.logs];this._logs=[],h.MetriczMessenger.send(y.c.saveLogsFromRenderer,e)}}var v,M,P,w,_,T,S,C,q,R,D,A,N,E,x,O,B,U,k,F,j,L,z,G;let K=(v=h.MetriczMessenger.handler(y.c.getPersistedDebugObj),M=Reflect.metadata("design:type",Function),P=Reflect.metadata("design:paramtypes",[String]),w=class{constructor(){this._logger=void 0,this._logWriter=void 0,this.persistedInfo=void 0,this.usageMonitor=void 0,this.persistedDebugObj=void 0,this.createDebugCmds()}get Logger(){return this._logger||(this._logger=c.a.createLogger("metrics-debugger")),this._logger}toggleFpsFallingRecorder(){if(c.a.process===l.a.Render||c.a.process===l.a.Web){var e;const{ModuleContainer:t}=n("jDHv"),{SidebarController:i}=n("iZzu");t.resolve(i).togglePerfTab(!0),null===(e=c.a.UIManager.Tool)||void 0===e||e.toggleFpsFallingRecorder()}}requestRun(e,...t){return e===(_||(_=Object(s.decrypt)("\\^OwTXZWhOTIZ\\^hRA^",";")))?this._measureLocalStorageSize():e===(T||(T=Object(s.decrypt)("XTNUOoTOZWvH\\H",";")))?this._countTotalMsgs():e===(S||(S=Object(s.decrypt)("I^H^OxNHOTVv^OIRX}WZ\\H",";")))?this._resetCustomMetricFlags(e,...t):e===(C||(C=Object(s.decrypt)("\\^Ok^IHRHO^_",";")))?this._getPersisted((null==t?void 0:t[0])||""):e===(q||(q=Object(s.decrypt)("\\^OkITX^HHv^VTIB",";")))?this.getProcessMemory():[R||(R=Object(s.decrypt)("\\^Or_YhRA^",";")),D||(D=Object(s.decrypt)("\\^OwTXZWhOTIZ\\^kSBHRXZW}RW^HhRA^",";")),A||(A=Object(s.decrypt)("\\^OhJWRO^hRA^",";")),N||(N=Object(s.decrypt)("\\^OkITX^HHwRHO",";")),E||(E=Object(s.decrypt)("\\^Oi^ZWv^VTIBhOZORHORXH",";")),x||(x=Object(s.decrypt)("\\^OkITX^HHv^VTIBhOZORHORXH",";"))].includes(e)?c.a.MetricTransporter.requestRun(e,...t):void 0}persistInfo(e){this.persistedInfo||(this.persistedInfo=new Map),this.persistedInfo.set(e.persistKey,e.info)}requestAppUsageMonitor(e,t){var n;return null===(n=this.getUsageMonitor())||void 0===n?void 0:n.createSection(e,t)}async handleResponseRequestRun(e,t,n){var i;if(t===(O||(O=Object(s.decrypt)("\\^Or_YhRA^",";"))))(null==e||!e.error)&&(null==e?void 0:e.readableTotalSize)&&(null===(i=c.a.UIManager.Tool)||void 0===i||i.visualizeInfo({text:`metrics/idb_size: ${e.readableTotalSize}`})),this.Logger.zsymb(5,"zcEPaL",["MetricsDebugger/idbSize: {}","VjmWGI"],e);else if(t===(B||(B=Object(s.decrypt)("\\^OwTXZWhOTIZ\\^kSBHRXZW}RW^HhRA^",";")))){var o;(null==e||!e.error)&&(null==e?void 0:e.readableTotalSize)&&(null===(o=c.a.UIManager.Tool)||void 0===o||o.visualizeInfo({text:`metrics/localstorage_physical_files_size: ${e.readableTotalSize}`})),this.Logger.zsymb(5,"c-EhQO",["MetricsDebugger/localStoragePhysicalFilesSize: {}","HkSaa0"],e)}else if(t===(U||(U=Object(s.decrypt)("\\^OhJWRO^hRA^",";")))){var a;(null==e||!e.error)&&(null==e?void 0:e.readableTotalSize)&&(null===(a=c.a.UIManager.Tool)||void 0===a||a.visualizeInfo({text:`metrics/sqlite_db_size: ${e.readableTotalSize}`})),this.Logger.zsymb(5,"lRROJ9",["MetricsDebugger/sqliteSize: {}","gW5Cry"],e)}else if(t===(k||(k=Object(s.decrypt)("MRHNZWRA^rU]T",";")))){var r;e.text&&(null===(r=c.a.UIManager.Tool)||void 0===r||r.visualizeInfo({text:e.text}))}else if(t===(F||(F=Object(s.decrypt)("\\^Ok^IHRHO^_",";")))){var d;if(null!=e&&e.text)null===(d=c.a.UIManager.Tool)||void 0===d||d.visualizeInfo({text:e.text}),this.Logger.zsymb(5,"oMKdfC",["MetricsDebugger/{}","Wj9EV7"],e.text)}else if(t===(j||(j=Object(s.decrypt)("nuhz}~d\\^OzWWkITX^HHnHZ\\^",";")))){var l;null===(l=this.getUsageMonitor())||void 0===l||l.onData(e)}else if(t===(L||(L=Object(s.decrypt)("\\^OkITX^HHwRHO",";"))))this.visualizeProcessList(e),this.Logger.zsymb(5,"raCB0w",["MetricsDebugger/process_list: {}","FP5Etk"],e);else if(t===(z||(z=Object(s.decrypt)("\\^Oi^ZWv^VTIBhOZORHORXH",";")))){var m;(null==e||!e.error)&&(null==e?void 0:e.totalReadable)&&(null===(m=c.a.UIManager.Tool)||void 0===m||m.visualizeInfo({text:`metrics/real_memory_statistics: ${e.totalReadable}`})),this.Logger.zsymb(5,"R_XUKt",["MetricsDebugger/realMemoryStatistics: {}","YV7exN"],e)}else if(t===(G||(G=Object(s.decrypt)("\\^OkITX^HHv^VTIBhOZORHORXH",";")))){var u;(null==e||!e.error)&&(null==e?void 0:e.totalReadable)&&(null===(u=c.a.UIManager.Tool)||void 0===u||u.visualizeInfo({text:`metrics/process_memory_statistics: ${e.totalReadable}`})),this.Logger.zsymb(5,"FkGAy2",["MetricsDebugger/processMemoryStatistics: {}","upIBXU"],e)}}createDebugCmds(){}saveLog(e){this.LogWriter.write(Date.now(),c.a.process,e)}handleGetPersistedDebugObj(e){var t;return null===(t=c.a.ToolboxRenderer.getDebugger())||void 0===t?void 0:t.getPersistedDebugObj(e)}get LogWriter(){return this._logWriter||(this._logWriter=new I),this._logWriter}_getPersisted(e){return c.a.MetricTransporter.requestRun("getPersisted",e)}async _measureLocalStorageSize(){try{var e,t;let n=0;const i=window.localStorage.length;if(!i)return;let s,a={},d=Date.now();const l=[];for(let e=0;e<i;e++){const t=localStorage.key(e);if(t){const e={keySize:Object(m.a)(t),valueSize:0};l.push(new Promise((i=>{try{const n=window.localStorage.getItem(t);null!=n&&(e.valueSize=Object(m.a)(n))}catch(d){}const r=e.keySize+e.valueSize;n+=r,a[t]=e,(!s||s.size<r)&&(s=Object(o.a)(Object(o.a)({},s||{}),{},{key:t,size:r})),i()})))}}await Promise.all(l);let u=Date.now();const p={totalSize:n,readableTotalSize:Object(r.d)(n),largestKey:Object(o.a)(Object(o.a)({},s||{}),{},{readableSize:null!==(e=s)&&void 0!==e&&e.size?Object(r.d)(s.size):""}),took:`${Object(r.e)(u-d)}`,details:a};null===(t=c.a.UIManager.Tool)||void 0===t||t.visualizeInfo({text:`metrics/local_storage_size: ${p.readableTotalSize}`}),this.Logger.zsymb(5,"gBQ4wr",["MetricsDebugger/localStorageSize: {}","CksWje"],p)}catch(n){this.Logger.zsymb(23,"t3HHUk",["MetricsDebugger/localStorageSize: ERR {}","kHzU5_"],Object(d.b)(n))}}async _countTotalMsgs(){try{var e;const t=n("fsN4").default.getInstance(),i=await t.Core.Message.count();null===(e=c.a.UIManager.Tool)||void 0===e||e.visualizeInfo({text:`metrics/total_msgs: ${i}`}),this.Logger.zsymb(5,"8OUjh_",["MetricsDebugger/totalMsgs: {}","qoojsN"],i)}catch(t){this.Logger.zsymb(23,"bpsI1d",["MetricsDebugger/totalMsgs: ERR {}","3UdeQg"],Object(d.b)(t))}}async _resetCustomMetricFlags(e,...t){try{const i=n("igA5").default.getInstance();return new Promise((e=>{i.removeItemForCurrentUser("mz_storage"),e()})),c.a.MetricTransporter.requestRun(e,...t)}catch(i){}}getUsageMonitor(){return this.usageMonitor||(this.usageMonitor=new g(this.Logger)),this.usageMonitor}visualizeProcessList(e,t){if(null!=e&&e.length){let i=t||0,o=e[i];var n;if(o)null===(n=c.a.UIManager.Tool)||void 0===n||n.visualizeInfo({text:`${o.name||o.type}|${o.pid} `}),setTimeout((()=>{requestAnimationFrame((()=>{this.visualizeProcessList(e,i+1)}))}),1e3)}}getProcessMemory(){MetriczGlobal.getProcessMemory().then((e=>{var t;null===(t=c.a.UIManager.Tool)||void 0===t||t.visualizeInfo({text:`metrics/memory: ${Object(r.d)(e)}`}),this.Logger.zsymb(5,"8zC29T",["MetricsDebugger/processMemory: {} ({})","nWBoKq"],e,Object(r.d)(e))})).catch((e=>{this.Logger.zsymb(23,"AGhPrl",["MetricsDebugger/processMemory: ERR {}","GRynn2"],Object(d.b)(e))}))}persistDebugObj(e,t){if(!b.a.debugEnabled)return!1;const i=n("igA5").default.getInstance();if(!this.persistedDebugObj){this.persistedDebugObj={};const e=i.getItemForCurrentUser("debugmetricz");if(e)try{const t=JSON.parse(e);this.persistedDebugObj=Object(o.a)({},t)}catch(s){}}return this.persistedDebugObj[e]=t,i.setItemForCurrentUser("debugmetricz",JSON.stringify(this.persistedDebugObj)),!0}deleteDebugObj(e){if(e){if(this.getPersistedDebugObj(e)&&delete this.persistedDebugObj[e],Object.keys(this.persistedDebugObj).length){return void n("igA5").default.getInstance().setItemForCurrentUser("debugmetricz",JSON.stringify(this.persistedDebugObj))}}this.persistedDebugObj=void 0;n("igA5").default.getInstance().removeItemForCurrentUser("debugmetricz")}getPersistedDebugObj(e){if(b.a.debugEnabled){if(!this.persistedDebugObj){const e=n("igA5").default.getInstance();this.persistedDebugObj={};const i=e.getItemForCurrentUser("debugmetricz");if(i)try{const e=JSON.parse(i);this.persistedDebugObj=Object(o.a)({},e)}catch(t){}}return this.persistedDebugObj[e]}}},Object(a.a)(w.prototype,"handleGetPersistedDebugObj",[v,M,P],Object.getOwnPropertyDescriptor(w.prototype,"handleGetPersistedDebugObj"),w.prototype),w)},WOPK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("kQx2");let o=0;const s=()=>(o++,Math.floor(Object(i.a)()+o))},X2RP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("jDHv"),o=n("AH6j"),s=n("Mgpg");class a extends o.b{constructor(){super(),this.logger=void 0;const e=i.ModuleContainer.resolve(s.ZLoggerFactory);this.logger=e.createZLogger("query-executor",[this.getExecutorName()])}}},XB6V:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("zlogger-factory")},Xq9V:function(e,t,n){"use strict";n.r(t);var i=n("N1xz"),o=n("igRa"),s=n("/Pmb");t.default=class{constructor(e,t){this.onRevoke=e,this.config=t,this.fpsDropMonitor=void 0,this.fpsResult=void 0,this.finished=void 0,this.recordFpsHistory=e=>{this.fpsResult.fpsHistory.push({fps:e.fps,ts:e.now})},this.fpsDropMonitor=new s.default(this.config),this.fpsResult={fpsHistory:[],dropped:[]}}start(){this.fpsDropMonitor.onDropped((e=>{this.fpsResult.dropped.push(e)})),this.fpsDropMonitor.start(),i.a.UIManager.on(o.a.FPS,this.recordFpsHistory)}end(){var e;if(this.finished)return this.fpsResult;this.finished=!0;const t=this.fpsDropMonitor.end();return i.a.UIManager.removeListener(o.a.FPS,this.recordFpsHistory),null!=t.lowestDrop&&(this.fpsResult.lowestDropped={beforeDrop:t.beforeDrop,lowestDrop:t.lowestDrop,recoverTime:t.recoverTime,afterRecover:t.afterRecover,beforeDropTs:t.beforeDropTs,recoverTs:t.recoverTs,lowestDropTs:t.lowestDropTs}),t.pendingResult&&this.fpsResult.dropped.push(t.pendingResult),this.fpsResult.startAt=t.startAt,this.fpsResult.endAt=t.endAt,this.fpsResult.fpsHistory=this.fpsResult.fpsHistory.sort(((e,t)=>e.ts-t.ts)),this.fpsResult.dropped=this.fpsResult.dropped.sort(((e,t)=>e.beforeDropTs&&t.beforeDropTs?e.beforeDropTs-t.beforeDropTs:0)),null===(e=this.onRevoke)||void 0===e||e.call(this),this.fpsResult}}},YEoC:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return c}));let i=function(e){return e.NEXT="next",e.NEXT_UNIQUE="nextunique",e.PREV="prev",e.PREV_UNIQUE="prevunique",e}({}),o=function(e){return e.integer="integer",e.float="float",e.string="string",e.boolean="boolean",e.json="json",e.blob="blob",e.jsonAndString="json&string",e}({}),s=function(e){return e.READONLY="readonly",e.READWRITE="readwrite",e}({}),a=function(e){return e[e.BLOCKING=0]="BLOCKING",e[e.NON_BLOCKING=50]="NON_BLOCKING",e[e.LOW=100]="LOW",e[e.IDLE=250]="IDLE",e[e.NEVER_TIMEOUT=1e3]="NEVER_TIMEOUT",e}({}),r=function(e){return e[e.IDB=0]="IDB",e[e.SQLite=1]="SQLite",e}({}),d=function(e){return e[e.BeginTransaction=0]="BeginTransaction",e[e.CommitTransaction=1]="CommitTransaction",e[e.Clear=2]="Clear",e[e.Get=3]="Get",e[e.GetAndUpdate=4]="GetAndUpdate",e[e.GetMulti=5]="GetMulti",e[e.GetAll=6]="GetAll",e[e.GetAllKey=7]="GetAllKey",e[e.Insert=8]="Insert",e[e.InsertMulti=9]="InsertMulti",e[e.Update=10]="Update",e[e.UpdateMulti=11]="UpdateMulti",e[e.Delete=12]="Delete",e[e.DeleteMulti=13]="DeleteMulti",e[e.FindAndDelete=14]="FindAndDelete",e[e.Count=15]="Count",e[e.CloseDB=16]="CloseDB",e[e.CloseAllDBs=17]="CloseAllDBs",e[e.DeleteDB=18]="DeleteDB",e[e.DeleteAllDBs=19]="DeleteAllDBs",e}({}),c=function(e){return e[e.Unknown=0]="Unknown",e[e.Background=1]="Background",e[e.Host=2]="Host",e[e.Client=3]="Client",e[e.Worker=4]="Worker",e[e.Browser=5]="Browser",e}({})},YZti:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("YEoC"),o=n("DI/x");const s="undefined"!=typeof window&&"Microsoft Internet Explorer"==(null===(a=window.navigator)||void 0===a?void 0:a.appName);var a;let r;var d;let c;let l;var m;(d=r||(r={})).encrypt=function(e,t){let n=0,i=[];if(s){let n=0,o=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=o;for(let t=0;t<e.length;t++)i.push(String.fromCharCode(e.charCodeAt((t+n)%o)))}else for(let o=0;o<e.length;o++)i.push(String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return i.join("")},d.decrypt=function(e,t){let n=0,i=[];if(s){let n=0,o=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=o,n=o-n;for(let t=0;t<e.length;t++)i.push(String.fromCharCode(e.charCodeAt((t+n)%o)))}else for(let o=0;o<e.length;o++)i.push(String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return i.join("")},(c||(c={})).getTypeName=function(e){switch(e){case i.d.BeginTransaction:return"begin-transaction";case i.d.CommitTransaction:return"commit-transaction";case i.d.Clear:return"clear";case i.d.Get:return"get";case i.d.GetAndUpdate:return"get-and-update";case i.d.GetMulti:return"get-multi";case i.d.GetAll:return"get-all";case i.d.GetAllKey:return"get-all-key";case i.d.Insert:return"insert";case i.d.InsertMulti:return"insert-multi";case i.d.Update:return"update";case i.d.UpdateMulti:return"update-multi";case i.d.Delete:return"delete";case i.d.DeleteMulti:return"delete-multi";case i.d.FindAndDelete:return"find-and-delete";case i.d.Count:return"count";case i.d.CloseDB:return"close-db";case i.d.CloseAllDBs:return"close-all-dbs";case i.d.DeleteDB:return"delete-db";case i.d.DeleteAllDBs:return"delete-all-dbs"}},(m=l||(l={})).isMissingTableError=function(e){return e instanceof o.e&&e.code===o.p},m.isInvalidVersionError=function(e){return e instanceof o.e&&e.code===o.m},m.isFailedToOpenConnectionError=function(e){return e instanceof o.e&&e.code===o.k}},ZICu:function(e,t,n){"use strict";var i=n("YEoC"),o=n("xI/L"),s=n("qcQX"),a=n("KiFO");new s.a({name:"internal",session:!0,version:1,milestoneVersion:1,type:i.a.SQLite,partitionNamingStrategy:[o.a.const("internal")],partitionsMap:{default:{tables:[a.a]}}}),a.a},ZgEe:function(e,t,n){"use strict";(function(e){t.a=class{constructor(){this.t0=void 0,this.t0=e.hrtime.bigint()}get ms(){const t=e.hrtime.bigint();return Number((t-this.t0)/BigInt(1e6))}get us(){const t=e.hrtime.bigint();return Number((t-this.t0)/BigInt(1e3))}}}).call(this,n("8oxB"))},aLZP:function(e,t,n){"use strict";n.r(t);var i=n("K+9E"),o=n("N1xz"),s=n("bfOK");class a extends s.a{constructor(){super()}get Installer(){return{updateOffsetTime:e=>{this.TimeHelper.updateOffsetTime(e)}}}getDebugger(){}requestCpuIdle(e,t){setTimeout((()=>{e()}),(null==t?void 0:t.timeout)||1e3)}}o.a.register(i.a.TOOLBOX,a)},b3Jv:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d={IdxQueue:new a.d({tableName:"idx_queue",name:"IdxQueue",fields:{msgId:{name:"msgId",type:o.g.string},toUid:{name:"toUid",type:o.g.string},message:{name:"message",type:o.g.json},msgType:{name:"msgType",type:o.g.integer},ts:{name:"ts",type:o.g.string},fromUid:{name:"fromUid",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),StCont:new a.d({tableName:"stcont",name:"StCont",fields:{msgId:{name:"msgId",type:o.g.string},convId:{name:"convId",type:o.g.string},msgType:{name:"msgType",type:o.g.integer},index:{name:"index",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},msgId:{name:"msgId",fields:[{type:"raw",field:"msgId"}],unique:!0}}}),StIdx:new a.d({tableName:"stidx",name:"StIdx",fields:{keywordId:{name:"keywordId",type:o.g.integer},contentId:{name:"contentId",type:o.g.integer},freq:{name:"freq",type:o.g.integer},index:{name:"index",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},keywordId:{name:"keywordId",fields:[{type:"raw",field:"keywordId"}],unique:!1}}}),StKeyword:new a.d({tableName:"stkw",name:"StKeyword",fields:{keyword:{name:"keyword",type:o.g.string},index:{name:"index",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"index"}],unique:!0,autoIncrement:!0},keyword:{name:"keyword",fields:[{type:"raw",field:"keyword"}],unique:!0}}})},c={name:"Search",session:!0},l={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("Search"),s.a.byTable()],partitionsMap:Object(r.a)(d)},m={partitionNamingStrategy:[s.a.const("sidx"),s.a.byUser()],partitionsMap:Object(r.b)(d)},u=Object(i.a)(Object(i.a)(Object(i.a)({},c),l),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),p=Object(i.a)(Object(i.a)(Object(i.a)({},c),m),{},{version:2,milestoneVersion:2,type:o.a.IDB});let g=null,f=null;t.a={schema:d,get useSqlite(){return null===g&&(g=new a.a(u)),g},get useIdb(){return null===f&&(f=new a.a(p)),f}}},bSii:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i=n("igA5");n("YEoC");function o(e,t){if(!globalThis.localStorage)return t;try{const t=i.default.getInstance().getItem(e);if(t)return JSON.parse(t)}catch(n){}return s(e,t),t}function s(e,t){i.default.getInstance().setItem(e,JSON.stringify(t))}function a(e){return 1===e.length?e[0]:e}},bfOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class i{constructor(){this.offsetClient=0,this.updateOffsetTime=e=>{this.offsetClient=e}}now(){return Date.now()+this.offsetClient}getOffsetTime(){return this.offsetClient}}class o{constructor(){this.timeHelper=void 0,this.timeHelper=new i}get TimeHelper(){return this.timeHelper}}},cWDS:function(e,t,n){"use strict";n.r(t);n("FPa7"),n("OKQc");var i=n("zFSh");n.d(t,"MetriczProcessLifecycle",(function(){return i.b}));n("gpS1");var o=n("PJuT");for(var s in o)["default","MetriczProcessLifecycle"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s)},cnBV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i={ux_latency:"ux_latency",task_latency:"task_latency",usage:"usage",web_vitals:"web_vitals",navigation_timing:"navigation_timing",core:"core"},o={start_up:"start_up",dal:"dal",chat:"chat",e2ee:"e2ee"}},"d/or":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("database-settings-manager")},d04y:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d=new a.d({tableName:"actionlog",name:"Actionlog",fields:{type:o.g.string},indices:{},isNonFieldlikeEntity:!0}),c={Qoslogv2:new a.d({tableName:"qoslogv2",name:"Qoslogv2",fields:{record:{name:"record",type:o.g.string},ts:{name:"ts",type:o.g.integer},cmdId:{name:"cmdId",type:o.g.string},type:{name:"type",type:o.g.string},requestId:{name:"requestId",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"ts"},{type:"raw",field:"cmdId"},{type:"raw",field:"type"}],unique:!0},ts:{name:"ts",fields:[{type:"raw",field:"ts"}],unique:!1}}}),Actionlog:d},l={name:"Qos",session:!1},m={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.const("Qos"),s.a.byTable()],partitionsMap:Object(r.a)(c)},u={partitionNamingStrategy:[s.a.const("zdb_qos")],partitionsMap:Object(r.b)(c)},p=Object(i.a)(Object(i.a)(Object(i.a)({},l),m),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),g=Object(i.a)(Object(i.a)(Object(i.a)({},l),u),{},{version:3,milestoneVersion:3,type:o.a.IDB});let f=null,h=null;t.a={schema:c,get useSqlite(){return null===f&&(f=new a.a(p)),f},get useIdb(){return null===h&&(h=new a.a(g)),h}}},d74q:function(e,t,n){"use strict";let i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),(i||(i={})).Channel=class{constructor(){this.SharedWorkerChannel=void 0,this.NotificationChannel=void 0,this.send=void 0,this.invoke=void 0,this.registerHandler=void 0,this.handler=void 0,this.invoker=void 0,this.sender=void 0}};const o=()=>new i.Channel},dFSO:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g}));const i=36e5,o=24*i,s={W:7*o,D:o,h:i,m:6e4,s:1e3},a=e=>{var t;if(e.includes(":")){return e.split(":").reduce(((e,t)=>e+=a(t)),0)}const n=null===(t=/(\d+)(ms)/g.exec(e))||void 0===t?void 0:t[1];if(n)return Number(n);const i=/(\d+)([WDhms])/g;let o,r=0;for(;o=i.exec(e);)r+=parseInt(o[1])*s[o[2]];return r},r=e=>null==e,d=(e,t)=>{let n=e;const i=[];for(const o in s){const e=s[o],t=Math.trunc(n/e);t>0&&(i.push(`${t}`.padStart(2,"0")+o),n-=t*e)}return n>0&&(null!=t&&(n=Number(n.toFixed(t))),i.push(n+"ms")),i.join(":")},c=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],l=e=>{let t=0,n=parseInt(e.toString(),10)||0;for(;n>=1024&&++t;)n/=1024;return n.toFixed(n<10&&t>0?1:0)+" "+c[t]},m=e=>1024*Number(e);let u,p={};const g=e=>{if(!u){let e="";[...c].reverse().forEach(((t,n)=>{p[t]=1024**(c.length-1-n),e+=0===n?t:`|${t}`})),u=new RegExp(`^(\\d+(\\.\\d+)?)\\s*(${e})$`)}let t=0,n=u.exec(e);if(n&&n[1]&&c.includes(n[3])){const e=parseFloat(n[1]),i=n[3];isNaN(e)||(t+=e*p[i])}return t}},f1TF:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("N1xz"),o=n("CHYU"),s=n("fbdB");const a=e=>null!=e&&e.message&&null!=e&&e.name?`${e.name}: ${e.message}`:e;class r{constructor(e){this.moduleName=e,this._logger=void 0,this.pendingLogs=void 0,this.zsymb=(...e)=>{this.logDefault("zsymb",...e)},this.zinfo=(...e)=>{this.logDefault("zinfo",...e)},this.zwarn=(...e)=>{this.logDefault("zwarn",...e)},this.zerror=(...e)=>{this.logDefault("zerror",...e)},this.zdebug=(...e)=>{this.logDefault("zdebug",...e)},this.zsentry=(...e)=>{this.logDefault("zsentry",...e)},this.zfatal=(...e)=>{this.logDefault("zfatal",...e)},this.zinfoC=(...e)=>{this.logDefault("zinfoC",...e)},this.zinfoF=(...e)=>{this.logDefault("zinfoF",...e)},this.zwarnC=(...e)=>{this.logDefault("zwarnC",...e)},this.zwarnF=(...e)=>{this.logDefault("zwarnF",...e)},this.zerrorC=(...e)=>{this.logDefault("zerrorC",...e)},this.zerrorF=(...e)=>{this.logDefault("zerrorF",...e)},this.zdebugC=(...e)=>{this.logDefault("zdebugC",...e)},this.zdebugF=(...e)=>{this.logDefault("zdebugF",...e)},this.pendingLogs=new Map}isEnabled(){return!!i.a.canIUse()&&(!(i.a.process!==o.a.Main||!i.a.DataManager.getEvent(s.b.main_ready))||(!(i.a.process!==o.a.Render||!i.a.DataManager.getEvent(s.b.app_did_mount))||i.a.process===o.a.SharedWorker))}createZlogger(){if(this.isEnabled()&&!this._logger)try{const{ModuleContainer:e}=n("jDHv"),{ZLoggerFactory:t}=n("Mgpg"),{ZLoggerNametags:i}=n("h0S/");this._logger=e.resolve(t).createZLogger(i.metricz,[this.moduleName]),this.resolvePendingLogs()}catch(e){}}resolvePendingLogs(){this.pendingLogs.forEach(((e,t)=>{e.forEach((e=>{this.logDefault(t,...e)}))})),this.pendingLogs.clear()}addPendingLogs(e,t){this.pendingLogs.has(e)||this.pendingLogs.set(e,[]);const n=this.pendingLogs.get(e);n&&(n.push(t),n.length>200&&n.shift())}pause(){this.logDefault("pause")}resume(){this.logDefault("resume")}disableFile(){this.logDefault("disableFile")}enableFile(){this.logDefault("enableFile")}disableConsole(){this.logDefault("disableConsole")}enableConsole(){this.logDefault("enableConsole")}logDefault(e,...t){var n,i;(this.createZlogger(),this._logger)?null===(n=(i=this._logger)[e])||void 0===n||n.call(i,...t):this.addPendingLogs(e,[...t])}}},fbdB:function(e,t,n){"use strict";n.d(t,"d",(function(){return i.a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s.a})),n.d(t,"c",(function(){return s.b}));var i=n("uzza");var o={bootstrap:"bootstrap",main_ready:"main_ready",main_window_finish_load:"main_window_finish_load",main_receive_server_config:"main_receive_server_config",app_did_mount:"app_did_mount",app_done_preload_data:"app_done_preload_data",app_ready:"app_ready",app_receive_server_config:"app_receive_server_config",before_log_out:"before_log_out"},s=n("cnBV")},fsN4:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n("jDHv"),o=n("+ExH"),s=n("1UUk");class a{static getInstance(){if(!this.instance){const e=i.ModuleContainer.resolve(s.b);this.instance=e.createQueryBuilder(o.a)}return this.instance}}a.instance=null},fsQs:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return c})),n.d(t,"u",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"p",(function(){return u})),n.d(t,"n",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"q",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"j",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"r",(function(){return M})),n.d(t,"e",(function(){return P})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return _}));const i=1024,o=i*i,s=1e3,a=2e3,r=5e3,d=1e5,c=3e5,l=62,m=1e3,u={SESSION_MAX:32767,SESSION_LINE_MAX:4294967295},p={line_malloc:10*i,mem_batch_lim:500*i,line_hard_lim:30+50*i,line_soft_lim:30+4*i,file_lim:10*o,page_limit:10*o},g=p,f={i8:1,ui8:1,i16:2,ui16:2,i32:4,ui32:4,float32:4,float64:4,big64:8,ubig64:8};let h=function(e){return e[e.OK=0]="OK",e[e.ENCODE_LATER=1]="ENCODE_LATER",e[e.REWIND=2]="REWIND",e[e.OVERSIZE_NEXTPAGE=3]="OVERSIZE_NEXTPAGE",e}({});const b=!1,y=2048,I=2*o,v=300,M=[17,127],P={min:200,max:500,maxRetries:5},w=!1,_="unload-zlog"},gpS1:function(e,t,n){},"h+6H":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>"string"==typeof e?(new TextEncoder).encode(e).length:e instanceof ArrayBuffer?e.byteLength:ArrayBuffer.isView(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength).byteLength:(new TextEncoder).encode(JSON.stringify(e)).length},"h0S/":function(e,t,n){"use strict";n.r(t),n.d(t,"ZLoggerNametags",(function(){return i})),n.d(t,"ZLoggerNametagsMap",(function(){return o})),n.d(t,"ZLogNametagsWhitelist",(function(){return s}));let i=function(e){return e.moduleA="moduleA",e.featA="featA",e.featPhoto="photo",e.featPhotoLoadCache="photoLoadCache",e.featPhotoDomCache="photoDomCache",e.featPhotoReduxAction="photoReduxAction",e.staging="staging",e.onlyAdminChatSettings="only-admin-chat-setting",e.contactTabV2="contact-tab-v2",e.conversationSetting="conversation-setting",e.appStatus="app-status",e.focusDetectorManager="focus-detector-manager",e.focusStatus="focus-status",e.syncDownload="sync-download",e.entriesTransferManager="entries-transfer-manager",e.e2eeNotifyMissingMsg="e2ee-notify-missing-msg",e.widget="widget",e.group="group",e.activeDeactive="active-deactive",e.signalProtocolManager="signal-protocol-manager",e.resendManager="resend-manager",e.iidManager="iid-manager",e.signalStore="signal-protocol-store",e.conversation="conversation",e.groupPollManager="group-poll-manager",e.uiBannerController="ui-banner-controller",e.uiBannerQueue="ui-banner-queue",e.liteIDB="liteIDB",e.msgSync="msg-sync",e.cbiCommandController="cbi-command-controller",e.cbiAnimationController="cbi-animation-controller",e.cbiController="cbi-controller",e.auditCBIFlagCoordinator="audit-cbi-flag-coordinator",e.imageLoader="image-loader",e.wss="wss",e.download="download",e.downloadValidate="download-validate",e.downloadSingle="download-single",e.downloadStaging="download-staging",e.localstorage="localstorage",e.uiHelper="ui-helper",e.controller="controller",e.service="service",e.stateMachine="state-machine",e.convList="conv-list",e.e2ee="e2ee",e.metricz="metricz",e.unread="unread",e.pollV3="pollV3",e.blobHelper="blob-helper",e.imgNormalizer="img-normalizer",e.pinTopic="pin-topic",e.zinstant="zns",e.autoRetry="auto-retry",e.mediaStatus="media-status",e.popupPortal="popup-portal",e.popupPV="popup-pv",e.previewMsgTime="preview-msg-time",e.animation="animation",e.photoMessageUploader="photoMessageUploader",e.diskChecker="disk-checker",e.forwardMessage="forward-message",e.common="common",e.syncMetrics="sync-metrics",e.cbiCommandMode="cbi-command-mode",e.manageCBIAnimation="manage-cbi-animation",e.controllCbi="controll-cbi",e.coordinateAuditCBIFlag="coordinate-audit-cbi-flag",e.fallbackTracker="fallback-tracker",e.messageReadinessChecker="message-readiness-checker",e.eventCollectorMessageReadiness="event-collector-message-readiness",e.lsRoller="roller",e.parser="parser",e.linkParser="link-parser",e.parseLinkBuilder="parse-link-builder",e.mediaSizeParser="media-size-parser",e.uploadThumbPreview="upload-thumb-preview",e.imageLoad="image-load",e.zCloudKey="key",e.zCloudQueue="queue",e.zCloudDownloadMultiSrc="multi-src-download",e.zCloudFetchMultiSrc="multi-src-fetch",e.zCloudShareWeb="share-media-web",e.zCloudShareWebE2ee="share-media-web-e2ee",e.zCloud="zalo-cloud",e.zCloudQuotaTool="zCloudQuotaTool",e.zCloudOnboarding="zCloudOnboarding",e.zCloudStatusController="status-controller",e.zCloudStatusEventsResolver="status-events-resolver",e.zCloudStatusRepository="status-repository",e.zCloudKeyServices="key-services",e.zCloudStatusServices="status-services",e.zCloudMediaExtInfoServices="media-ext-info-services",e.zCloudVerifyQueueServices="verify-queue-services",e.zCloudModel="zcloud-model",e.zCloudWorker="zcloud-worker",e.zCloudPerf="zcloud-perf",e.zCloudUitls="zcloud-utils",e.zCloudMyCloud="mycloud",e.mediaDiskFetcher="mediaDiskFetcher",e.community="community",e.autoFetchMsgCloud="auto-fetch-msg-cloud",e.message="message",e.messageCloudSegment="message-cloud-segment",e.messageCloud="message-cloud",e.messageLocal="message-local",e.messageUI="message-ui",e.inAppPayment="inapp-payment",e.mediaBlobFetcher="media-blob-fetcher",e.streamJXLDecoder="stream-jxl-decoder",e}({});const o={[i.moduleA]:!0,[i.featA]:!0,[i.featPhoto]:!0,[i.featPhotoLoadCache]:!0,[i.featPhotoDomCache]:!0,[i.featPhotoReduxAction]:!0,[i.staging]:!0,[i.onlyAdminChatSettings]:!0,[i.contactTabV2]:!0,[i.conversationSetting]:!0,[i.appStatus]:!0,[i.focusDetectorManager]:!0,[i.focusStatus]:!0,[i.syncDownload]:!0,[i.widget]:!0,[i.activeDeactive]:!0,[i.controller]:!0,[i.service]:!0,[i.stateMachine]:!0,[i.metricz]:!0,[i.blobHelper]:!0,[i.imgNormalizer]:!0,[i.pinTopic]:!0,[i.autoRetry]:!0,[i.mediaStatus]:!0,[i.popupPortal]:!0,[i.popupPV]:!0,[i.entriesTransferManager]:!0,[i.e2eeNotifyMissingMsg]:!0,[i.uiBannerController]:!0,[i.uiBannerQueue]:!0,[i.previewMsgTime]:!0,[i.animation]:!0,[i.photoMessageUploader]:!0,[i.diskChecker]:!0,[i.forwardMessage]:!0,[i.parser]:!0,[i.linkParser]:!0,[i.mediaSizeParser]:!0,[i.imageLoader]:!0,[i.imageLoad]:!0,[i.zCloud]:!0,[i.zCloudOnboarding]:!0,[i.mediaDiskFetcher]:!0,[i.mediaBlobFetcher]:!0,[i.streamJXLDecoder]:!0},s=[]},iZzu:function(e,t,n){"use strict";n.r(t),n.d(t,"SIDEBAR_CONTROLLER",(function(){return o})),n.d(t,"SidebarController",(function(){return s})),n.d(t,"SidebarTab",(function(){return a})),n.d(t,"LabelEvents",(function(){return r.d})),n.d(t,"LabelEvent",(function(){return r.c})),n.d(t,"LABEL_DATA_MANAGER",(function(){return r.a})),n.d(t,"LabelDataManager",(function(){return r.b})),n.d(t,"FilterType",(function(){return d.d})),n.d(t,"FilterSrcType",(function(){return d.c})),n.d(t,"CONV_LIST_CONTROLLER",(function(){return d.a})),n.d(t,"ConvListController",(function(){return d.b})),n.d(t,"SearchUIList",(function(){return c.c})),n.d(t,"SEARCH_CONTROLLER",(function(){return c.a})),n.d(t,"SearchController",(function(){return c.b})),n.d(t,"CONV_MENU_CONTROLLER",(function(){return l.a})),n.d(t,"ConvMenuController",(function(){return l.b}));var i=n("jDHv");const o="sidebar-controller",s=Object(i.define)(o);let a=function(e){return e.MESSAGE_TAB="message",e.CONTACT_TAB="contact",e.PINNED_TAB="pinned",e.MORE_TAB="more",e.SHOP_TAB="shop",e.NOTIFY_TAB="noti",e.MP3_TAB="mp3",e.MENTION_TAB="mention",e.FILE_TAB="file",e.STAR_TAB="star",e.EVENT_TAB="eventTab",e.TODO_TAB="todo",e.ZAVI_TAB="zavi",e.SETTING_SHORTCUT="setting",e.SCREENCAP_SHORTCUT="screencap",e.FILE_TRANSFER_SHORTCUT="filetransfer",e.ZCLOUD_TAB="zcloud",e.QUICK_MESSAGE_TAB="quickMessageTab",e.BROADCAST_MESSAGE_TAB="broadcastMessageTab",e.AUTO_REPLY_TAB="autoReplyTab",e.BROADCAST_SHORTCUT="broadcast",e.CATALOG_TAB="catalogTab",e.CPU_PERF_TAB="cpuPerfTab",e.MAC_MIGRATE_SQLITE="macMigrateSqlite",e.BA_TAB="baTab",e}({});var r=n("6Vk1"),d=n("rQsU"),c=n("kTC5"),l=n("vQ8b")},ibl3:function(e,t){},igA5:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var i=n("jDHv"),o=n("Mgpg"),s=n("fsN4"),a=n("wudS");const r="undefined"!=typeof window&&"Microsoft Internet Explorer"==(null===(d=window)||void 0===d||null===(c=d.navigator)||void 0===c?void 0:c.appName);var d,c;class l{static encrypt(e,t){if(!t)throw new Error("key is not set!");let n=0,i=[];if(r){let n=0,o=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=o;for(let t=0;t<e.length;t++)i.push(String.fromCharCode(e.charCodeAt((t+n)%o)))}else for(let o=0;o<e.length;o++)i.push(String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return i.join("")}static decrypt(e,t){if(!t)throw new Error("key is not set!");let n=0,i=[];if(r){let n=0,o=e.length;for(let e=0;e<t.length;e++)n+=t.charCodeAt(e);n%=o,n=o-n;for(let t=0;t<e.length;t++)i.push(String.fromCharCode(e.charCodeAt((t+n)%o)))}else for(let o=0;o<e.length;o++)i.push(String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(n))),n++,n>t.length-1&&(n=0);return i.join("")}}const m="citk",u="citv",p="default_cache_map",g="z_ecrp";var f,h,b=n("SWKE"),y=n("8/YW");let I=Object(y.f)()(f=Reflect.metadata("design:type",Function)(f=Reflect.metadata("design:paramtypes",[])(((h=class e{constructor(){this.userScopedPrefix=void 0,this.secretKey=void 0,this._decryptFn=void 0,this._encryptFn=void 0,this._canModifyData=void 0,this._disableCipher=void 0,this._cacheMaps={},this._flushAndSaveToStorage=void 0,this._logger=void 0,this.userScopedPrefix=null,this.secretKey=null,this._decryptFn=l.decrypt,this._encryptFn=l.encrypt,this._canModifyData=!0,this._disableCipher=!1,this._flushAndSaveToStorage=((e,t)=>{let n=null;return function(...i){n&&clearTimeout(n),n=setTimeout((()=>{e(...i)}),t)}})(this._flushAndSaveToStorageReal.bind(this),500)}get logger(){if(!this._logger){const e=i.ModuleContainer.resolve(o.ZLoggerFactory);this._logger=e.createZLogger("localstorage",["secure"])}return this._logger}static getInstance(){return this.instance||(this.instance=new e),this.instance}onAuthenticating(t){const{userId:n,UIN:i}=t.getSession();e.getInstance().init(n,i)}setCanModifyDataFlag(e){this._canModifyData=e}isEncryptedValue(e){return e.startsWith(`${g}_`)}disableCipher(){this._disableCipher=!0}_warnIfKeyCannotBeModified(e){this._canModifyData}init(e,t){this.secretKey=t,this._initUserIDList(e);try{this._testCipher()}catch(n){}}hasAlreadyInitialized(){return null!==this.secretKey&&null!==this.userScopedPrefix}_initUserIDList(e){try{this._validateUserIDList(),this.userScopedPrefix=`${Object(a.b)(e)}`}catch(t){}}_validateUserIDList(){}_testCipher(){if(this.checkExistForCurrentUser(m)){if(this.getSecureItemForCurrentUser(m)!==u)throw new Error("SecureLocalStorage encryption and decryption produce incorrect results")}else this.setSecureItemForCurrentUser(m,u)}async _recoverCipher(){const e=["z_recentp","quest_cert","z_recentin","s_ph_if","z_listroom","z_c_d","zv_cu","auto-replies-state-v1","introduced-ttl","hide-fbadge","g_token","d_token","list_recent_search","list_recent_search_v2","ttl-v1","ttl-v1-saved","fas","feat-pro-count-auto-replies"],t=t=>!(!t.includes("list_recent_g_search")||!t.endsWith("v2"))||e.some((e=>t.includes(e))),n=b.a.getInstance();n.cleanupLocalStorageMatchConditions(t);await n.cleanupAsyncLocalStorageMatchConditions((e=>"string"==typeof e&&t(e))),this.setSecureItemForCurrentUser(m,u)}hasOwnProperty(e){const t=this.getKeyNameForSharedItem(e);let n=null;return this.hasAlreadyInitialized()&&(n=this.getKeyNameForCurrentUser(e)),Object.hasOwnProperty.call(this,e)||null!==window.localStorage.getItem(t)||null!==n&&null!==window.localStorage.getItem(n)||null!==window.localStorage.getItem(e)}getKeyNameForSharedItem(e){return`sh_${e}`}getKeyNameForCurrentUser(e){if(null===this.userScopedPrefix)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return`${this.userScopedPrefix}_${e}`}getItemPlain(e){return window.localStorage.getItem(e)}setItemPlain(e,t){this._warnIfKeyCannotBeModified(e),window.localStorage.setItem(e,t)}async getItemPlainAsync(e){const t=s.default.getInstance(),{val:n}=await t.SecureLocalstorage.AsyncStore.get(e)||{val:null};return n}async setItemPlainAsync(e,t){this._warnIfKeyCannotBeModified(e);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.insert({key:e,val:t},{replace:!0})}getItem(e){const t=this.getKeyNameForSharedItem(e);return window.localStorage.getItem(t)}setItem(e,t){const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(n),window.localStorage.setItem(n,t)}async getItemAsync(e){const t=this.getKeyNameForSharedItem(e),n=s.default.getInstance(),{val:i}=await n.SecureLocalstorage.AsyncStore.get(t)||{val:null};return i}async setItemAsync(e,t){const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(n);const i=s.default.getInstance();await i.SecureLocalstorage.AsyncStore.insert({key:n,val:t},{replace:!0})}getItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return window.localStorage.getItem(t)}setItemForCurrentUser(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n),window.localStorage.setItem(n,t)}async getItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e),n=s.default.getInstance(),{val:i}=await n.SecureLocalstorage.AsyncStore.get(t)||{val:null};return i}async setItemForCurrentUserAsync(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const i=s.default.getInstance();await i.SecureLocalstorage.AsyncStore.insert({key:n,val:t},{replace:!0})}getSecureItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e),n=window.localStorage.getItem(t);if(null===n)return null;return this._disableCipher&&!this.isEncryptedValue(n)?n:this.decryptValue(n)}setSecureItemForCurrentUser(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const i=t;if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");const o=this._disableCipher?i:this.encryptValue(i);window.localStorage.setItem(n,o)}async getSecureItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e),n=s.default.getInstance(),i=await n.SecureLocalstorage.AsyncStore.get(t);if(!i)return null;const{val:o}=i;return this._disableCipher&&!this.isEncryptedValue(o)?o:this.decryptValue(o)}async setSecureItemForCurrentUserAsync(e,t){const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n);const i=t;if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");const o=this._disableCipher?i:this.encryptValue(i),a=s.default.getInstance();await a.SecureLocalstorage.AsyncStore.insert({key:n,val:o},{replace:!0})}removeItemPlain(e){this._warnIfKeyCannotBeModified(e),window.localStorage.removeItem(e)}removeItem(e){const t=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(t),window.localStorage.removeItem(t)}removeItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(t),window.localStorage.removeItem(t)}async removeItemPlainAsync(e){this._warnIfKeyCannotBeModified(e);const t=s.default.getInstance();await t.SecureLocalstorage.AsyncStore.delete(e)}async removeItemAsync(e){const t=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(t);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.delete(t)}async removeItemForCurrentUserAsync(e){const t=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(t);const n=s.default.getInstance();await n.SecureLocalstorage.AsyncStore.delete(t)}setItemForAllLoggedUsers(e,t){const n=Object(a.c)().length;if(0!==n)for(let i=0;i<n;i+=1){const n=`${i}_${e}`;window.localStorage.setItem(n,t)}}static forTestingOnly_getNewInstance(){return new e}getInt(e,t={}){const n=void 0===t.defaultInt||isNaN(t.defaultInt)?-1:+t.defaultInt;try{const t=this.getKeyNameForSharedItem(e),n=window.localStorage.getItem(t);if(null!=n){const e=+n;if(!isNaN(e))return e}}catch(i){}return n}getIntForCurrentUser(e,t={}){const n=void 0===t.defaultInt||isNaN(t.defaultInt)?-1:+t.defaultInt;try{const t=this.getKeyNameForCurrentUser(e);let n=window.localStorage.getItem(t);if(null!=n){const e=+n;if(!isNaN(e))return e}}catch(i){}return n}setObject(e,t){try{const n=this.getKeyNameForSharedItem(e);this._warnIfKeyCannotBeModified(e),window.localStorage.setItem(n,JSON.stringify(t))}catch(n){}}setObjectForCurrentUser(e,t){try{const n=this.getKeyNameForCurrentUser(e);this._warnIfKeyCannotBeModified(n),window.localStorage.setItem(n,JSON.stringify(t))}catch(n){}}getObject(e){const t=this.getKeyNameForSharedItem(e);let n=window.localStorage.getItem(t);return null===n?null:(n=JSON.parse(n),n&&"object"==typeof n?n:null)}getObjectForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);let n=window.localStorage.getItem(t);return null===n?null:(n=JSON.parse(n),n&&"object"==typeof n?n:null)}getParsedItem(e){const t=this.getKeyNameForSharedItem(e);let n=window.localStorage.getItem(t);if(n)try{const e=JSON.parse(n);null!=e&&(n=e)}catch(i){}return n}getParsedItemForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);let n=window.localStorage.getItem(t);if(n)try{const e=JSON.parse(n);null!=e&&(n=e)}catch(i){}return n}forEachKeyName(e=(e,t)=>{}){Object.keys(window.localStorage).forEach(e)}_getCacheMap(e){if(!this._cacheMaps[e]){let n=new Map,i=window.localStorage.getItem(e);if(i)try{n=JSON.parse(i).reduce(((e,t)=>{const[n,i]=t;return e.set(n,i),e}),n)}catch(t){}this._cacheMaps[e]=n}return this._cacheMaps[e]}_flushAndSaveToStorageReal(e){const t=this._getCacheMap(e),n=[];t.forEach(((e,t)=>{n.push([t,e])})),window.localStorage.setItem(e,JSON.stringify(n))}addEntryToCacheMap(e,t,n=p){const i=this.getKeyNameForSharedItem(n);this._getCacheMap(i).set(e,t),this._flushAndSaveToStorage(i)}addEntryToCacheMapForCurrentUser(e,t,n=p){const i=this.getKeyNameForCurrentUser(n);this._getCacheMap(i).set(e,t),this._flushAndSaveToStorage(i)}deleteEntryFromCacheMap(e,t=p){const n=this.getKeyNameForSharedItem(t);this._getCacheMap(n).delete(e),this._flushAndSaveToStorage(n)}deleteEntryFromCacheMapForCurrentUser(e,t=p){const n=this.getKeyNameForCurrentUser(t);this._getCacheMap(n).delete(e),this._flushAndSaveToStorage(n)}getEntryOfCacheMap(e,t=p){const n=this.getKeyNameForSharedItem(t);return this._getCacheMap(n).get(e)||null}getEntryOfCacheMapForCurrentUser(e,t=p){const n=this.getKeyNameForCurrentUser(t);return this._getCacheMap(n).get(e)||null}forEachEntryOfCacheMap(e,t=p){const n=this.getKeyNameForSharedItem(t);this._getCacheMap(n).forEach(e)}forEachEntryOfCacheMapForCurrentUser(e,t=p){const n=this.getKeyNameForCurrentUser(t);this._getCacheMap(n).forEach(e)}getCacheMapSize(e=p){const t=this.getKeyNameForSharedItem(e);return this._getCacheMap(t).size}getCacheMapSizeForCurrentUser(e=p){const t=this.getKeyNameForCurrentUser(e);return this._getCacheMap(t).size}hasCacheMap(e){const t=this.getKeyNameForSharedItem(e);return void 0!==this._cacheMaps[t]}hasCacheMapForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return void 0!==this._cacheMaps[t]}checkExist(e){const t=this.getKeyNameForSharedItem(e);return null!==window.localStorage.getItem(t)}checkExistForCurrentUser(e){const t=this.getKeyNameForCurrentUser(e);return null!==window.localStorage.getItem(t)}isUserScopedKeyOfCurrentUser(e){return e.startsWith(`${this.userScopedPrefix}_`)}getKeySignatureOfUserScopedKeyOfCurrentUser(e){if(!this.isUserScopedKeyOfCurrentUser(e))throw new Error(`${e} doesn't belong to the current user`);const t=`^${this.userScopedPrefix}_`,n=new RegExp(t,"g");return e.replace(n,"")}encryptValue(e){if("string"!=typeof e)throw new Error("SecureLocalStorage cannot encrypt non string value");if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return`${g}_${this._encryptFn(e,this.secretKey)}`}decryptValue(e){if("string"!=typeof e)throw new Error("SecureLocalStorage cannot decrypt non string value");if(null===this.secretKey)throw new Error("SecureLocalStorage instance hasn't been initialized yet!");return e=e.slice(`${g}_`.length),this._decryptFn(e,this.secretKey)}}).instance=null,f=h))||f)||f)||f},igRa:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i=function(e){return e.FPS="receive-fps",e.DROP_FPS="drop-fps",e.TOGGLE_FPS_FALLING="toggle-fps-falling-recorder",e.VISUALIZE_INFO="visualize-info",e}({})},ipeT:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("VTBJ"),o=n("jDHv"),s=n("UK4g"),a=n("YEoC"),r=n("DI/x"),d=n("YZti"),c=n("MRjZ"),l=n("rvru");class m{constructor(e,t,n=0,i,o){this.database=e,this.tableConfig=t,this.transaction=n,this.doQuery=i,this.databaseConfig=o,this.bindedIndex=void 0}get name(){return this.tableConfig.name}queryBuilderReject(e,t){const n={method:d.c.getTypeName(t.type),database:t.database,table:t.table,step:t.meta.step,partition:t.meta.partitionKey,trans:t.transaction,deadline:t.meta.timeout},i=Object(c.a)(n);e.message+=` (${i})`;return o.ModuleContainer.resolve(l.a).sendDBErrorQos(e),Promise.reject(e)}index(e){if(e==this.bindedIndex)return this;if(this.bindedIndex){const t=`Attempt to bind '${e}' to already-binded '${this.bindedIndex}' index`;throw new r.A("index",t)}const t=new m(this.database,this.tableConfig,this.transaction,this.doQuery,this.databaseConfig);return t.bindedIndex=e,t}clear(){return this.doQuery({trace:(...e)=>{},type:a.d.Clear,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:a.c.BLOCKING,retry:s.i,timing:{},meta:{databaseConfig:this.databaseConfig,error:new Error,dead:!1,step:-1}})}get(e,t={}){const n={trace:(...e)=>{},type:a.d.Get,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{key:e,index:this.bindedIndex||t.index||"primary"}};if(this.tableConfig.isNonFieldlikeEntity)return this.queryBuilderReject(new r.A("get","This method cannot be performed on non-fieldlike table!"),n);return this.doQuery(n)}getMulti(e,t={}){const n={trace:(...e)=>{},type:a.d.GetMulti,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:this.bindedIndex||t.index||"primary",keys:e,onValue:t.onValue}};return this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("getMulti","This method cannot be performed on non-fieldlike table!"),n):this.doQuery(n)}getAll(e,t={}){const n=u(t.limit),i={trace:(...e)=>{},type:a.d.GetAll,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:this.bindedIndex||t.index||"primary",range:e,limit:n,direction:t.direction||a.b.NEXT,filter:t.filter,predicate:t.predicate,aborted:t.aborted,onValue:t.onValue,onProgress:t.onProgress,advance:t.advance,stepCount:t.stepCount}};return this.tableConfig.isNonFieldlikeEntity&&e?this.queryBuilderReject(new r.A("getAll","'getAll()' with range cannot be performed on non-fieldlike table!"),i):this.doQuery(i)}getAllKey(e,t={}){const n=u(t.limit),i={trace:(...e)=>{},type:a.d.GetAllKey,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:this.bindedIndex||t.index||"primary",range:e,limit:n,direction:t.direction||a.b.NEXT}};return this.tableConfig.isNonFieldlikeEntity&&e?this.queryBuilderReject(new r.A("getAllKey","'getAllKey()' with range cannot be performed on non-fieldlike table!"),i):this.doQuery(i)}getAndUpdate(e,t={}){const n={trace:(...e)=>{},type:a.d.GetAndUpdate,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:this.bindedIndex||t.index||"primary",key:e,updater:e=>e,ignoreNotFound:!1!==t.filterNotFound}};return t.updater?(n.params=Object(i.a)(Object(i.a)({},n.params),{},{updater:t.updater}),this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("getAndUpdate","This method cannot be performed on non-fieldlike table!"),n):this.doQuery(n)):this.queryBuilderReject(new r.n("'updater' option is required!"),n)}insert(e,t={}){const n={trace:(...e)=>{},type:a.d.Insert,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{replace:!1!==t.replace,value:e}};if(Array.isArray(e))return this.queryBuilderReject(new r.A("insert","Receive an array as input! Please use 'insertMulti' instead!"),n);return this.doQuery(n)}put(e,t={}){throw new r.A("put","This method is legacy! Please use 'insert' instead")}insertMulti(e,t={}){const n={trace:(...e)=>{},type:a.d.InsertMulti,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{replace:!1!==t.replace,values:e}};return Array.isArray(e)?1===e.length?this.insert(e[0],t).then((e=>({success:[e],fail:[]}))).catch((()=>({success:[],fail:[e[0]]}))):this.doQuery(n):this.queryBuilderReject(new r.A("insertMulti","Receive a non-array value as input! Please use 'insert' instead!"),n)}update(e,t={}){const n={trace:(...e)=>{},type:a.d.Update,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:"primary",key:e,attributes:[],value:{},ignoreNotFound:!0===t.ignoreNotFound}};return t.value&&t.attributes?(n.params=Object(i.a)(Object(i.a)({},n.params),{},{attributes:t.attributes,value:t.value}),this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("update","This method cannot be performed on non-fieldlike table!"),n):this.doQuery(n)):this.queryBuilderReject(new r.n(`'${t.value?"attributes":"value"}' option is required!`),n)}updateMulti(e={}){const t={trace:(...e)=>{},type:a.d.UpdateMulti,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:e.priority||a.c.NON_BLOCKING,retry:e.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:e.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{patches:e.patches||[],ignoreNotFound:!0===e.ignoreNotFound}};return this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("updateMulti","This method cannot be performed on non-fieldlike table!"),t):this.doQuery(t)}delete(e,t={}){const n={trace:(...e)=>{},type:a.d.Delete,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{key:e,index:this.bindedIndex||t.index||"primary"}};return this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("delete","This method cannot be performed on non-fieldlike table!"),n):this.doQuery(n)}remove(e,t={}){throw new r.A("remove","This method is legacy. Please use 'delete' instead!")}deleteMulti(e,t={}){const n={trace:(...e)=>{},type:a.d.DeleteMulti,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{keys:e,index:this.bindedIndex||t.index||"primary"}};return this.tableConfig.isNonFieldlikeEntity?this.queryBuilderReject(new r.A("deleteMulti","This method cannot be performed on non-fieldlike table!"),n):this.doQuery(n)}findAndDelete(e,t={}){const n={trace:(...e)=>{},type:a.d.FindAndDelete,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{range:e,filter:t.filter,index:this.bindedIndex||t.index||"primary"}};return this.tableConfig.isNonFieldlikeEntity&&e?this.queryBuilderReject(new r.A("findAndDelete","'findAndDelete()' with range cannot be performed on non-fieldlike table!"),n):this.doQuery(n)}count(e,t={}){const n={trace:(...e)=>{},type:a.d.Count,database:this.database,table:this.tableConfig.name,transaction:this.transaction,priority:t.priority||a.c.NON_BLOCKING,retry:t.retry||s.i,timing:{},meta:{databaseConfig:this.databaseConfig,partitionKey:t.partition,error:new Error,timeout:s.l,step:-1,dead:!1},params:{index:this.bindedIndex||t.index||"primary",range:e}};return this.tableConfig.isNonFieldlikeEntity&&e?this.queryBuilderReject(new r.A("count","'count()' with range cannot be performed on non-fieldlike table!"),n):this.doQuery(n)}get isNonFieldlikeEntity(){return this.tableConfig.isNonFieldlikeEntity}getIndexConfig(e){return this.tableConfig.getIndex(e)}}function u(e){let t=e||s.h;return t>s.h&&(t=s.h),t}},jDHv:function(e,t,n){"use strict";n.r(t),n.d(t,"define",(function(){return o})),n.d(t,"Container",(function(){return s})),n.d(t,"ModuleContainer",(function(){return a})),n.d(t,"autoInjectable",(function(){return r})),n.d(t,"injectable",(function(){return d})),n.d(t,"inject",(function(){return c})),n.d(t,"singleton",(function(){return l}));var i=n("S8fy");n("h6tn");function o(e){return{service:e,token:e}}class s{constructor(){this.inject=e=>i.d(e.token),this.injectToken=e=>i.d(e),this.singleton=i.h,this.injectable=i.e,this.register=(e,t)=>{i.c.register(e.token,{useClass:t}),this.hookAfferResolution(e)},this.registerValue=(e,t)=>{i.c.register(e.token,{useValue:t}),this.hookAfferResolution(e)},this.registerSingleton=(e,t)=>{i.c.registerSingleton(t),i.c.register(e.token,{useFactory:e=>e.resolve(t)}),this.hookAfferResolution(e)},this.registerFactory=(e,t)=>{i.c.register(e.token,{useFactory:t}),this.hookAfferResolution(e)},this.resolve=e=>i.c.resolve(e.token),this.resolveToken=e=>i.c.resolve(e),this.resolveAll=e=>i.c.resolveAll(e.token),this.resolveIfExist=e=>{try{return i.c.resolve(e.token)}catch(t){return}}}hookAfferResolution(e){}}const a=new s,r=i.b,d=i.e,c=e=>i.d(e.token);function l(e){return function(t){e?a.registerSingleton(e,t):a.singleton()(t)}}},jGDt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("zlog-session")},jvA1:function(e,t,n){"use strict";n("x9oK"),n("UJ0r"),n("3wcW"),n("X2RP")},k6Bk:function(e,t){},kFM4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i={RunMode:n("YEoC").e.Unknown};function o(e,t){i[e]=t}},kQx2:function(e,t,n){"use strict";function i(){var e;return"function"==typeof(null===globalThis||void 0===globalThis||null===(e=globalThis.performance)||void 0===e?void 0:e.now)?globalThis.performance.now():Date.now()}n.d(t,"a",(function(){return i}))},kTC5:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("jDHv");let o=function(e){return e[e.RECENT_SEARCH=0]="RECENT_SEARCH",e[e.SEARCH_RESULT=1]="SEARCH_RESULT",e}({});const s="search-controller",a=Object(i.define)(s)},oRsZ:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d=new a.d({tableName:"avatar",name:"Avatar",fields:{userId:{name:"userId",type:o.g.string},url:{name:"url",type:o.g.string},blob:{name:"blob",type:o.g.blob}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),c=new a.d({tableName:"ava_history",name:"AvaHistory",fields:{submit_dttm:{name:"submit_dttm",type:o.g.integer},avaBlob:{name:"avaBlob",type:o.g.blob},orient:{name:"orient",type:o.g.json},size:{name:"size",type:o.g.json},fileName:{name:"fileName",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"submit_dttm"}],unique:!0}}}),l=new a.d({tableName:"board_suggest",name:"BoardSuggest",fields:{groupId:{name:"groupId",type:o.g.string},actionId:{name:"actionId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"groupId"},{type:"raw",field:"actionId"}],unique:!0}}}),m=new a.d({tableName:"catalog_db",name:"CatalogDb",fields:{ownerId:{name:"ownerId",type:o.g.string},isDefault:{name:"isDefault",type:o.g.boolean},created_time:{name:"created_time",type:o.g.integer},catalog_id:{name:"catalog_id",type:o.g.string},catalog_name:{name:"catalog_name",type:o.g.string},version_catalog:{name:"version_catalog",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"catalog_id"}],unique:!0}}}),u=new a.d({tableName:"cloud_segment",name:"CloudSegment",fields:{cloudFirstSmsLocalId:{name:"cloudFirstSmsLocalId",type:o.g.string,nullable:!0},cloudSegmentCheck:{name:"cloudSegmentCheck",type:o.g.json,default:[]},cloudSegmentCheckAutoFetch:{name:"cloudSegmentCheckAutoFetch",type:o.g.json,default:[]},conversationId:{name:"conversationId",type:o.g.string},hasMore:{name:"hasMore",type:o.g.integer,default:1},lastCloudVerifiedDttm:{name:"lastCloudVerifiedDttm",type:o.g.integer,nullable:!0},lastDeletedMsgID:{name:"lastDeletedMsgID",type:o.g.integer,nullable:!0},lastGetMaxRecentTs:{name:"lastGetMaxRecentTs",type:o.g.integer,nullable:!0},maxCloudMsgId:{name:"maxCloudMsgId",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}});var p=n("4W2c");const g=new a.d({tableName:"conversation",name:"Conversation",fields:{userId:{name:"userId",type:o.g.string},localType:{name:"localType",type:o.g.integer,nullable:!0},outside:{name:"outside",type:o.g.integer,nullable:!0},isGroup:{name:"isGroup",type:o.g.boolean,nullable:!0},firstSmsLocalId:{name:"firstSmsLocalId",type:o.g.string,nullable:!0},respondedByMe:{name:"respondedByMe",type:o.g.boolean,nullable:!0},numMsg:{name:"numMsg",type:o.g.integer,nullable:!0},infoCheckSearch:{name:"infoCheckSearch",type:o.g.json,nullable:!0},syncFromMobile:{name:"syncFromMobile",type:o.g.boolean,nullable:!0},lastActionId:{name:"lastActionId",type:o.g.string,nullable:!0},lastSmsLocalId:{name:"lastSmsLocalId",type:o.g.string,nullable:!0},topOut:{name:"topOut",type:o.g.string,nullable:!0},topOutImprTimeOut:{name:"topOutImprTimeOut",type:o.g.string,nullable:!0},topOutTimeOut:{name:"topOutTimeOut",type:o.g.string,nullable:!0},pinned:{name:"pinned",type:o.g.integer,nullable:!0},label:{name:"label",type:o.g.integer,nullable:!0},preLastSmsLocalId:{name:"preLastSmsLocalId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}});g.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new p.a(["previewMessage"])]});const f=new a.d({tableName:"download_retry",name:"DownloadRetry",fields:{url:{name:"url",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"url"}],unique:!0}}}),h=new a.d({tableName:"e2ee_group",name:"E2eeGroup",fields:{id:{name:"id",type:o.g.string},sessions:{name:"sessions",type:o.g.json,nullable:!0},sessionsInfo:{name:"sessionsInfo",type:o.g.json,nullable:!0},enabledGroups:{name:"enabledGroups",type:o.g.json,nullable:!0},refetchedUsers:{name:"refetchedUsers",type:o.g.json,nullable:!0},rqdReinitGroups:{name:"rqdReinitGroups",type:o.g.json,nullable:!0},rqdResetKey:{name:"rqdResetKey",type:o.g.json,nullable:!0},staleUsers:{name:"staleUsers",type:o.g.json,nullable:!0},ts:{name:"ts",type:o.g.integer,nullable:!0},cipherId:{name:"cipherId",type:o.g.string,nullable:!0},resetKeyAt:{name:"resetKeyAt",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});h.setAdapterSpecificConfigs(o.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"},{type:"add-column",params:{columns:["cipherId","rqdResetKey"]}}]},60:{version:60,scripts:[{type:"add-column",params:{columns:["resetKeyAt"]}}]}}});const b=new a.d({tableName:"e2ee_hash",name:"E2eeHash",fields:{sha256:{name:"sha256",type:o.g.string},ts:{name:"ts",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"sha256"}],unique:!0}}});b.setAdapterSpecificConfigs(o.a.IDB,{migrations:{53:{version:53,scripts:[{type:"create-table"}]}}});const y=new a.d({tableName:"e2ee_identity",name:"E2eeIdentity",fields:{keyId:{name:"keyId",type:o.g.string},keyPair:{name:"keyPair",type:o.g.json},ts:{name:"ts",type:o.g.integer,nullable:!0},regId:{name:"regId",type:o.g.integer,nullable:!0},version:{name:"version",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0}}});y.setAdapterSpecificConfigs(o.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"}]}}});const I=new a.d({tableName:"e2ee_meta",name:"E2eeMeta",fields:{identifier:{name:"identifier",type:o.g.string},devices:{name:"devices",type:o.g.json},errorInitAll:{name:"errorInitAll",type:o.g.boolean,nullable:!0},waiting:{name:"waiting",type:o.g.boolean,nullable:!0},upgrading:{name:"upgrading",type:o.g.boolean,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"identifier"}],unique:!0}}}),v=new a.d({tableName:"e2ee_prekey",name:"E2eePrekey",fields:{keyId:{name:"keyId",type:o.g.integer},keyPair:{name:"keyPair",type:o.g.json},ts:{name:"ts",type:o.g.integer,nullable:!0},regId:{name:"regId",type:o.g.integer,nullable:!0},version:{name:"version",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0},regId:{name:"regId",fields:[{type:"raw",field:"regId"}],unique:!1}}});v.setAdapterSpecificConfigs(o.a.IDB,{migrations:{55:{version:55,scripts:[{type:"add-column",params:{columns:["ts","regId","version"]}},{type:"create-index",params:{indexName:"regId"}}]}}});const M=new a.d({tableName:"e2ee_session",name:"E2eeSession",fields:{identifier:{name:"identifier",type:o.g.string},record:{name:"record",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"identifier"}],unique:!0}}}),P=new a.d({tableName:"e2ee_signed_prekey",name:"E2eeSignedPrekey",fields:{keyId:{name:"keyId",type:o.g.integer},keyPair:{name:"keyPair",type:o.g.json},ts:{name:"ts",type:o.g.integer,nullable:!0},regId:{name:"regId",type:o.g.integer,nullable:!0},version:{name:"version",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"keyId"}],unique:!0}}});P.setAdapterSpecificConfigs(o.a.IDB,{migrations:{55:{version:55,scripts:[{type:"create-table"}]}}});const w=new a.d({tableName:"file",name:"File",fields:{msgId:{name:"msgId",type:o.g.string},userId:{name:"userId",type:o.g.string},message:{name:"message",type:o.g.json},sendDttm:{name:"sendDttm",type:o.g.integer},fromUid:{name:"fromUid",type:o.g.string,nullable:!0},type:{name:"type",type:o.g.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.string,nullable:!0},id:{name:"id",type:o.g.integer,nullable:!0},updateTime:{name:"updateTime",type:o.g.integer,nullable:!0},localPath:{name:"localPath",type:o.g.string,nullable:!0},downloadError:{name:"downloadError",type:o.g.boolean,nullable:!0},folderPath:{name:"folderPath",type:o.g.string,nullable:!0},dimension:{name:"dimension",type:o.g.json,nullable:!0},previewThumb:{name:"previewThumb",nullable:!0,type:o.g.string},ttl:{name:"ttl",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},sendDttm:{name:"sendDttm",fields:[{type:"raw",field:"sendDttm"}],unique:!1},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),_=new a.d({tableName:"friend",name:"Friend",fields:{userId:{name:"userId",type:o.g.string},username:{name:"username",type:o.g.string,nullable:!0},displayName:{name:"displayName",type:o.g.string},zaloName:{name:"zaloName",type:o.g.string},avatar:{name:"avatar",type:o.g.string},bgavatar:{name:"bgavatar",type:o.g.string,nullable:!0},cover:{name:"cover",type:o.g.string,nullable:!0},gender:{name:"gender",type:o.g.integer,nullable:!0},dob:{name:"dob",type:o.g.integer,nullable:!0},sdob:{name:"sdob",type:o.g.string,nullable:!0},status:{name:"status",type:o.g.string,nullable:!0},phoneNumber:{name:"phoneNumber",type:o.g.string,nullable:!0},isFr:{name:"isFr",type:o.g.integer},isBlocked:{name:"isBlocked",type:o.g.boolean,nullable:!0},lastActionTime:{name:"lastActionTime",type:o.g.integer,nullable:!0},lastUpdateTime:{name:"lastUpdateTime",type:o.g.integer,nullable:!0},isActive:{name:"isActive",type:o.g.integer,nullable:!0},key:{name:"key",type:o.g.integer,nullable:!0},type:{name:"type",type:o.g.integer},isActivePC:{name:"isActivePC",type:o.g.integer,nullable:!0},isActiveWeb:{name:"isActiveWeb",type:o.g.integer,nullable:!0},isValid:{name:"isValid",type:o.g.integer,nullable:!0},userKey:{name:"userKey",type:o.g.string,nullable:!0},accountStatus:{name:"accountStatus",type:o.g.integer,nullable:!0},oaInfo:{name:"oaInfo",type:o.g.json,nullable:!0},user_mode:{name:"user_mode",type:o.g.integer,nullable:!0},globalId:{name:"globalId",type:o.g.string,nullable:!0},createdTs:{name:"createdTs",type:o.g.integer,nullable:!0},lastOnlineTime:{name:"lastOnlineTime",type:o.g.integer,nullable:!0},_lastRequestTime:{name:"_lastRequestTime",type:o.g.integer,nullable:!0},bizInfo:{name:"bizInfo",type:o.g.json,nullable:!0},globalNoiseId:{name:"globalNoiseId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),T=new a.d({tableName:"friends_info",name:"FriendsInfo",fields:{userId:{name:"userId",type:o.g.string},username:{name:"username",type:o.g.string,nullable:!0},displayName:{name:"displayName",type:o.g.string},zaloName:{name:"zaloName",type:o.g.string},avatar:{name:"avatar",type:o.g.string},bgavatar:{name:"bgavatar",type:o.g.string},cover:{name:"cover",type:o.g.string},gender:{name:"gender",type:o.g.integer},dob:{name:"dob",type:o.g.integer},sdob:{name:"sdob",type:o.g.string},status:{name:"status",type:o.g.string,nullable:!0},phoneNumber:{name:"phoneNumber",type:o.g.string},isFr:{name:"isFr",type:o.g.integer},isBlocked:{name:"isBlocked",type:o.g.boolean},lastActionTime:{name:"lastActionTime",type:o.g.integer,nullable:!0},lastUpdateTime:{name:"lastUpdateTime",type:o.g.integer},isActive:{name:"isActive",type:o.g.integer},key:{name:"key",type:o.g.integer},type:{name:"type",type:o.g.integer},isActivePC:{name:"isActivePC",type:o.g.integer},isActiveWeb:{name:"isActiveWeb",type:o.g.integer},isValid:{name:"isValid",type:o.g.integer},userKey:{name:"userKey",type:o.g.string},accountStatus:{name:"accountStatus",type:o.g.integer},oaInfo:{name:"oaInfo",type:o.g.json,nullable:!0},user_mode:{name:"user_mode",type:o.g.integer},globalId:{name:"globalId",type:o.g.string,nullable:!0},createdTs:{name:"createdTs",type:o.g.integer,nullable:!0},lastOnlineTime:{name:"lastOnlineTime",type:o.g.integer,nullable:!0},friendRequestFetchTime:{name:"friendRequestFetchTime",type:o.g.integer,nullable:!0},friendRequestRead:{name:"friendRequestRead",type:o.g.boolean,nullable:!0},_lastRequestTime:{name:"_lastRequestTime",type:o.g.integer,nullable:!0},friendRequestMsg:{name:"friendRequestMsg",type:o.g.string,nullable:!0},friendRequestSource:{name:"friendRequestSource",type:o.g.integer,nullable:!0},friendRequestType:{name:"friendRequestType",type:o.g.integer,nullable:!0},friendRequestSrc:{name:"friendRequestSrc",type:o.g.integer,nullable:!0},friendRequestSortOrder:{name:"friendRequestSortOrder",type:o.g.integer,nullable:!0},userRank:{name:"userRank",type:o.g.string,nullable:!0},bizPkg:{name:"bizPkg",type:o.g.json,nullable:!0},bizInfo:{name:"bizInfo",type:o.g.json,nullable:!0},globalNoiseId:{name:"globalNoiseId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),S=new a.d({tableName:"global_noiseid",name:"GlobalNoiseid",fields:{userId:{name:"userId",type:o.g.string},globalId:{name:"globalId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalId"}],unique:!0}}}),C=new a.d({tableName:"group",name:"Group",fields:{desc:{name:"desc",type:o.g.string},type:{name:"type",type:o.g.integer},creatorId:{name:"creatorId",type:o.g.string},totalMember:{name:"totalMember",type:o.g.integer},topMember:{name:"topMember",type:o.g.json},topic:{name:"topic",type:o.g.json,nullable:!0},visibility:{name:"visibility",type:o.g.integer},userId:{name:"userId",type:o.g.string},isGroup:{name:"isGroup",type:o.g.boolean},displayName:{name:"displayName",type:o.g.string},avatar:{name:"avatar",type:o.g.string},bgavatar:{name:"bgavatar",type:o.g.string},authorId:{name:"authorId",type:o.g.string,nullable:!0},lastUpdate:{name:"lastUpdate",type:o.g.integer,nullable:!0},defaultAvatar:{name:"defaultAvatar",type:o.g.boolean,nullable:!0},memberIds:{name:"memberIds",type:o.g.json,nullable:!0},e2ee:{name:"e2ee",type:o.g.integer,nullable:!0},version:{name:"version",type:o.g.string,nullable:!0},subType:{name:"subType",type:o.g.integer,nullable:!0},globalId:{name:"globalId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),q=new a.d({tableName:"group_info",name:"GroupInfo",fields:{memberIds:{name:"memberIds",type:o.g.json},maxMember:{name:"maxMember",type:o.g.integer},setting:{name:"setting",type:o.g.json},lastUpdate:{name:"lastUpdate",type:o.g.integer},topMember:{name:"topMember",type:o.g.json},pendingApproveHintShow:{name:"pendingApproveHintShow",type:o.g.integer,nullable:!0},pendingApproveUsers:{name:"pendingApproveUsers",type:o.g.json,nullable:!0},userId:{name:"userId",type:o.g.string},pendingApprove:{name:"pendingApprove",type:o.g.integer,nullable:!0},adminIds:{name:"adminIds",type:o.g.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"userId"}],unique:!0}}}),R=new a.d({tableName:"group_topics",name:"GroupTopics",fields:{conversationId:{name:"conversationId",type:o.g.string},topics:{name:"topics",type:o.g.json},boardVersion:{name:"boardVersion",type:o.g.integer},lastFetch:{name:"lastFetch",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}}),D=new a.d({tableName:"image",name:"Image",fields:{msgId:{name:"msgId",type:o.g.string},userId:{name:"userId",type:o.g.string},message:{name:"message",type:o.g.json},sendDttm:{name:"sendDttm",type:o.g.integer},fromUid:{name:"fromUid",type:o.g.string,nullable:!0},subType:{name:"subType",type:o.g.integer,nullable:!0},type:{name:"type",type:o.g.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.string,nullable:!0},localPath:{name:"localPath",type:o.g.string,nullable:!0},id:{name:"id",type:o.g.integer,nullable:!0},previewThumb:{name:"previewThumb",type:o.g.string,nullable:!0},updateTime:{name:"updateTime",type:o.g.integer,nullable:!0},ttl:{name:"ttl",type:o.g.integer},width:{name:"width",type:o.g.integer,nullable:!0},height:{name:"height",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),A=new a.d({tableName:"label",name:"Label",fields:{color:{name:"color",type:o.g.string},createTime:{name:"createTime",type:o.g.integer},emoji:{name:"emoji",type:o.g.string},id:{name:"id",type:o.g.integer},conversations:{name:"conversations",type:o.g.json},offset:{name:"offset",type:o.g.integer},text:{name:"text",type:o.g.string},totalImage:{name:"totalImage",type:o.g.integer,nullable:!0},textKey:{name:"textKey",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),N=new a.d({tableName:"link",name:"Link",fields:{msgId:{name:"msgId",type:o.g.string},userId:{name:"userId",type:o.g.string},message:{name:"message",type:o.g.json},sendDttm:{name:"sendDttm",type:o.g.integer},fromUid:{name:"fromUid",type:o.g.string,nullable:!0},type:{name:"type",type:o.g.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.string,nullable:!0},id:{name:"id",type:o.g.integer,nullable:!0},updateTime:{name:"updateTime",type:o.g.integer,nullable:!0},ttl:{name:"ttl",type:o.g.integer},previewThumb:{name:"previewThumb",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"userId"},{type:"length",field:"msgId"},{type:"raw",field:"msgId"}],unique:!1}}}),E=new a.d({tableName:"mention",name:"Mention",fields:{msgId:{name:"msgId",type:o.g.integer},userId:{name:"userId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0}}});const x=new a.d({tableName:"message",name:"Message",fields:{msgId:{name:"msgId",type:o.g.string},cliMsgId:{name:"cliMsgId",type:o.g.string},toUid:{name:"toUid",type:o.g.string,nullable:!0},msgType:{name:"msgType",type:o.g.integer},sendDttm:{name:"sendDttm",type:o.g.string},message:{name:"message",type:o.g.json},updateMemberIds:{name:"updateMemberIds",type:o.g.json,nullable:!0},act:{name:"act",type:o.g.string,nullable:!0},action:{name:"action",type:o.g.string,nullable:!0},eventInfo:{name:"eventInfo",type:o.g.json,nullable:!0},zglobalMsgId:{name:"zglobalMsgId",type:o.g.string,nullable:!0},src:{name:"src",type:o.g.integer,nullable:!0},status:{name:"status",type:o.g.integer,nullable:!0},notify:{name:"notify",type:o.g.string,nullable:!0},mentions:{name:"mentions",type:o.g.json,nullable:!0},quote:{name:"quote",type:o.g.json,nullable:!0},serverTime:{name:"serverTime",type:o.g.string,nullable:!0},fromUid:{name:"fromUid",type:o.g.string,nullable:!0},dName:{name:"dName",type:o.g.string,nullable:!0},localDttm:{name:"localDttm",type:o.g.integer,nullable:!0},ttl:{name:"ttl",type:o.g.integer,nullable:!0},st:{name:"st",type:o.g.integer,nullable:!0},at:{name:"at",type:o.g.integer,nullable:!0},cmd:{name:"cmd",type:o.g.integer,nullable:!0},originMsgType:{name:"originMsgType",type:o.g.string,nullable:!0},subState:{name:"subState",type:o.g.integer,nullable:!0},e2eeStatus:{name:"e2eeStatus",type:o.g.integer,nullable:!0},sequenseId:{name:"sequenseId",type:o.g.integer,nullable:!0},isLocalMsgId:{name:"isLocalMsgId",type:o.g.boolean,nullable:!0},properties:{name:"properties",type:o.g.json,nullable:!0},originTs:{name:"originTs",type:o.g.string,nullable:!0},subType:{name:"subType",type:o.g.integer,nullable:!0},localPath:{name:"localPath",type:o.g.string,nullable:!0},folderPath:{name:"folderPath",type:o.g.string,nullable:!0},root:{name:"root",type:o.g.integer,nullable:!0},syncFromMobile:{name:"syncFromMobile",type:o.g.boolean,nullable:!0},topOut:{name:"topOut",type:o.g.string,nullable:!0},topOutTimeOut:{name:"topOutTimeOut",type:o.g.string,nullable:!0},topOutImprTimeOut:{name:"topOutImprTimeOut",type:o.g.string,nullable:!0},previewThumb:{name:"previewThumb",type:o.g.string,nullable:!0},refMessageId:{name:"refMessageId",type:o.g.string,nullable:!0},urgency:{name:"urgency",type:o.g.integer,nullable:!0},dimension:{name:"dimension",type:o.g.json,nullable:!0},extra:{name:"extra",type:o.g.json,nullable:!0},_friendRequestData:{name:"_friendRequestData",type:o.g.json,nullable:!0},content:{name:"content",type:o.g.string,nullable:!0},isErrorInfo:{name:"isErrorInfo",type:o.g.boolean,nullable:!0},hasReact:{name:"hasReact",type:o.g.boolean,nullable:!0},uidSenderDel:{name:"uidSenderDel",type:o.g.string,nullable:!0},footer:{name:"footer",type:o.g.json,nullable:!0},sendErrorCode:{name:"sendErrorCode",type:o.g.integer,nullable:!0},__isUpdateMessage:{name:"__isUpdateMessage",type:o.g.boolean,nullable:!0},__updateData:{name:"__updateData",type:o.g.json,nullable:!0},width:{name:"width",type:o.g.integer,nullable:!0},height:{name:"height",type:o.g.integer,nullable:!0},zipKey:{name:"zipKey",type:o.g.string,nullable:!0},resend:{name:"resend",type:o.g.json,nullable:!0},cancelled:{name:"cancelled",type:o.g.boolean,nullable:!0},z_parsedTokens:{name:"z_parsedTokens",type:o.g.json,nullable:!0},isLastMsg:{name:"isLastMsg",type:o.g.boolean,nullable:!0},isSelected:{name:"isSelected",type:o.g.boolean,nullable:!0},textArguments:{name:"textArguments",type:o.g.json,nullable:!0},msgText:{name:"msgText",type:o.g.string,nullable:!0},actionText:{name:"actionText",type:o.g.string,nullable:!0},platformType:{name:"platformType",type:o.g.integer,nullable:!0},oldMsgId:{name:"oldMsgId",type:o.g.string,nullable:!0},vOrient:{name:"vOrient",type:o.g.integer,nullable:!0},fileSize:{name:"fileSize",type:o.g.integer,nullable:!0},upSrc:{name:"upSrc",type:o.g.integer,nullable:!0},reader:{name:"reader",type:o.g.integer,nullable:!0},sequenceId:{name:"sequenceId",type:o.g.integer,nullable:!0},staredDttm:{name:"staredDttm",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},userId_sendDttm_msgId:{name:"userId_sendDttm_msgId",fields:[{type:"raw",field:"toUid"},{type:"raw",field:"sendDttm"},{type:"raw",field:"msgId"}],unique:!0},cliMsgIdIndex:{name:"cliMsgIdIndex",table:!0,fields:[{type:"raw",field:"cliMsgId"}],unique:!1},status_sendDttm:{name:"status_sendDttm",table:!0,fields:[{type:"raw",field:"status"},{type:"raw",field:"sendDttm"}],unique:!1}}});x.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new p.a(["message"])]}),x.setAdapterSpecificConfigs(o.a.SQLite,{partitionField:"toUid"});const O=new a.d({tableName:"notifications",name:"Notifications",fields:{type:{name:"type",type:o.g.integer},uid:{name:"uid",type:o.g.string},ts:{name:"ts",type:o.g.integer},toUid:{name:"toUid",type:o.g.string,nullable:!0},msgId:{name:"msgId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"ts"}],unique:!0}}}),B=new a.d({tableName:"poll",name:"Poll",fields:{group_id:{name:"group_id",type:o.g.string,nullable:!0},updater:{name:"updater",type:o.g.string,nullable:!0},creator:{name:"creator",type:o.g.string},question:{name:"question",type:o.g.string},options:{name:"options",type:o.g.json},joined:{name:"joined",type:o.g.boolean},closed:{name:"closed",type:o.g.boolean},poll_id:{name:"poll_id",type:o.g.integer},allow_multi_choices:{name:"allow_multi_choices",type:o.g.boolean},allow_add_new_option:{name:"allow_add_new_option",type:o.g.boolean},is_anonymous:{name:"is_anonymous",type:o.g.boolean},poll_type:{name:"poll_type",type:o.g.integer},created_time:{name:"created_time",type:o.g.integer},updated_time:{name:"updated_time",type:o.g.integer},expired_time:{name:"expired_time",type:o.g.integer},is_hide_vote_preview:{name:"is_hide_vote_preview",type:o.g.boolean,nullable:!0},poll_version:{name:"poll_version",type:o.g.integer,nullable:!0},msgId:{name:"msgId",type:o.g.string,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.string,nullable:!0},id:{name:"id",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"poll_id"}],unique:!0}}}),U=new a.d({tableName:"preview_message",name:"PreviewMsg",fields:{convId:{name:"convId",type:o.g.string},msgId:{name:"msgId",type:o.g.string},dName:{name:"dName",type:o.g.string},message:{name:"message",type:o.g.json},messageType:{name:"messageType",type:o.g.json},messageTime:{name:"messageTime",type:o.g.string},isGroup:{name:"isGroup",type:o.g.boolean},fromUid:{name:"fromUid",type:o.g.string,nullable:!0},toUid:{name:"toUid",type:o.g.string,nullable:!0},urgencyLevel:{name:"urgencyLevel",type:o.g.integer,nullable:!0},properties:{name:"properties",type:o.g.json,nullable:!0},mentions:{name:"mentions",type:o.g.json,nullable:!0},ttl:{name:"ttl",type:o.g.integer,nullable:!0},cliMsgId:{name:"cliMsgId",type:o.g.string,nullable:!0},status:{name:"status",type:o.g.integer},substate:{name:"substate",type:o.g.integer,nullable:!0},computedMessage:{name:"computedMessage",type:o.g.string,nullable:!0},computedIcon:{name:"computedIcon",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"}],unique:!0},userId_sendDttm_msgId:{name:"messageTime",fields:[{type:"raw",field:"messageTime"}],unique:!1}}});U.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new p.a(["message"])],migrations:{52:{version:52,scripts:[{type:"create-table"}]}}});const k=new a.d({tableName:"product_db",name:"ProductDb",fields:{price:{name:"price",type:o.g.string},description:{name:"description",type:o.g.string},product_id:{name:"product_id",type:o.g.string},product_name:{name:"product_name",type:o.g.string},currency_unit:{name:"currency_unit",type:o.g.string},product_photos:{name:"product_photos",type:o.g.json},create_time:{name:"create_time",type:o.g.integer},catalog_id:{name:"catalog_id",type:o.g.string},owner_id:{name:"owner_id",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"product_id"}],unique:!0}}}),F=new a.d({tableName:"quick_message",name:"QuickMessage",fields:{id:{name:"id",type:o.g.integer},keyword:{name:"keyword",type:o.g.string},type:{name:"type",type:o.g.integer},createdTime:{name:"createdTime",type:o.g.integer},lastModified:{name:"lastModified",type:o.g.integer},message:{name:"message",type:o.g.string},media:{name:"media",type:o.g.json,nullable:!0},version:{name:"version",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});F.setAdapterSpecificConfigs(o.a.IDB,{transforms:[new p.a(["message"])]});const j=new a.d({tableName:"star_message",name:"StarMessage",fields:{msgId:{name:"msgId",type:o.g.string},userId:{name:"userId",type:o.g.string},staredDttm:{name:"staredDttm",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},staredDttm:{name:"staredDttm",fields:[{type:"raw",field:"staredDttm"}],unique:!1}}}),L=new a.d({tableName:"sticker",name:"Sticker",fields:{id:{name:"id",type:o.g.integer},cateId:{name:"cateId",type:o.g.integer},type:{name:"type",type:o.g.integer},text:{name:"text",type:o.g.string},uri:{name:"uri",type:o.g.string},fkey:{name:"fkey",type:o.g.integer},status:{name:"status",type:o.g.integer},stickerUrl:{name:"stickerUrl",type:o.g.string},stickerSpriteUrl:{name:"stickerSpriteUrl",type:o.g.string},stickerWebpUrl:{name:"stickerWebpUrl",type:o.g.string,nullable:!0},totalFrames:{name:"totalFrames",type:o.g.integer},duration:{name:"duration",type:o.g.integer},effectId:{name:"effectId",type:o.g.integer},checksum:{name:"checksum",type:o.g.string,nullable:!0},ext:{name:"ext",type:o.g.integer,nullable:!0},source:{name:"source",type:o.g.integer,nullable:!0},fss:{name:"fss",type:o.g.string,nullable:!0},fssInfo:{name:"fssInfo",type:o.g.string,nullable:!0},version:{name:"version",type:o.g.integer,nullable:!0},extInfo:{name:"extInfo",type:o.g.json,nullable:!0},fetchTs:{name:"fetchTs",type:o.g.integer},updateState:{name:"updateState",type:o.g.integer,nullable:!0},recentItemType:{name:"recentItemType",type:o.g.string,nullable:!0},recentItemId:{name:"recentItemId",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"cateId"},{type:"raw",field:"id"}],unique:!0}}}),z=new a.d({tableName:"todo",name:"Todo",fields:{id:{name:"id",type:o.g.string},creator:{name:"creator",type:o.g.string},updateTime:{name:"updateTime",type:o.g.integer},createTime:{name:"createTime",type:o.g.integer},assignees:{name:"assignees",type:o.g.json},dueDate:{name:"dueDate",type:o.g.integer},content:{name:"content",type:o.g.string},description:{name:"description",type:o.g.string},extra:{name:"extra",type:o.g.json},dateDefaultType:{name:"dateDefaultType",type:o.g.integer},status:{name:"status",type:o.g.integer},watchers:{name:"watchers",type:o.g.json},personalBoardType:{name:"personalBoardType",type:o.g.integer},dingTimes:{name:"dingTimes",type:o.g.integer},schedule:{name:"schedule",type:o.g.json,nullable:!0},attach:{name:"attach",type:o.g.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),G=new a.d({tableName:"topic_v2",name:"Topic",fields:{editorId:{name:"editorId",type:o.g.string,nullable:!0},emoji:{name:"emoji",type:o.g.string},color:{name:"color",type:o.g.integer},groupId:{name:"groupId",type:o.g.string},creatorId:{name:"creatorId",type:o.g.string,nullable:!0},editTime:{name:"editTime",type:o.g.integer},eventType:{name:"eventType",type:o.g.integer,nullable:!0},responseMem:{name:"responseMem",type:o.g.json,nullable:!0},params:{name:"params",type:o.g.json},type:{name:"type",type:o.g.integer},duration:{name:"duration",type:o.g.integer,nullable:!0},repeatData:{name:"repeatData",type:o.g.json,nullable:!0},createTime:{name:"createTime",type:o.g.integer},repeat:{name:"repeat",type:o.g.integer},startTime:{name:"startTime",type:o.g.integer},id:{name:"id",type:o.g.string},action:{name:"action",type:o.g.integer,nullable:!0},listRespMem:{name:"listRespMem",type:o.g.json,nullable:!0},creatorUid:{name:"creatorUid",type:o.g.string,nullable:!0},toUid:{name:"toUid",type:o.g.string,nullable:!0},editorUid:{name:"editorUid",type:o.g.string,nullable:!0},repeatInfo:{name:"repeatInfo",type:o.g.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"groupId"},{type:"raw",field:"id"}],unique:!0}}}),K=new a.d({tableName:"ttlmsg",name:"TTLMessage",fields:{globalDelMsgId:{name:"globalDelMsgId",type:o.g.string},ts:{name:"ts",type:o.g.string},expired:{name:"expired",type:o.g.integer},type:{name:"type",type:o.g.integer},conversationId:{name:"conversationId",type:o.g.string},clientDelMsgId:{name:"clientDelMsgId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"globalDelMsgId"}],unique:!0},expired:{name:"expired",fields:[{type:"raw",field:"expired"}],unique:!1}}}),H=new a.d({tableName:"unread_conv",name:"UnreadConv",fields:{convId:{name:"convId",type:o.g.string},smsUnreadCount:{name:"smsUnreadCount",type:o.g.integer},smsUnreadNotCount:{name:"smsUnreadNotCount",type:o.g.integer},mentionUnreadCount:{name:"mentionUnreadCount",type:o.g.integer},strangerUnreadCount:{name:"strangerUnreadCount",type:o.g.integer},lastProcessMsgId:{name:"lastProcessMsgId",type:o.g.string},lastSeenReactId:{name:"lastSeenReactId",type:o.g.string},unreadMark:{name:"unreadMark",type:o.g.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"}],unique:!0},userId_sendDttm_msgId:{name:"lastProcessMsgId",fields:[{type:"raw",field:"lastProcessMsgId"}],unique:!1}}});H.setAdapterSpecificConfigs(o.a.IDB,{migrations:{52:{version:52,scripts:[{type:"create-table"}]}}});const V=new a.d({tableName:"uploaded_file_thumb",name:"UploadFileThumb",fields:{checksum:{name:"checksum",type:o.g.string},url:{name:"url",type:o.g.string},dimension:{name:"dimension",type:o.g.json}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"checksum"}],unique:!0}}});new a.d({tableName:"zinstant_db",name:"ZInstant",fields:{data:{name:"data",type:o.g.string},modify_time:{name:"modify_time",type:o.g.integer},key:{name:"key",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}}).setAdapterSpecificConfigs(o.a.IDB,{migrations:{60:{version:60,scripts:[{type:"create-table"}]}}});const Q=new a.d({tableName:"e2ee_deciphered",name:"E2eeDeciphered",fields:{key:{name:"key",type:o.g.string},content:{name:"content",type:o.g.string},ts:{name:"ts",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}});Q.setAdapterSpecificConfigs(o.a.IDB,{migrations:{63:{version:63,scripts:[{type:"create-table"}]}}});const W=new a.d({tableName:"zcloud",name:"ZCloud",fields:{action:{name:"action",type:o.g.integer},noiseId:{name:"noiseId",type:o.g.string},actionType:{name:"actionType",type:o.g.integer},ts:{name:"ts",type:o.g.integer},cliTs:{name:"cliTs",type:o.g.integer},msgInfo:{name:"msgInfo",type:o.g.json},mediaInfo:{name:"mediaInfo",type:o.g.json},verified:{name:"verified",type:o.g.integer,nullable:!0},encryptInfo:{name:"encryptInfo",type:o.g.json,nullable:!0},zKey:{name:"zKey",type:o.g.string,nullable:!0},zDate:{name:"zDate",type:o.g.integer,nullable:!0},zSize:{name:"zSize",type:o.g.integer,nullable:!0},zConv:{name:"zConv",type:o.g.string,nullable:!0},zType:{name:"zType",type:o.g.string,nullable:!0},cloudInfo:{name:"cloudInfo",type:o.g.json,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"noiseId"}],unique:!0},zKey:{name:"zKey",fields:[{type:"raw",field:"zKey"}],unique:!1},zSize:{name:"zSize",fields:[{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zDate:{name:"zDate",fields:[{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0},zConv_zSize:{name:"zConv_zSize",fields:[{type:"raw",field:"zConv"},{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zConv_zDate:{name:"zConv_zDate",fields:[{type:"raw",field:"zConv"},{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0},zType_zSize:{name:"zType_zSize",fields:[{type:"raw",field:"zType"},{type:"raw",field:"zSize"},{type:"raw",field:"noiseId"}],unique:!0},zType_zDate:{name:"zType_zDate",fields:[{type:"raw",field:"zType"},{type:"raw",field:"zDate"},{type:"raw",field:"noiseId"}],unique:!0}}});W.setAdapterSpecificConfigs(o.a.IDB,{migrations:{58:{version:58,scripts:[{type:"create-table"}]},61:{version:61,scripts:[{type:"create-index",params:{indexName:"zKey"}}]},64:{version:64,scripts:[{type:"create-index",params:{indexName:"zSize"}},{type:"create-index",params:{indexName:"zDate"}},{type:"create-index",params:{indexName:"zConv_zSize"}},{type:"create-index",params:{indexName:"zConv_zDate"}},{type:"create-index",params:{indexName:"zType_zSize"}},{type:"create-index",params:{indexName:"zType_zDate"}}]}}});const $={Avatar:d,AvaHistory:c,BoardSuggest:l,CloudSegment:u,Conversation:g,DownloadRetry:f,File:w,Friend:_,FriendsInfo:T,Group:C,GroupInfo:q,GroupTopics:R,Image:D,Label:A,Link:N,Mention:E,Message:x,Notifications:O,Poll:B,StarMessage:j,Sticker:L,Todo:z,Topic:G,TTLMessage:K,E2eeMeta:I,E2eePrekey:v,E2eeSession:M,E2eeIdentity:y,E2eeSignedPrekey:P,E2eeGroup:h,E2eeHash:b,E2eeDeciphered:Q,QuickMessage:F,GlobalNoiseid:S,UploadFileThumb:V,ProductDb:k,CatalogDb:m,PreviewMsg:U,UnreadConv:H,ZCloud:W};const Z={name:"Core",session:!0},Y={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("Core"),s.a.byTable()],partitionsMap:Object(r.a)($)},J={partitionNamingStrategy:[s.a.const("zdb"),s.a.byUser()],partitionsMap:Object(r.b)($)},X=Object(i.a)(Object(i.a)(Object(i.a)({},Z),Y),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),ee=Object(i.a)(Object(i.a)(Object(i.a)({},Z),J),{},{version:64,milestoneVersion:51,type:o.a.IDB});let te=null,ne=null;t.a={schema:$,get useSqlite(){return null===te&&(te=new a.a(X)),te},get useIdb(){return null===ne&&(ne=new a.a(ee)),ne}}},ohhZ:function(e,t,n){},pAGP:function(e,t,n){"use strict";n("jvA1");var i=n("qcQX");n.d(t,"TableConfig",(function(){return i.b}));n("TTNl"),n("qAG0"),n("Ro2z"),n("Cede"),n("Ugdv"),n("ADPh"),n("JMlY")},pP8i:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv"),d=n("pAGP");const c=new d.TableConfig({tableName:"metas",name:"Metas",fields:{id:{name:"id",type:o.g.integer},current:{name:"current",type:o.g.integer,default:0},startups:{name:"startups",type:o.g.json,default:[],nullable:!0},currentPage:{name:"currentPage",type:o.g.integer,default:0},ss:{name:"ss",type:o.g.integer,default:-1},ss_ln:{name:"ss_ln",type:o.g.integer,default:-1}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});var l=n("fsQs");const m=new d.TableConfig({tableName:"modules",name:"Modules",fields:{id:{name:"id",type:o.g.integer},hash:{name:"hash",type:o.g.string},encver:{name:"encver",type:o.g.integer,default:l.u}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"hash"}],unique:!0}}}),u={Pages:new d.TableConfig({tableName:"pages",name:"Pages",fields:{id:{name:"id",type:o.g.integer},mtime:{name:"mtime",type:o.g.integer},data:{name:"data",type:o.g.blob,nullable:!0},curoffs:{name:"curoffs",type:o.g.integer,default:0},max:{name:"max",type:o.g.integer,default:250*l.i}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}}),Metas:c,Modules:m},p={name:"ZLog",session:!1},g={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.const("ZLog"),s.a.byTable()],partitionsMap:Object(r.a)(u)},f={partitionNamingStrategy:[s.a.const("zdb_log")],partitionsMap:Object(r.b)(u)},h=Object(i.a)(Object(i.a)(Object(i.a)({},p),g),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),b=Object(i.a)(Object(i.a)(Object(i.a)({},p),f),{},{version:1,milestoneVersion:1,type:o.a.IDB});let y=null,I=null;t.a={schema:u,get useSqlite(){return null===y&&(y=new a.a(h)),y},get useIdb(){return null===I&&(I=new a.a(b)),I}}},pRxM:function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d={EffectRes:new a.d({tableName:"effect_res",name:"EffectRes",fields:{icon:{name:"icon",type:o.g.string},iconBlob:{name:"iconBlob",type:o.g.blob},genDate:{name:"genDate",type:o.g.integer}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"icon"}],unique:!0}}}),LiveEmoji:new a.d({tableName:"live_emoji",name:"LiveEmoji",fields:{rType:{name:"rType",type:o.g.integer},rIcon:{name:"rIcon",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"rType"}],unique:!0}}}),Reaction:new a.d({tableName:"reaction",name:"Reaction",fields:{idTo:{name:"idTo",type:o.g.string},msgType:{name:"msgType",type:o.g.string},rClientMsgId:{name:"rClientMsgId",type:o.g.integer},rMsgId:{name:"rMsgId",type:o.g.string},rMsgType:{name:"rMsgType",type:o.g.integer,nullable:!0},currentIcon:{name:"currentIcon",type:o.g.integer},reactions:{name:"reactions",type:o.g.json,nullable:!0},lastSender:{name:"lastSender",type:o.g.string,nullable:!0},lastUpdate:{name:"lastUpdate",type:o.g.integer,nullable:!0},lastReceiveReactId:{name:"lastReceiveReactId",type:o.g.integer,nullable:!0},lastReactIcon:{name:"lastReactIcon",type:o.g.integer,nullable:!0},ts:{name:"ts",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"rMsgId"}],unique:!0}}}),UnreadReact:new a.d({tableName:"unread_react",name:"UnreadReact",fields:{userId:{name:"userId",type:o.g.string},conversationId:{name:"conversationId",type:o.g.string},msgId:{name:"msgId",type:o.g.string},reactIcon:{name:"reactIcon",type:o.g.string},reactionId:{name:"reactionId",type:o.g.string},reactionCliId:{name:"reactionCliId",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"conversationId"}],unique:!0}}})},c={name:"Reaction",session:!0},l={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("Reaction"),s.a.byTable()],partitionsMap:Object(r.a)(d)},m={partitionNamingStrategy:[s.a.const("r_db"),s.a.byUser()],partitionsMap:Object(r.b)(d)},u=Object(i.a)(Object(i.a)(Object(i.a)({},c),l),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),p=Object(i.a)(Object(i.a)(Object(i.a)({},c),m),{},{version:4,milestoneVersion:4,type:o.a.IDB});let g=null,f=null;t.a={schema:d,get useSqlite(){return null===g&&(g=new a.a(u)),g},get useIdb(){return null===f&&(f=new a.a(p)),f}}},pjo1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("jDHv");const o=Object(i.define)("database-client")},qAG0:function(e,t,n){"use strict";n("ZICu"),n("KiFO"),n("k6Bk")},qcQX:function(e,t,n){"use strict";var i=n("teaq");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.d}))},rFEu:function(e,t,n){"use strict";n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return q})),n.d(t,"g",(function(){return R})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return N})),n.d(t,"f",(function(){return x})),n.d(t,"b",(function(){return S}));class i{constructor(){this.name=void 0,this.checkingMode=void 0,this.points=void 0}}class o{}class s extends i{constructor(e){super(),this.name=void 0,this.checkingMode=void 0,this.points=void 0,this.name=e.name,this.checkingMode=e.checkingMode||s.DEFAULT_CHECKING_MODE,this.points=e.points}}s.DEFAULT_CHECKING_MODE="sequential";var a=s;class r{constructor(e){this.version=void 0,this.version=(null==e?void 0:e.version)||r.DEFAULT_VERSION}}r.DEFAULT_VERSION=1;var d=r;var c=class extends d{constructor(e){super(e),this.name=void 0,this.condition=void 0,this.qos=void 0,this.points=void 0,this.disabled=void 0,this.name=e.name,this.condition=e.condition,this.qos=e.qos,this.points=e.points,this.disabled=e.disabled}};var l=class extends o{constructor(...e){super(),this.statements=void 0,this.statements=e}getAll(){return this.statements}};var m=class extends d{constructor(e){super(e),this.metrics=void 0,e.metrics.length&&(this.metrics=e.metrics)}getMetrics(){return this.metrics||[]}},u=n("AoYG");var p=class extends d{constructor(e){super(e),this.name=void 0,this.type=void 0,this.config=void 0,this.features=void 0,this.categories=void 0,this.fromProcess=void 0,this.startFromEpoch=void 0,this.showStackTrace=void 0,this.statement=void 0,this.disabled=void 0,this.mode=void 0,this.name=e.name,this.type=e.type||u.a.TIME,this.config=e.config,this.features=e.features,this.categories=e.categories,this.fromProcess=e.fromProcess,this.startFromEpoch=e.startFromEpoch,this.showStackTrace=e.showStackTrace,this.disabled=e.disabled,this.mode=e.mode,e.statement instanceof o?this.statement=e.statement:e.statement instanceof i&&(this.statement=P.StatementGroup(e.statement))}};var g=class extends d{constructor(e){super(),this.schemas=void 0,this.schemas=new Map(Object.entries(e))}getSchemas(){return this.schemas?Array.from(this.schemas.values()):[]}};var f=class extends p{constructor(e){super(e),this.timeline=void 0,this.type=u.a.MEMORY,this.timeline=e.timeline}};var h=class extends p{constructor(e){super(e),this.timeline=void 0,this.type=u.a.CPU,this.timeline=e.timeline}};var b=class extends p{constructor(e){super(e),this.timeout=void 0,this.type=u.a.FPS,this.timeout=e.timeout}};const y=(e,...t)=>new e(...t);var I=class extends d{constructor(...e){super(),this.timeNodes=void 0,this.timeNodes=(e||[]).map((e=>({time:e})))}};var v=class{constructor(e,t){this.defaultValue=e,this.externalConfigs=t}getDefaultValue(){return this.defaultValue}getExternalConfigs(){return this.externalConfigs}};class M{constructor(){}}M.SchemaGroup=e=>y(g,e),M.Schema=e=>y(m,e),M.Metric=e=>y(p,"string"==typeof e?{name:e}:e),M.MetricMemory=e=>y(f,e),M.MetricCPU=e=>y(h,e),M.MetricFps=e=>y(b,e),M.Statement=e=>y(a,e),M.StatPoint=e=>y(c,e),M.StatementGroup=(...e)=>y(l,...e),M.Timeline=(...e)=>y(I,...e),M.Config=(e,t)=>y(v,e,t);var P=M,w=n("dFSO");let _;var T;(T=_||(_={})).time=w.f,T.bytes=w.a,T.notNil=e=>!Object(w.b)(e),T.extractCPUUsage=e=>{var t,n,i;return null===(t=e.data)||void 0===t||null===(n=t.usage)||void 0===n||null===(i=n.cpu)||void 0===i?void 0:i.percent},T.extractHeapUsed=e=>{var t,n,i;return null===(t=e.data)||void 0===t||null===(n=t.usage)||void 0===n||null===(i=n.memory)||void 0===i?void 0:i.heapUsed},T.extractPassedTime=e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.passedTime},T.extractRAM=e=>{var t;return null===(t=e.systemInfo)||void 0===t?void 0:t.totalMem},T.isM1=e=>{var t,n;return"arm"===(null==e||null===(t=e.systemInfo)||void 0===t?void 0:t.arch)||"arm64"===(null==e||null===(n=e.systemInfo)||void 0===n?void 0:n.arch)};var S=_;const C=P.SchemaGroup,q=P.Schema,R=P.Timeline,D=P.Config,A=P.Metric;A.Memory=P.MetricMemory,A.CPU=P.MetricCPU,A.Fps=P.MetricFps;const N=A,E=P.Statement;E.Group=P.StatementGroup,E.Point=P.StatPoint;const x=E},rQsU:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("jDHv");let o=function(e){return e[e.ALL=0]="ALL",e[e.UNREAD=1]="UNREAD",e[e.STRANGER=2]="STRANGER",e[e.FOCUSED=3]="FOCUSED",e[e.ARCHIVED=4]="ARCHIVED",e[e.NONE=-1]="NONE",e}({}),s=function(e){return e[e.ALL=0]="ALL",e[e.UNREAD=1]="UNREAD",e}({});const a="convlist-controller",r=Object(i.define)(a)},"rdC+":function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d={AsyncStore:new a.d({tableName:"async-store",name:"AsyncStore",fields:{key:{name:"key",type:o.g.string},val:{name:"val",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"key"}],unique:!0}}})},c={name:"SecureLocalstorage",session:!1},l={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.const("SecureLocalstorage")],partitionsMap:Object(r.a)(d)},m={partitionNamingStrategy:[s.a.const("zsecure-localstorage")],partitionsMap:Object(r.b)(d)},u=Object(i.a)(Object(i.a)(Object(i.a)({},c),l),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),p=Object(i.a)(Object(i.a)(Object(i.a)({},c),m),{},{version:1,milestoneVersion:1,type:o.a.IDB});let g=null,f=null;t.a={schema:d,get useSqlite(){return null===g&&(g=new a.a(u)),g},get useIdb(){return null===f&&(f=new a.a(p)),f}}},rkiK:function(e,t,n){"use strict";n.r(t);var i=n("cWDS");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n("fbdB");n.d(t,"MetricName",(function(){return s.d})),n.d(t,"MetricEvent",(function(){return s.b})),n.d(t,"MetricCategory",(function(){return s.a})),n.d(t,"MetricFeature",(function(){return s.c}));var a=n("GhaG");n.d(t,"MetriczSystemHelper",(function(){return a.e})),n.d(t,"MetriczDriver",(function(){return a.c})),n.d(t,"MetricTool",(function(){return a.b})),n.d(t,"MetriczUtilsAPI",(function(){return a.f})),n.d(t,"MainAppState",(function(){return a.a})),n.d(t,"MetriczMessenger",(function(){return a.d})),t.default=a.g},rors:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));const i=25,o=500,s={getProcessMemory:"MetriczInternal.getProcessMemory",updateOffsetTime:"MetriczInternal.updateOffsetTime",saveLogsFromRenderer:"MetriczInternal.saveLogsFromRenderer",getPersistedDebugObj:"MetriczInternal.getPersistedDebugObj"}},rvru:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i,o=n("jDHv"),s=n("DI/x"),a=n("12Ui");let r=Object(o.injectable)()(i=function(e,t){return Object(o.inject)(a.a)(e,void 0,0)}(i=Reflect.metadata("design:type",Function)(i=Reflect.metadata("design:paramtypes",[void 0===a.a?Object:a.a])(i=class{constructor(e){this.qos=e,this.stopDBErrorQos=!1,this.dbErrorQosCount=0,this.stopMissingTablesQos={}}sendTimeConsumingQueryQos(e,t){let n=0;n=t<3e4?1:t<6e4?2:3,this.qos.increaseFailed(111023,-0,t,n,Date.now(),[JSON.stringify(e)])}sendDBErrorQos(e){if(!this.stopDBErrorQos){if(e instanceof s.e)e instanceof s.c?this.sendDOMExceptionErrorQos(e):this.sendDALErrorQos(e);else{let t="";"string"==typeof e?t=e:e instanceof Error&&(t=e.message||e.name);const n=new s.i(t);this.sendDALErrorQos(n)}return this.dbErrorQosCount+=1,this.dbErrorQosCount>10?(this.stopDBErrorQos=!0,this.dbErrorQosCount=0,void setTimeout((()=>{this.stopDBErrorQos=!1}),9e5)):void 0}}sendSuccessOpenDBDurationQos(e,t,n){let i=1;n>2e4?i=6:n>15e3?i=5:n>1e4?i=4:n>5e3?i=3:n>1e3&&(i=2),this.qos.increaseFailed(91063,0,0,i,t,[e])}sendLongOpenRequestQos(e){this.qos.increaseFailed(97126,0,0,0,Date.now(),[e])}sendMissingTableQos(e,t){this.stopMissingTablesQos[e]||(this.qos.increaseFailed(91073,0,0,0,Date.now(),[e,...t]),this.stopMissingTablesQos[e]=!0)}sendDALErrorQos(e){this.qos.increaseFailed(97125,0,0,e.code,Date.now(),e.qosParams)}sendDOMExceptionErrorQos(e){let t=-1;switch(e.name){case"IndexSizeError":t=1;break;case"HierarchyRequestError":t=3;break;case"WrongDocumentError":t=4;break;case"InvalidCharacterError":t=5;break;case"NoModificationAllowedError":t=7;break;case"NotFoundError":t=8;break;case"NotSupportedError":t=9;break;case"InUseAttributeError":t=10;break;case"InvalidStateError":t=11;break;case"SyntaxError":t=12;break;case"InvalidModificationError":t=13;break;case"NamespaceError":t=14;break;case"InvalidAccessError":t=15;break;case"SecurityError":t=18;break;case"NetworkError":t=19;break;case"AbortError":t=20;break;case"URLMismatchError":t=21;break;case"QuotaExceededError":t=22;break;case"TimeoutError":t=23;break;case"InvalidNodeTypeError":t=24;break;case"DataCloneError":t=25;break;case"EncodingError":t=26;break;case"NotReadableError":t=27;break;case"UnknownError":t=-1;break;case"ConstraintError":t=28;break;case"DataError":t=29;break;case"TransactionInactiveError":t=30;break;case"ReadOnlyError":t=31;break;case"VersionError":t=32;break;case"OperationError":t=33;break;default:void 0!==e.code&&(t=e.code)}const n=e.message||"";this.qos.increaseFailed(91009,0,0,t,Date.now(),[n])}})||i)||i)||i)||i;const d=Object(o.define)("database-qos");o.ModuleContainer.registerSingleton(d,r)},tHMN:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("jDHv"),o=n("AH6j");n("PmZf");class s extends o.b{}const a=Object(i.define)("database-engine")},teaq:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y}));var i=n("VTBJ"),o=n("75pU"),s=n.n(o),a=n("jDHv"),r=n("UK4g"),d=n("YEoC"),c=n("DI/x");class l{}class m extends l{constructor(e){super(),this.fieldConfigs=void 0,this.fieldConfigs=Object.values(e).map((e=>new p(e)))}getFields(e){return e?this.fieldConfigs.filter((t=>t.type===e)):this.fieldConfigs}getFieldValues(e){return this.getFields().map((t=>e[t.name]))}createValidator(e){const t=this.getFields().filter((e=>!e.autoIncrement)),n=e?t.filter((t=>e.includes(t.name))):t;let i=[`const vldFls = ${JSON.stringify(t.map((e=>e.name)))}`,"const curFlds = Object.keys(v)","for (const field of curFlds) { if (!vldFls.includes(field)) return { ok: false, reason: 3, field }}"].join(";");return i+=n.map((e=>e.type===d.g.json?e.nullable||void 0!==e.defaultValue?"":`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return { ok: false, reason: 1, field: ${e.escapedName}, expected: "object - non-nullable", actual: v[${e.escapedName}] }`:e.nullable?["if (",`v[${e.escapedName}] !== null &&`,`v[${e.escapedName}] !== undefined &&`,`typeof v[${e.escapedName}] !== "${e.jsType}")`,`return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType} - nullable", actual: typeof v[${e.escapedName}] }`].join(""):[`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return ${void 0!==e.defaultValue?"{ ok: true }":`{ ok: false, reason: 1, field: ${e.escapedName}, expected: "non-nullable", actual: typeof v[${e.escapedName}] }`};`,`if (typeof v[${e.escapedName}] !== "${e.jsType}") return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType}", actual: typeof v[${e.escapedName}] }`].join(";"))).join(";").concat(";return { ok: true };"),new Function("v",i)}}class u extends l{constructor(e){super(),this.fieldConfig=void 0,this.fieldConfig=new p(Object(i.a)({name:"data"},e))}getFieldValues(e){return[e]}createValidator(){const e=this.fieldConfig;let t=`const v = { ${e.escapedName}: x };`;return e.type===d.g.json?e.nullable||void 0!==e.defaultValue?t="":t+=`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return { ok: false, reason: 1, field: ${e.escapedName}, expected: "object - non-nullable", actual: v[${e.escapedName}] }`:e.nullable?t+=["if (",`v[${e.escapedName}] !== null &&`,`v[${e.escapedName}] !== undefined &&`,`typeof v[${e.escapedName}] !== "${e.jsType}")`,`return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType} - nullable", actual: typeof v[${e.escapedName}] }`].join(""):t+=[`if (v[${e.escapedName}] === null || v[${e.escapedName}] === undefined) return ${void 0!==e.defaultValue?"{ ok: true }":`{ ok: false, reason: 1, field: ${e.escapedName}, expected: "non-nullable", actual: v[${e.escapedName}] }`};`,`if (typeof v[${e.escapedName}] !== "${e.jsType}") return { ok: false, reason: 2, field: ${e.escapedName}, expected: "${e.jsType}", actual: typeof v[${e.escapedName}] }`].join(";"),t=t.concat(";return { ok: true };"),new Function("x",t)}getFields(e){return e?this.fieldConfig.type===e?[this.fieldConfig]:[]:[this.fieldConfig]}}class p{constructor(e){this._config=e,this.name=void 0,this.nullable=void 0,this.escapedName=void 0,this.type=void 0,this.jsType=void 0,this.autoIncrement=void 0,this.defaultValue=void 0,this.name=e.name,this.nullable=!0===e.nullable,this.escapedName='"'+this.name+'"',this.type=e.type,this.jsType=this.getJsType(),this.autoIncrement=e.autoIncrement,this.defaultValue=e.default}getJsType(){switch(this._config.type){case d.g.blob:return"object";case d.g.boolean:return"boolean";case d.g.float:case d.g.integer:return"number";case d.g.json:return"object";case d.g.string:default:return"string"}}}class g{constructor(e){this._config=e}get name(){return this._config.name}get fields(){return this._config.fields}get unique(){return this._config.unique}get autoIncrement(){return this._config.autoIncrement}getRealFields(){return this._config.fields.filter((e=>"raw"===e.type)).map((e=>e.field))}createKey(e){return this.getRealFields().map((t=>e[t]))}getValue(e,t){if(Array.isArray(e)){return e[this._config.fields.findIndex((e=>e.field===t))]}if(1===this._config.fields.length&&this._config.fields[0].field===t)return e}validateKey(e){let t=!0;return t=Array.isArray(e)?this._config.fields.length===e.length:null!=e&&1===this._config.fields.length,t}}class f{constructor(e){this.commonConfig=e,this.entity=void 0,this.isNonFieldlikeEntity=void 0,this.fieldManager=void 0,this.indices=void 0,this.tableName=void 0,this.name=void 0,this.partitionField=void 0,this.usePartitionTable=void 0,this.primaryIndex=void 0,this.mapNameToIndices=void 0,this.validators=void 0,this.adapterSpecificConfigs=null,this.doesUsePartitionTableCache=new Map,this.dbName=void 0,this.isNonFieldlikeEntity=e.isNonFieldlikeEntity||!1,this.indices=Object.values(e.indices).map((e=>new g(e)));let t=e.fields;if(!this.isNonFieldlikeEntity){const n=new Set;this.indices.forEach((e=>{if(e.autoIncrement){e.fields.forEach((({field:e})=>{n.add(e)}))}})),n.size&&(t=Object.entries(e.fields).reduce(((e,[t,o])=>{const s=Object(i.a)({},o);return n.has(s.name)&&(s.autoIncrement=!0),e[t]=s,e}),{}))}this.fieldManager=this.createConfigFieldManager(t),this.mapNameToIndices=new Map(this.indices.map((e=>[e.name,e]))),this.primaryIndex=this.getPrimaryIndex()||null,e.partitionField?this.usePartitionTable=!this.isNonFieldlikeEntity&&-1===this.primaryIndex.fields.findIndex((t=>t.field===e.partitionField)):this.usePartitionTable=!1,this.name=e.name,this.tableName=e.tableName,this.validators=new Map,this.getIndexPartitionField=s()(this.getIndexPartitionField.bind(this)),this.getRawConfigByAdapterType=s()(this.getRawConfigByAdapterType.bind(this))}doesUsePartitionTable(e){if(void 0===this.doesUsePartitionTableCache.get(e)){let t=!1;const n=this.getRawConfigByAdapterType(e,"partitionField");t=!!n&&(!this.isNonFieldlikeEntity&&-1===this.primaryIndex.fields.findIndex((e=>e.field===n))),this.doesUsePartitionTableCache.set(e,t)}return this.doesUsePartitionTableCache.get(e)}doesHavePartitionByField(e){return!this.isNonFieldlikeEntity&&!!this.getRawConfigByAdapterType(e,"partitionField")}getTransformConfigs(e){return this.getRawConfigByAdapterType(e,"transforms")||[]}getPartitionField(e){var t;return null===(t=this.getRawConfigByAdapterType(e,"partitionField"))||void 0===t?void 0:t.toString()}getMigrationInfos(e){return this.getRawConfigByAdapterType(e,"migrations")||{}}createConfigFieldManager(e){return this.isNonFieldlikeEntity?new u(e):new m(e)}getPrimaryIndex(){if(!this.mapNameToIndices.has("primary")&&!this.isNonFieldlikeEntity)throw new c.s("primary");return this.mapNameToIndices.get("primary")}getIndex(e){const t=this.mapNameToIndices.get(e);if(!t)throw new c.s(e);return t}getIndexPartitionField(e,t){return this.getIndex(t).getRealFields().indexOf(this.getPartitionField(e))}validateFields(e,t){if(r.a){return this.getValidator(t)(e)}return{ok:!0}}validate(e,t=!0){const n=t||this.isNonFieldlikeEntity?void 0:Object.keys(e).sort(),i=this.validateFields(e,n);let o=null;if(!1===i.ok)switch(i.reason){case 1:o=new c.n(`'${i.field}' field is missing!`);break;case 2:o=new c.n(`'${i.field}' field has invalid data type - Expected: ${i.expected} - Actual: ${i.actual}`);break;case 3:o=new c.n(`'${i.field}' field is unknown!`)}if(o)throw o}getValidator(e){const t=e?e.join("-"):"all_fields";if(!this.validators.get(t)){const n=this.fieldManager.createValidator(e);this.validators.set(t,n)}return this.validators.get(t)}getFieldValues(e){return this.fieldManager.getFieldValues(e)}getFields(){return this.fieldManager.getFields()}prepareValue(e,t,n){if(!t)return e;const o=this.getFields().filter((e=>void 0!==e.defaultValue));if(0===o.length)return e;if(n){if(void 0!==e)return e;const{defaultValue:t}=o[0];return"function"==typeof t?t():t}{const t=Object(i.a)({},e);return o.forEach((({name:e,defaultValue:n})=>{if(void 0===t[e]){const i="function"==typeof n?n():n;t[e]=i}})),t}}getRawConfigByAdapterType(e,t){if(null===this.adapterSpecificConfigs)return this.commonConfig[t];const n=this.adapterSpecificConfigs.get(e);if(void 0===n)return this.commonConfig[t];{let e=n[t];return void 0===e?this.commonConfig[t]:e}}setAdapterSpecificConfigs(e,t){null===this.adapterSpecificConfigs&&(this.adapterSpecificConfigs=new Map),this.adapterSpecificConfigs.set(e,t)}}class h{constructor(e,t,n,i,o,s,a){this.database=e,this.type=t,this.name=n,this.version=i,this.milestoneVersion=o,this.cipherKey=s,this.tablesMap=void 0,this.tables=void 0,this.tablesMap=new Map(a.tables.map((e=>[e.name,e]))),this.tables=a.tables,this.tables.forEach((t=>{t.dbName=e}))}getTableConfig(e){return this.tablesMap.get(e)}}class b{get isSqlite(){return this.type===d.a.SQLite}get isIDB(){return this.type===d.a.IDB}get typeName(){return this.type===d.a.IDB?"idb":"sql"}constructor(e){this.partitionsConfigCache=void 0,this.name=void 0,this.version=void 0,this.milestoneVersion=void 0,this.session=void 0,this.available=void 0,this.type=void 0,this.tables=void 0,this.partitionsMap=void 0,this.partitionNamingStrategy=void 0,this.partitionStrategies=void 0,this.supportPartitionByField=void 0,this.name=e.name,this.session=e.session,this.version=e.version,this.milestoneVersion=e.milestoneVersion,this.type=e.type,this.partitionsMap=e.partitionsMap,this.partitionNamingStrategy=e.partitionNamingStrategy,this.partitionStrategies=e.partitionStrategies||[],this.supportPartitionByField=e.type===d.a.SQLite,this.available=!0,this.tables=[],this.partitionsConfigCache=new Map,this.computeDatabaseName=s()(this.computeDatabaseName.bind(this)),this.computePartitionName=s()(this.computePartitionName.bind(this))}clearCache(){this.partitionsConfigCache.clear()}configure(){const e=Object.values(this.partitionsMap);this.tables=e.map((e=>e.tables)).flat()}getPartition(e,t){const n=(null==t?void 0:t.userId)||"",i=(null==t?void 0:t.UIN)||"",o=this.computePartitionName(n,e);let s=this.partitionsConfigCache.get(o);return s||(s=this.createPartitionConfig(o,i),s&&this.partitionsConfigCache.set(o,s)),s}computeDatabaseName(e,t){const n=this.partitionNamingStrategy||[],i=this.type===d.a.IDB?"_":"/",o={session:e,table:t};return n.map((e=>o[e]||e)).join(i)}computePartitionName(e,t){const n=this.partitionStrategies;if(!n||0===n.length)return"default";const i={session:e,table:t};return n.map((e=>i[e]||e)).join("_")}createPartitionConfig(e,t){const n=this.partitionsMap[e];return new h(this.name,this.type,e,this.version,this.milestoneVersion,t,n)}}const y=Object(a.define)("database-config-manager")},uzza:function(e,t,n){"use strict";t.a={usage_memory:"usage_memory",usage_cpu:"usage_cpu",app_cpu_usage:"app_cpu_usage",app_ram_usage:"app_ram_usage",start_up_time:"start_up_time",query_resolution_time:"query_resolution_time",db_ready:"db_ready",authenticate:"authenticate",open_conversation:"open_conversation",open_conversation_no_preload:"open_conv_no_preload",load_bottom_msg_from_db:"load_bottom_msg_from_db",load_top_msg_from_db:"load_top_msg_from_db",load_jump_msg_from_db:"load_jump_msg_from_db",load_conversation_list:"load_conversation_list",conv_load_1st_msg:"conv_1st_load_msg",fps:"fps",fps_lowest_drop:"fps_lowest_drop",fps_scroll_conv_list:"fps_scroll_conv_list",fps_switch_conv:"fps_switch_conv",fps_jump_to_msg:"fps_jump_to_msg",fps_scroll_chat_box_view:"fps_scroll_chat_box_view",fps_switch_main_tab:"fps_switch_main_tab",fps_scroll_global_search_list:"fps_scroll_global_search_list",e2ee_session_record_data_size:"e2ee_session_record_data_size"}},"v+W6":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("N1xz"),o=n("3EqI"),s=n("zFSh");class a extends s.a{constructor(...e){super(...e),this.config=void 0,this._lock=void 0,this._metriczLogWriter=void 0}get Lock(){return this._lock||(this._lock=new o.a),this._lock}get MetriczLogWriter(){return this._metriczLogWriter||(this._metriczLogWriter={write:e=>{}}),this._metriczLogWriter}createLogger(e){return i.a.createLogger(e)}useConfig(e){this.config=e}submitQos(e){var t,n;return null===(t=i.a.MetricResolver)||void 0===t||null===(n=t.qosManager)||void 0===n?void 0:n.logQos(e)}writeLog(e){var t,n;return null===(t=i.a.MetricResolver)||void 0===t||null===(n=t.qosManager)||void 0===n?void 0:n.logQos(e)}getConfig(){return this.config}}var r=n("rkiK");class d extends a{constructor(...e){super(...e),this.storageKeyName=void 0,this.storage=void 0,this.storageCache={},this.isStorageReady=void 0}createStorage(e){if(!this.storage){this.storageKeyName=e;const t=async()=>{await this.Lock.exec("loadSavedKeyValues",(async()=>{if(!this.isStorageReady)return new Promise((e=>{if(!this.isStorageReady){try{const e=n("igA5").default.getInstance(),i=e.getItemForCurrentUser(this.storageKeyName);if(i)try{const e=JSON.parse(i);this.storageCache||(this.storageCache={});for(const t in e)this.storageCache[t]=e[t]}catch(t){e.removeItem(this.storageKeyName)}this.isStorageReady=!0}catch(t){}e()}}))}))},i=async()=>new Promise((e=>{setTimeout((()=>{if(this.storageCache){n("igA5").default.getInstance().setItemForCurrentUser(this.storageKeyName,JSON.stringify(this.storageCache))}e()}),0)})),o=async()=>new Promise((e=>{setTimeout((()=>{if(this.storageCache){n("igA5").default.getInstance().removeItemForCurrentUser(this.storageKeyName)}e()}),0)}));this.storage={get:async e=>{var n;return this.isStorageReady||await t(),null===(n=this.storageCache)||void 0===n?void 0:n[e]},set:async(e,n)=>{this.isStorageReady||await t(),this.storageCache||(this.storageCache={}),this.storageCache[e]=n,i()},delete:async e=>{this.isStorageReady||await t(),this.storageCache&&(delete this.storageCache[e],o())}}}return this.storage}get MetriczLogWriter(){return this._metriczLogWriter||(this._metriczLogWriter={write:e=>{var t;return null===(t=r.MetricTool.getDebugger())||void 0===t?void 0:t.saveLog(e)}}),this._metriczLogWriter}}},vFV3:function(e,t,n){"use strict";n.r(t);var i=n("VTBJ"),o=function(e){return e.SEND_METRICS="send-metrics",e.RESPONSE_METRICS="response-metrics",e}(o||{}),s=o,a=n("73sK");class r{constructor(e,t){this.id=void 0,this.pid=void 0,this.name=void 0,this.destroyed=void 0,this.webContents=void 0,this.webContents=e,this.id=e.id,this.pid=e.getOSProcessId();const n=()=>{this.destroyed=!0,t()};e.addListener("destroyed",n),e.addListener("did-navigate",n)}send(e,t){if(!this.destroyed){if(this.webContents.isCrashed())throw new Error(`Process crashed: ${this.name}`);try{this.webContents.send(e,t)}catch(n){}}}updateInfo(e){e.name&&(this.name=e.name)}isDevToolsOpened(){return this.webContents.isDevToolsOpened()}getDevToolsPid(){var e;if(this.isDevToolsOpened())return null===(e=this.webContents.devToolsWebContents)||void 0===e?void 0:e.getOSProcessId()}toString(){return`${this.id}::${this.pid}::${this.name}`}}class d{constructor(){this.clients=void 0}add(e){const t=e.id,n=new r(e,(()=>{this.remove(t)}));this.clients||(this.clients=new Map),this.clients.set(t,n)}remove(e){var t;null!==(t=this.clients)&&void 0!==t&&t.has(e)&&this.clients.delete(e)}has(e){var t,n;return null!==(t=null===(n=this.clients)||void 0===n?void 0:n.has(e.id))&&void 0!==t&&t}getAll(){var e;return Array.from((null===(e=this.clients)||void 0===e?void 0:e.values())||[]).sort(((e,t)=>e.id-t.id))}getId(e){return e.id}register(e,t){var n;const i=null===(n=this.clients)||void 0===n?void 0:n.get(e);i&&i.updateInfo({name:t})}}t.default=class{constructor(){this._clientManager=void 0,this.listeners=void 0,this.pushMessage=(e,t)=>{var n;const o=e.sender;this.clientManager.has(o)||this.clientManager.add(o),this.checkRegistry(this.clientManager.getId(o),t);const s=t.map((e=>Object(i.a)(Object(i.a)({},e),{},{fromClientId:this.clientManager.getId(o)})));null===(n=this.listeners)||void 0===n||n.forEach((e=>{e(s)}))}}get clientManager(){return this._clientManager||(this._clientManager=new d),this._clientManager}getClients(){return this.clientManager.getAll()}send(e){e.forEach((t=>{const{toClientId:n}=t;if(n){const t=this.getClients().find((e=>e.id===n));t&&t.send(s.RESPONSE_METRICS,e)}}))}onMessage(e){this.listeners||(this.listeners=[]),this.listeners.push(e)}checkRegistry(e,t){var n;const i=t.find((e=>e.action===a.a.REGISTER));null!=i&&null!==(n=i.data)&&void 0!==n&&n.processName&&this.clientManager.register(e,i.data.processName)}}},vQ8b:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("jDHv");const o="convmenu-controller",s=Object(i.define)(o)},wH4e:function(e,t,n){"use strict";var i=n("UK4g");n.d(t,"GET_ALL_RANGE",(function(){return i.b})),n.d(t,"NO_TRANSACTION_ID",(function(){return i.k}));var o=n("YEoC");n.d(t,"AdapterType",(function(){return o.a})),n.d(t,"CursorDirection",(function(){return o.b})),n.d(t,"RunMode",(function(){return o.e})),n.d(t,"TransactionMode",(function(){return o.f})),n.d(t,"ValidDataType",(function(){return o.g}));var s=n("DI/x");n.d(t,"MissingTableConfigError",(function(){return s.v}));var a=n("PmZf");n.d(t,"Events",(function(){return a.b})),n.d(t,"SessionChangeEvent",(function(){return a.e}));var r=n("bSii");n.d(t,"firstOrArray",(function(){return r.a}));var d=n("ibl3");n.o(d,"QueryUtils")&&n.d(t,"QueryUtils",(function(){return d.QueryUtils}));n("xI/L"),n("ohhZ"),n("4W2c");var c=n("YZti");n.d(t,"QueryUtils",(function(){return c.c}));n("kFM4")},x9oK:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f}));var i=n("jDHv"),o=n("AH6j"),s=n("Mgpg"),a=n("YEoC"),r=n("DI/x"),d=n("PmZf"),c=n("YZti"),l=n("Abbu");class m extends o.b{constructor(e,t,n,o,r,d,c){super(),this.partition=e,this.fullName=t,this.transactionManager=n,this.instance=o,this.queryExecutor=r,this.transactionExecutor=d,this.options=c,this.queryExecutorMap=void 0,this.logger=void 0,this.queryExecutorMap={[a.d.Clear]:r.clear.bind(r),[a.d.Get]:r.get.bind(r),[a.d.GetAndUpdate]:r.getAndUpdate.bind(r),[a.d.GetMulti]:r.getMulti.bind(r),[a.d.GetAll]:r.getAll.bind(r),[a.d.GetAllKey]:r.getAllKey.bind(r),[a.d.Insert]:r.insert.bind(r),[a.d.InsertMulti]:r.insertMulti.bind(r),[a.d.Update]:r.update.bind(r),[a.d.UpdateMulti]:r.updateMulti.bind(r),[a.d.Delete]:r.delete.bind(r),[a.d.DeleteMulti]:r.deleteMulti.bind(r),[a.d.FindAndDelete]:r.findAndDelete.bind(r),[a.d.Count]:r.count.bind(r)};const l=i.ModuleContainer.resolve(s.ZLoggerFactory);this.logger=l.createZLogger("db",["adapter"])}get type(){return this.partition.type}getFullName(){return this.fullName}execute(e){e.meta.step=11,l.a.isBeginTransaction(e)?this.transactionExecutor.beginTransaction(e):l.a.isCommitTransaction(e)||(l.a.isCloseDBQuery(e)?this.closeThisDatabase().then(e.deferrer.resolve).catch(e.deferrer.reject):l.a.isDeleteDBQuery(e)?this.deleteThisDatabase().then(e.deferrer.resolve).catch(e.deferrer.reject):l.a.isCloseAllDBsQuery(e)||l.a.isDeleteAllDBsQuery(e)?this.logger.zsymb(21,"eg_I9S",["Unhandled query type: {}","a3NAwr"],e.type):this.executeByQueryExecutor(e))}async closeThisDatabase(){throw new r.a("closeThisDatabase")}async deleteThisDatabase(){throw new r.a("deleteThisDatabase")}executeByQueryExecutor(e){e.timing.handled=Date.now();const t=t=>{const n={adapter:this.partition.type,database:e.database,table:e.table,trans:e.transaction};this.logger.zsymb(18,"qJxCzC",(()=>[c.c.getTypeName(e.type),{logInfo:n,error:t}])),e.deferrer.reject(t)};try{if(e.transaction){const t=this.transactionManager.get(e.transaction),n=performance.now();t.execute((()=>this.queryExecutorMap[e.type](e))).then((t=>{const i=performance.now()-n;this.checkTimeConsumingQuery(e,i),e.deferrer.resolve(t)})).catch(e.deferrer.reject)}else{const t=performance.now();this.queryExecutorMap[e.type](e).then((n=>{const i=performance.now()-t;this.checkTimeConsumingQuery(e,i),e.deferrer.resolve(n)})).catch(e.deferrer.reject)}}catch(n){t(n)}}checkTimeConsumingQuery(e,t){if(t>=5e3){const n={adapter:this.partition.type,database:e.database,table:e.table,trans:e.transaction,type:c.c.getTypeName(e.type)};this.logger.zsymb(18,"K85k1L","Time consuming query:",n,"- Total time: ",t),this.dispatchEvent(new d.g(n,t))}}}const u=`database-adapter-${a.a.IDB}`,p=`database-adapter-${a.a.SQLite}`,g=Object(i.define)(u),f=Object(i.define)(p)},"xI/L":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const i={const:e=>e,byUser:()=>"session",byTable:()=>"table"},o={const:e=>e,byUser:()=>"session",byTable:()=>"table"}},xNSc:function(e,t,n){"use strict";var i=n("N1xz"),o=n("K+9E");i.a.register(o.a.LOCAL_STAT,class{ready(){}record(){}recordUsage(){}recordProcessStats(){}recordFps(){}recordFpsSection(){}recordAppUsage(){}export(){}})},"xS/Y":function(e,t,n){"use strict";var i=n("VTBJ"),o=n("YEoC"),s=n("xI/L"),a=n("teaq"),r=n("C9Dv");const d=new a.d({tableName:"ref",name:"Ref",fields:{msgId:{name:"msgId",type:o.g.string},convId:{name:"convId",type:o.g.string},uid:{name:"uid",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"msgId"}],unique:!0},uid_msgId:{name:"uid_msgId",fields:[{type:"raw",field:"uid"},{type:"raw",field:"msgId"}],unique:!0},convId:{name:"convId",fields:[{type:"raw",field:"convId"}],unique:!1},uid:{name:"uid",fields:[{type:"raw",field:"uid"}],unique:!1}}}),c=new a.d({tableName:"res",name:"Res",fields:{uid:{name:"uid",type:o.g.string},size:{name:"size",type:o.g.integer},type:{name:"type",type:o.g.integer},atime:{name:"atime",type:o.g.integer},params:{name:"params",type:o.g.string}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"uid"}],unique:!0}}}),l=new a.d({tableName:"SyncDownload",name:"SyncDownload",fields:{fromId:{name:"fromId",type:o.g.string},convId:{name:"convId",type:o.g.string},actionId:{name:"actionId",type:o.g.string,nullable:!0},clientMsgId:{name:"clientMsgId",type:o.g.integer},globalMsgId:{name:"globalMsgId",type:o.g.string,nullable:!0},platform:{name:"platform",type:o.g.integer},deviceId:{name:"deviceId",type:o.g.string},actionSource:{name:"actionSource",type:o.g.integer},sendDttm:{name:"sendDttm",type:o.g.integer},status:{name:"status",type:o.g.integer},sendDate:{name:"sendDate",type:o.g.integer},submited:{name:"submited",type:o.g.boolean},mediaType:{name:"mediaType",type:o.g.string,nullable:!0},metaData:{name:"metaData",type:o.g.json,nullable:!0},errorName:{name:"errorName",type:o.g.string,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"convId"},{type:"raw",field:"fromId"},{type:"raw",field:"clientMsgId"}],unique:!0},sendDate_status:{name:"sendDate_status",fields:[{type:"raw",field:"sendDate"},{type:"raw",field:"status"}],unique:!1},actionSource_status_clientMsgId:{name:"actionSource_status_clientMsgId",fields:[{type:"raw",field:"actionSource"},{type:"raw",field:"status"},{type:"raw",field:"clientMsgId"}],unique:!1}}});l.setAdapterSpecificConfigs(o.a.IDB,{migrations:{2:{version:2,scripts:[{type:"create-table"}]},3:{version:3,scripts:[{type:"add-column",params:{columns:["errorName"]}}]}}});const m=new a.d({tableName:"meta",name:"Meta",fields:{id:{name:"id",type:o.g.string},expiredFlag:{name:"expiredFlag",type:o.g.integer,nullable:!0}},indices:{primary:{name:"primary",fields:[{type:"raw",field:"id"}],unique:!0}}});m.setAdapterSpecificConfigs(o.a.IDB,{migrations:{3:{version:3,scripts:[{type:"create-table"}]}}});const u={Ref:d,Res:c,SyncDownload:l,Meta:m},p={name:"Res",session:!0},g={partitionStrategies:[s.b.byTable()],partitionNamingStrategy:[s.a.byUser(),s.a.const("Res"),s.a.byTable()],partitionsMap:Object(r.a)(u)},f={partitionNamingStrategy:[s.a.const("zres"),s.a.byUser()],partitionsMap:Object(r.b)(u)},h=Object(i.a)(Object(i.a)(Object(i.a)({},p),g),{},{version:1,milestoneVersion:1,type:o.a.SQLite}),b=Object(i.a)(Object(i.a)(Object(i.a)({},p),f),{},{version:3,milestoneVersion:1,type:o.a.IDB});let y=null,I=null;t.a={schema:u,get useSqlite(){return null===y&&(y=new a.a(h)),y},get useIdb(){return null===I&&(I=new a.a(b)),I}}},xw7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("KBA3"),o=n("N1xz"),s=n("f1TF");class a{constructor(){this.metricConstructors=void 0,this.lifecycleMetrics=void 0,this._logger=void 0,this._initAt=void 0,this.metricConstructors=[],this.lifecycleMetrics=[]}get Logger(){return this._logger||(this._logger=o.a.createLogger("process-lifecycle")),this._logger}isValidEvent(e){var t;return!1!==(null===(t=i.a.getConfig().toolbox)||void 0===t?void 0:t.enable_process_lifecycle)}ready(){this.install()}install(){throw new Error("Method not implemented.")}init(){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}register(e){this.metricConstructors.push(...e)}getMetrics(){return this._initAt||(this.init(),this._initAt=Date.now()),this.metricConstructors.length&&(this.metricConstructors.forEach((e=>{try{const t=new e;this.lifecycleMetrics.push(t)}catch(t){this.Logger.zsymb(21,"y9BLux",["failed on create metric instance. ERR {}","9e7DGN"],Object(s.b)(t))}})),this.metricConstructors=[]),this.lifecycleMetrics}}},yevd:function(e,t){},zFSh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));var i=n("N1xz"),o=n("CHYU");class s{get Lock(){throw new Error("Method not implemented.")}get MetriczLogWriter(){throw new Error("Method not implemented.")}useConfig(e){throw new Error("Method not implemented.")}createLogger(e){throw new Error("Method not implemented.")}createStorage(e){throw new Error("Method not implemented.")}submitQos(e){throw new Error("Method not implemented.")}getConfig(){throw new Error("Method not implemented.")}}let a,r;!function(e){e.Web=class extends s{};e.Renderer=class extends s{};e.Main=class extends s{}}(a||(a={})),(r||(r={})).install=e=>{i.a.process===o.a.Render?a.Renderer=class extends e{constructor(...e){super(...e)}}:i.a.process===o.a.Web?a.Web=class extends e{constructor(...e){super(...e)}}:i.a.process===o.a.Main&&(a.Main=class extends e{constructor(...e){super(...e)}})}}}]);
//# sourceMappingURL=../sourcemaps/lazy/default-login-main-startup-shared-worker-znotification.923c5487fb8928e9bbf5.js.map